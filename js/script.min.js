const firebaseConfig = {
      apiKey: 'AIzaSyDCHqrIu7LTjcElbyTEjkjB3zqN_LMJHFc',
      authDomain: 'spectal.firebaseapp.com',
      databaseURL: 'https://spectal.firebaseio.com',
      projectId: 'spectal',
      storageBucket: 'spectal.appspot.com',
      appId: '1:867384801306:web:79c8fa283858b0357ab9a3'
};
var app = firebase.initializeApp( firebaseConfig ), list = "";

const db = firebase.firestore( app );
const home = db.collection( 'home' );

function getDat ( id ) { return document.getElementById( id ) };

home.doc( 'about' ).get()
      .then( function ( querySnapshot ) {
            getDat( 'aboutHead' ).innerHTML = querySnapshot.data().heading;
            getDat( 'aboutPara' ).innerHTML = querySnapshot.data().paragraph;
      } )
      .catch( function ( error ) {
            console.log( 'Error getting documents: ', error );
      } );

home.doc( 'services' ).get()
      .then( function ( querySnapshot ) {
            getDat( 'servsHead' ).innerHTML = querySnapshot.data().heading;
            getDat( 'servsPara' ).innerHTML = querySnapshot.data().paragraph;
            list = "";
            querySnapshot.data().services.forEach( service => {
                  list += `
                  <div>
                        <div class="col">
                              <img src="${service.image }">
                              <h2 style="width: auto; text-align: center;">${service.name }</h2>
                        </div>
                  </div>
                  `
            } );
            getDat( 'services' ).innerHTML += `<div id="servsMain" class="services row">${ list }</div>`;
            $( document ).ready( function () {
                  $( '.services' ).slick( {
                        centerMode: true,
                        infinite: true,
                        slidesToShow: 3,
                        slidesToScroll: 1,
                        variableWidth: true,
                        responsive: [
                              {
                                    breakpoint: 768,
                                    settings: 'unslick',
                              },
                        ]
                  } );
            } );
      } )
      .catch( function ( error ) {
            console.log( 'Error getting documents: ', error );
      } );

home.doc( 'artists' ).get()
      .then( function ( querySnapshot ) {
            getDat( 'artsHead' ).innerHTML = querySnapshot.data().heading;
            getDat( 'artsPara' ).innerHTML = querySnapshot.data().paragraph;
            list = "";
            querySnapshot.data().artists.forEach( artist => {
                  list += `
                  <div>
                        <div class="container">
                              <div class="row" style="width: 80%; margin: 0 auto;">
                                    <div class="col-5">
                                    <div class="row">
                                          <div class="col">
                                                <img src="${artist.image }" />
                                          </div>
                                    </div>
                                    <div class="row">
                                          <div class="col">
                                                <button class="artbtn">Learn More</button></div>
                                    </div>
                                    </div>
                                    <div class="col-7" style="background-color: rgba(255,255,255,0.15); padding: 1.5em;">
                                    <div class="row">
                                          <div class="col">
                                                <h3>${artist.superhead }</h3>
                                          </div>
                                    </div>
                                    <div class="row">
                                          <div class="col">
                                                <h2>${artist.name }</h2>
                                          </div>
                                    </div>
                                    <div class="row">
                                          <div class="col">
                                                <p style="padding-top: 1em; font-size: 100%;">${artist.description }</p>
                                          </div>
                                    </div>
                                    <div class="row">
                                          <div class="col">
                                                <p>
                                                <i class="fab fa-youtube articon"></i>
                                                <i class="fab fa-facebook-f articon"></i>
                                                <i class="fab fa-instagram articon"></i>
                                                </p>
                                          </div>
                                    </div>
                                    </div>
                              </div>
                        </div>
                  </div>
                  `
            } );
            getDat( 'artists' ).innerHTML += `<div id="artsMain" class="artists row">${ list }</div>`;
            $( document ).ready( function () {
                  $( '.artists' ).slick( {
                        centerMode: true,
                        infinite: true,
                        slidesToShow: 1,
                        slidesToScroll: 1,
                        autoplay: true,
                        autoplaySpeed: 1000
                  } );
            } );
      } )
      .catch( function ( error ) {
            console.log( 'Error getting documents: ', error );
      } );

home.doc( 'brands' ).get()
      .then( function ( querySnapshot ) {
            getDat( 'brandsHead' ).innerHTML = querySnapshot.data().heading;
            getDat( 'brandsPara' ).innerHTML = querySnapshot.data().paragraph;
            list = "";
            querySnapshot.data().brands.forEach( brand => {
                  console.log( brand );
                  list += `
                  <div>
                        <div class="col">
                              <img src="${brand.image }">
                              <p>${brand.paragraph }</p>
                        </div>
                  </div>
                  <div>
                        <div class="col">
                              <img src="${brand.image }">
                              <p>${brand.paragraph }</p>
                        </div>
                  </div>
                  `
            } );
            getDat( 'brands' ).innerHTML += `<div id="brandsMain" class="brands row">${ list }</div>`;
            $( document ).ready( function () {
                  $( '.brands' ).slick( {
                        centerMode: true,
                        infinite: true,
                        slidesToShow: 3,
                        slidesToScroll: 1,
                        autoplay: true,
                        autoplaySpeed: 1000
                  } );
            } );
      } )
      .catch( function ( error ) {
            console.log( 'Error getting documents: ', error );
      } );