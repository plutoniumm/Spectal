/*! jQuery v3.5.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.5.1",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),D=function(e,t){return e===t&&(l=!0),0},j={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&j.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(D),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(D).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var j,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||j,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,j=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^key/,we=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Te=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function Ee(){return!1}function Se(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function ke(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)ke(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ee;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Ae(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,Ce)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=Te.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=Te.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Ae(t,"click",Ce),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Ae(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:Ee,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Ee,isPropagationStopped:Ee,isImmediatePropagationStopped:Ee,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&be.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&we.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Ae(this,e,Se),!1},trigger:function(){return Ae(this,e),!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return ke(this,e,t,n,r)},one:function(e,t,n,r){return ke(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ee),this.each(function(){S.event.remove(this,e,n,t)})}});var Ne=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function qe(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function Le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function He(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Oe(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function Pe(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&De.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),Pe(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),Le)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,He),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(je,""),u,l))}return n}function Re(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Oe(o[r],a[r]);else Oe(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Re(this,e,!0)},remove:function(e){return Re(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Pe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||qe(this,e).appendChild(e)})},prepend:function(){return Pe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=qe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Pe(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Me=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Ie=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},We=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Fe=new RegExp(ne.join("|"),"i");function Be(e,t,n){var r,i,o,a,s=e.style;return(n=n||Ie(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Me.test(a)&&Fe.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function $e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",n.style.height="9px",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=3<parseInt(r.height),re.removeChild(e)),a}}))}();var _e=["Webkit","Moz","ms"],ze=E.createElement("div").style,Ue={};function Xe(e){var t=S.cssProps[e]||Ue[e];return t||(e in ze?e:Ue[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=_e.length;while(n--)if((e=_e[n]+t)in ze)return e}(e)||e)}var Ve=/^(none|table(?!-c[ea]).+)/,Ge=/^--/,Ye={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"};function Je(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ke(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Ze(e,t,n){var r=Ie(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=Be(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Me.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Ke(e,t,n||(i?"border":"content"),o,r,a)+"px"}function et(e,t,n,r,i){return new et.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Be(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Ge.test(t),l=e.style;if(u||(t=Xe(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Ge.test(t)||(t=Xe(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Be(e,t,r)),"normal"===i&&t in Qe&&(i=Qe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ve.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,u,n):We(e,Ye,function(){return Ze(e,u,n)})},set:function(e,t,n){var r,i=Ie(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Ke(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Ke(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Je(0,t,s)}}}),S.cssHooks.marginLeft=$e(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-We(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Je)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Ie(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=et).prototype={constructor:et,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[Xe(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=et.prototype.init,S.fx.step={};var tt,nt,rt,it,ot=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function st(){nt&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(st):C.setTimeout(st,S.fx.interval),S.fx.tick())}function ut(){return C.setTimeout(function(){tt=void 0}),tt=Date.now()}function lt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ct(e,t,n){for(var r,i=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ft(o,e,t){var n,a,r=0,i=ft.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=tt||ut(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:tt||ut(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=ft.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ct,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],ft.tweeners[n]=ft.tweeners[n]||[],ft.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ot.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ct(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=ft(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&at.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(lt(r,!0),e,t,n)}}),S.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),tt=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){nt||(nt=!0,st())},S.fx.stop=function(){nt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},rt=E.createElement("input"),it=E.createElement("select").appendChild(E.createElement("option")),rt.type="checkbox",y.checkOn=""!==rt.value,y.optSelected=it.selected,(rt=E.createElement("input")).value="t",rt.type="radio",y.radioValue="t"===rt.value;var pt,dt=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),pt={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=dt[t]||S.find.attr;dt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=dt[o],dt[o]=r,r=null!=a(e,t,n)?o:null,dt[o]=i),r}});var ht=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function vt(e){return(e.match(P)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,yt(this)))});if((e=mt(t)).length)while(n=this[u++])if(i=yt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,yt(this)))});if(!arguments.length)return this.attr("class","");if((e=mt(t)).length)while(n=this[u++])if(i=yt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,yt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=mt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=yt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+vt(yt(n))+" ").indexOf(t))return!0;return!1}});var xt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(xt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:vt(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var bt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!bt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,bt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,wt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,wt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var Tt=C.location,Ct={guid:Date.now()},Et=/\?/;S.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+e),t};var St=/\[\]$/,kt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;function Dt(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||St.test(n)?i(n,t):Dt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)Dt(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)Dt(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Nt.test(this.nodeName)&&!At.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var jt=/%20/g,qt=/#.*$/,Lt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,Pt=/^\/\//,Rt={},Mt={},It="*/".concat("*"),Wt=E.createElement("a");function Ft(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Bt(t,i,o,a){var s={},u=t===Mt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function $t(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Wt.href=Tt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?$t($t(e,S.ajaxSettings),t):$t(S.ajaxSettings,e)},ajaxPrefilter:Ft(Rt),ajaxTransport:Ft(Mt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Ht.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Tt.href)+"").replace(Pt,Tt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Wt.protocol+"//"+Wt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Bt(Rt,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Ot.test(v.type),f=v.url.replace(qt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(jt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Et.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Lt,"$1"),o=(Et.test(f)?"&":"?")+"_="+Ct.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+It+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Bt(Mt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var _t={0:200,1223:204},zt=S.ajaxSettings.xhr();y.cors=!!zt&&"withCredentials"in zt,y.ajax=zt=!!zt,S.ajaxTransport(function(i){var o,a;if(y.cors||zt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(_t[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var Ut,Xt=[],Vt=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||S.expando+"_"+Ct.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Vt,"$1"+r):!1!==e.jsonp&&(e.url+=(Et.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((Ut=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ut.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=vt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):("number"==typeof f.top&&(f.top+="px"),"number"==typeof f.left&&(f.left+="px"),c.css(f))}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=$e(y.pixelPosition,function(e,t){if(t)return t=Be(e,n),Me.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Gt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Gt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Yt=C.jQuery,Qt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Qt),e&&C.jQuery===S&&(C.jQuery=Yt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],e):e((t=t||self).bootstrap={},t.jQuery)}(this,(function(t,e){"use strict";function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;function a(t){var n=this,i=!1;return e(this).one(l.TRANSITION_END,(function(){i=!0})),setTimeout((function(){i||l.triggerTransitionEnd(n)}),t),this}var l={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var n=e(t).css("transition-duration"),i=e(t).css("transition-delay"),o=parseFloat(n),r=parseFloat(i);return o||r?(n=n.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(n)+parseFloat(i))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger("transitionend")},supportsTransitionEnd:function(){return Boolean("transitionend")},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var o=n[i],r=e[i],s=r&&l.isElement(r)?"element":null===(a=r)||"undefined"==typeof a?""+a:{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(s))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+s+'" but expected type "'+o+'".')}var a},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?l.findShadowRoot(t.parentNode):null},jQueryDetection:function(){if("undefined"==typeof e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};l.jQueryDetection(),e.fn.emulateTransitionEnd=a,e.event.special[l.TRANSITION_END]={bindType:"transitionend",delegateType:"transitionend",handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var c="alert",u=e.fn[c],h=function(){function t(t){this._element=t}var n=t.prototype;return n.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},n.dispose=function(){e.removeData(this._element,"bs.alert"),this._element=null},n._getRootElement=function(t){var n=l.getSelectorFromElement(t),i=!1;return n&&(i=document.querySelector(n)),i||(i=e(t).closest(".alert")[0]),i},n._triggerCloseEvent=function(t){var n=e.Event("close.bs.alert");return e(t).trigger(n),n},n._removeElement=function(t){var n=this;if(e(t).removeClass("show"),e(t).hasClass("fade")){var i=l.getTransitionDurationFromElement(t);e(t).one(l.TRANSITION_END,(function(e){return n._destroyElement(t,e)})).emulateTransitionEnd(i)}else this._destroyElement(t)},n._destroyElement=function(t){e(t).detach().trigger("closed.bs.alert").remove()},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),o=i.data("bs.alert");o||(o=new t(this),i.data("bs.alert",o)),"close"===n&&o[n](this)}))},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},i(t,null,[{key:"VERSION",get:function(){return"4.5.0"}}]),t}();e(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',h._handleDismiss(new h)),e.fn[c]=h._jQueryInterface,e.fn[c].Constructor=h,e.fn[c].noConflict=function(){return e.fn[c]=u,h._jQueryInterface};var f=e.fn.button,d=function(){function t(t){this._element=t}var n=t.prototype;return n.toggle=function(){var t=!0,n=!0,i=e(this._element).closest('[data-toggle="buttons"]')[0];if(i){var o=this._element.querySelector('input:not([type="hidden"])');if(o){if("radio"===o.type)if(o.checked&&this._element.classList.contains("active"))t=!1;else{var r=i.querySelector(".active");r&&e(r).removeClass("active")}t&&("checkbox"!==o.type&&"radio"!==o.type||(o.checked=!this._element.classList.contains("active")),e(o).trigger("change")),o.focus(),n=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains("active")),t&&e(this._element).toggleClass("active"))},n.dispose=function(){e.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.button");i||(i=new t(this),e(this).data("bs.button",i)),"toggle"===n&&i[n]()}))},i(t,null,[{key:"VERSION",get:function(){return"4.5.0"}}]),t}();e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',(function(t){var n=t.target,i=n;if(e(n).hasClass("btn")||(n=e(n).closest(".btn")[0]),!n||n.hasAttribute("disabled")||n.classList.contains("disabled"))t.preventDefault();else{var o=n.querySelector('input:not([type="hidden"])');if(o&&(o.hasAttribute("disabled")||o.classList.contains("disabled")))return void t.preventDefault();"LABEL"===i.tagName&&o&&"checkbox"===o.type&&t.preventDefault(),d._jQueryInterface.call(e(n),"toggle")}})).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',(function(t){var n=e(t.target).closest(".btn")[0];e(n).toggleClass("focus",/^focus(in)?$/.test(t.type))})),e(window).on("load.bs.button.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),e=0,n=t.length;e<n;e++){var i=t[e],o=i.querySelector('input:not([type="hidden"])');o.checked||o.hasAttribute("checked")?i.classList.add("active"):i.classList.remove("active")}for(var r=0,s=(t=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;r<s;r++){var a=t[r];"true"===a.getAttribute("aria-pressed")?a.classList.add("active"):a.classList.remove("active")}})),e.fn.button=d._jQueryInterface,e.fn.button.Constructor=d,e.fn.button.noConflict=function(){return e.fn.button=f,d._jQueryInterface};var p="carousel",m=".bs.carousel",g=e.fn[p],v={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},_={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},b={TOUCH:"touch",PEN:"pen"},y=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var n=t.prototype;return n.next=function(){this._isSliding||this._slide("next")},n.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},n.prev=function(){this._isSliding||this._slide("prev")},n.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(l.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},n.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},n.to=function(t){var n=this;this._activeElement=this._element.querySelector(".active.carousel-item");var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one("slid.bs.carousel",(function(){return n.to(t)}));else{if(i===t)return this.pause(),void this.cycle();var o=t>i?"next":"prev";this._slide(o,this._items[t])}},n.dispose=function(){e(this._element).off(m),e.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},n._getConfig=function(t){return t=s(s({},v),t),l.typeCheckConfig(p,t,_),t},n._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;this.touchDeltaX=0,e>0&&this.prev(),e<0&&this.next()}},n._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on("keydown.bs.carousel",(function(e){return t._keydown(e)})),"hover"===this._config.pause&&e(this._element).on("mouseenter.bs.carousel",(function(e){return t.pause(e)})).on("mouseleave.bs.carousel",(function(e){return t.cycle(e)})),this._config.touch&&this._addTouchEventListeners()},n._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var n=function(e){t._pointerEvent&&b[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},i=function(e){t._pointerEvent&&b[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),500+t._config.interval))};e(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",(function(t){return t.preventDefault()})),this._pointerEvent?(e(this._element).on("pointerdown.bs.carousel",(function(t){return n(t)})),e(this._element).on("pointerup.bs.carousel",(function(t){return i(t)})),this._element.classList.add("pointer-event")):(e(this._element).on("touchstart.bs.carousel",(function(t){return n(t)})),e(this._element).on("touchmove.bs.carousel",(function(e){return function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX}(e)})),e(this._element).on("touchend.bs.carousel",(function(t){return i(t)})))}},n._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},n._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(t)},n._getItemByDirection=function(t,e){var n="next"===t,i="prev"===t,o=this._getItemIndex(e),r=this._items.length-1;if((i&&0===o||n&&o===r)&&!this._config.wrap)return e;var s=(o+("prev"===t?-1:1))%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},n._triggerSlideEvent=function(t,n){var i=this._getItemIndex(t),o=this._getItemIndex(this._element.querySelector(".active.carousel-item")),r=e.Event("slide.bs.carousel",{relatedTarget:t,direction:n,from:o,to:i});return e(this._element).trigger(r),r},n._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var n=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));e(n).removeClass("active");var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&e(i).addClass("active")}},n._slide=function(t,n){var i,o,r,s=this,a=this._element.querySelector(".active.carousel-item"),c=this._getItemIndex(a),u=n||a&&this._getItemByDirection(t,a),h=this._getItemIndex(u),f=Boolean(this._interval);if("next"===t?(i="carousel-item-left",o="carousel-item-next",r="left"):(i="carousel-item-right",o="carousel-item-prev",r="right"),u&&e(u).hasClass("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(u,r).isDefaultPrevented()&&a&&u){this._isSliding=!0,f&&this.pause(),this._setActiveIndicatorElement(u);var d=e.Event("slid.bs.carousel",{relatedTarget:u,direction:r,from:c,to:h});if(e(this._element).hasClass("slide")){e(u).addClass(o),l.reflow(u),e(a).addClass(i),e(u).addClass(i);var p=parseInt(u.getAttribute("data-interval"),10);p?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=p):this._config.interval=this._config.defaultInterval||this._config.interval;var m=l.getTransitionDurationFromElement(a);e(a).one(l.TRANSITION_END,(function(){e(u).removeClass(i+" "+o).addClass("active"),e(a).removeClass("active "+o+" "+i),s._isSliding=!1,setTimeout((function(){return e(s._element).trigger(d)}),0)})).emulateTransitionEnd(m)}else e(a).removeClass("active"),e(u).addClass("active"),this._isSliding=!1,e(this._element).trigger(d);f&&this.cycle()}},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.carousel"),o=s(s({},v),e(this).data());"object"==typeof n&&(o=s(s({},o),n));var r="string"==typeof n?n:o.slide;if(i||(i=new t(this,o),e(this).data("bs.carousel",i)),"number"==typeof n)i.to(n);else if("string"==typeof r){if("undefined"==typeof i[r])throw new TypeError('No method named "'+r+'"');i[r]()}else o.interval&&o.ride&&(i.pause(),i.cycle())}))},t._dataApiClickHandler=function(n){var i=l.getSelectorFromElement(this);if(i){var o=e(i)[0];if(o&&e(o).hasClass("carousel")){var r=s(s({},e(o).data()),e(this).data()),a=this.getAttribute("data-slide-to");a&&(r.interval=!1),t._jQueryInterface.call(e(o),r),a&&e(o).data("bs.carousel").to(a),n.preventDefault()}}},i(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return v}}]),t}();e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",y._dataApiClickHandler),e(window).on("load.bs.carousel.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),n=0,i=t.length;n<i;n++){var o=e(t[n]);y._jQueryInterface.call(o,o.data())}})),e.fn[p]=y._jQueryInterface,e.fn[p].Constructor=y,e.fn[p].noConflict=function(){return e.fn[p]=g,y._jQueryInterface};var w="collapse",E=e.fn[w],T={toggle:!0,parent:""},C={toggle:"boolean",parent:"(string|element)"},S=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll('[data-toggle="collapse"]')),i=0,o=n.length;i<o;i++){var r=n[i],s=l.getSelectorFromElement(r),a=[].slice.call(document.querySelectorAll(s)).filter((function(e){return e===t}));null!==s&&a.length>0&&(this._selector=s,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var n=t.prototype;return n.toggle=function(){e(this._element).hasClass("show")?this.hide():this.show()},n.show=function(){var n,i,o=this;if(!this._isTransitioning&&!e(this._element).hasClass("show")&&(this._parent&&0===(n=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter((function(t){return"string"==typeof o._config.parent?t.getAttribute("data-parent")===o._config.parent:t.classList.contains("collapse")}))).length&&(n=null),!(n&&(i=e(n).not(this._selector).data("bs.collapse"))&&i._isTransitioning))){var r=e.Event("show.bs.collapse");if(e(this._element).trigger(r),!r.isDefaultPrevented()){n&&(t._jQueryInterface.call(e(n).not(this._selector),"hide"),i||e(n).data("bs.collapse",null));var s=this._getDimension();e(this._element).removeClass("collapse").addClass("collapsing"),this._element.style[s]=0,this._triggerArray.length&&e(this._triggerArray).removeClass("collapsed").attr("aria-expanded",!0),this.setTransitioning(!0);var a="scroll"+(s[0].toUpperCase()+s.slice(1)),c=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,(function(){e(o._element).removeClass("collapsing").addClass("collapse show"),o._element.style[s]="",o.setTransitioning(!1),e(o._element).trigger("shown.bs.collapse")})).emulateTransitionEnd(c),this._element.style[s]=this._element[a]+"px"}}},n.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass("show")){var n=e.Event("hide.bs.collapse");if(e(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",l.reflow(this._element),e(this._element).addClass("collapsing").removeClass("collapse show");var o=this._triggerArray.length;if(o>0)for(var r=0;r<o;r++){var s=this._triggerArray[r],a=l.getSelectorFromElement(s);if(null!==a)e([].slice.call(document.querySelectorAll(a))).hasClass("show")||e(s).addClass("collapsed").attr("aria-expanded",!1)}this.setTransitioning(!0);this._element.style[i]="";var c=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,(function(){t.setTransitioning(!1),e(t._element).removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")})).emulateTransitionEnd(c)}}},n.setTransitioning=function(t){this._isTransitioning=t},n.dispose=function(){e.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},n._getConfig=function(t){return(t=s(s({},T),t)).toggle=Boolean(t.toggle),l.typeCheckConfig(w,t,C),t},n._getDimension=function(){return e(this._element).hasClass("width")?"width":"height"},n._getParent=function(){var n,i=this;l.isElement(this._config.parent)?(n=this._config.parent,"undefined"!=typeof this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var o='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',r=[].slice.call(n.querySelectorAll(o));return e(r).each((function(e,n){i._addAriaAndCollapsedClass(t._getTargetFromElement(n),[n])})),n},n._addAriaAndCollapsedClass=function(t,n){var i=e(t).hasClass("show");n.length&&e(n).toggleClass("collapsed",!i).attr("aria-expanded",i)},t._getTargetFromElement=function(t){var e=l.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),o=i.data("bs.collapse"),r=s(s(s({},T),i.data()),"object"==typeof n&&n?n:{});if(!o&&r.toggle&&"string"==typeof n&&/show|hide/.test(n)&&(r.toggle=!1),o||(o=new t(this,r),i.data("bs.collapse",o)),"string"==typeof n){if("undefined"==typeof o[n])throw new TypeError('No method named "'+n+'"');o[n]()}}))},i(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return T}}]),t}();e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',(function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var n=e(this),i=l.getSelectorFromElement(this),o=[].slice.call(document.querySelectorAll(i));e(o).each((function(){var t=e(this),i=t.data("bs.collapse")?"toggle":n.data();S._jQueryInterface.call(t,i)}))})),e.fn[w]=S._jQueryInterface,e.fn[w].Constructor=S,e.fn[w].noConflict=function(){return e.fn[w]=E,S._jQueryInterface};var D="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,k=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(D&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();var N=D&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),k))}};function O(t){return t&&"[object Function]"==={}.toString.call(t)}function A(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function I(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function x(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=A(t),n=e.overflow,i=e.overflowX,o=e.overflowY;return/(auto|scroll|overlay)/.test(n+o+i)?t:x(I(t))}function j(t){return t&&t.referenceNode?t.referenceNode:t}var L=D&&!(!window.MSInputMethodContext||!document.documentMode),P=D&&/MSIE 10/.test(navigator.userAgent);function F(t){return 11===t?L:10===t?P:L||P}function R(t){if(!t)return document.documentElement;for(var e=F(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===A(n,"position")?R(n):n:t?t.ownerDocument.documentElement:document.documentElement}function M(t){return null!==t.parentNode?M(t.parentNode):t}function B(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,o=n?e:t,r=document.createRange();r.setStart(i,0),r.setEnd(o,0);var s,a,l=r.commonAncestorContainer;if(t!==l&&e!==l||i.contains(o))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&R(s.firstElementChild)!==s?R(l):l;var c=M(t);return c.host?B(c.host,e):B(t,M(e).host)}function q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"===i||"HTML"===i){var o=t.ownerDocument.documentElement,r=t.ownerDocument.scrollingElement||o;return r[n]}return t[n]}function H(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=q(e,"top"),o=q(e,"left"),r=n?-1:1;return t.top+=i*r,t.bottom+=i*r,t.left+=o*r,t.right+=o*r,t}function Q(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function W(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],F(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function U(t){var e=t.body,n=t.documentElement,i=F(10)&&getComputedStyle(n);return{height:W("Height",e,n,i),width:W("Width",e,n,i)}}var V=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Y=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),z=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},X=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function K(t){return X({},t,{right:t.left+t.width,bottom:t.top+t.height})}function G(t){var e={};try{if(F(10)){e=t.getBoundingClientRect();var n=q(t,"top"),i=q(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?U(t.ownerDocument):{},s=r.width||t.clientWidth||o.width,a=r.height||t.clientHeight||o.height,l=t.offsetWidth-s,c=t.offsetHeight-a;if(l||c){var u=A(t);l-=Q(u,"x"),c-=Q(u,"y"),o.width-=l,o.height-=c}return K(o)}function $(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=F(10),o="HTML"===e.nodeName,r=G(t),s=G(e),a=x(t),l=A(e),c=parseFloat(l.borderTopWidth,10),u=parseFloat(l.borderLeftWidth,10);n&&o&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=K({top:r.top-s.top-c,left:r.left-s.left-u,width:r.width,height:r.height});if(h.marginTop=0,h.marginLeft=0,!i&&o){var f=parseFloat(l.marginTop,10),d=parseFloat(l.marginLeft,10);h.top-=c-f,h.bottom-=c-f,h.left-=u-d,h.right-=u-d,h.marginTop=f,h.marginLeft=d}return(i&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(h=H(h,e)),h}function J(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=$(t,n),o=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:q(n),a=e?0:q(n,"left"),l={top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:o,height:r};return K(l)}function Z(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===A(t,"position"))return!0;var n=I(t);return!!n&&Z(n)}function tt(t){if(!t||!t.parentElement||F())return document.documentElement;for(var e=t.parentElement;e&&"none"===A(e,"transform");)e=e.parentElement;return e||document.documentElement}function et(t,e,n,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},s=o?tt(t):B(t,j(e));if("viewport"===i)r=J(s,o);else{var a=void 0;"scrollParent"===i?"BODY"===(a=x(I(e))).nodeName&&(a=t.ownerDocument.documentElement):a="window"===i?t.ownerDocument.documentElement:i;var l=$(a,s,o);if("HTML"!==a.nodeName||Z(s))r=l;else{var c=U(t.ownerDocument),u=c.height,h=c.width;r.top+=l.top-l.marginTop,r.bottom=u+l.top,r.left+=l.left-l.marginLeft,r.right=h+l.left}}var f="number"==typeof(n=n||0);return r.left+=f?n:n.left||0,r.top+=f?n:n.top||0,r.right-=f?n:n.right||0,r.bottom-=f?n:n.bottom||0,r}function nt(t){return t.width*t.height}function it(t,e,n,i,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=et(n,i,r,o),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map((function(t){return X({key:t},a[t],{area:nt(a[t])})})).sort((function(t,e){return e.area-t.area})),c=l.filter((function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,h=t.split("-")[1];return u+(h?"-"+h:"")}function ot(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=i?tt(e):B(e,j(n));return $(n,o,i)}function rt(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function st(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function at(t,e,n){n=n.split("-")[0];var i=rt(t),o={width:i.width,height:i.height},r=-1!==["right","left"].indexOf(n),s=r?"top":"left",a=r?"left":"top",l=r?"height":"width",c=r?"width":"height";return o[s]=e[s]+e[l]/2-i[l]/2,o[a]=n===a?e[a]-i[c]:e[st(a)],o}function lt(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function ct(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var i=lt(t,(function(t){return t[e]===n}));return t.indexOf(i)}(t,"name",n))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&O(n)&&(e.offsets.popper=K(e.offsets.popper),e.offsets.reference=K(e.offsets.reference),e=n(e,t))})),e}function ut(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=ot(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=it(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=at(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=ct(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function ht(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function ft(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var o=e[i],r=o?""+o+n:t;if("undefined"!=typeof document.body.style[r])return r}return null}function dt(){return this.state.isDestroyed=!0,ht(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[ft("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function pt(t){var e=t.ownerDocument;return e?e.defaultView:window}function mt(t,e,n,i){n.updateBound=i,pt(t).addEventListener("resize",n.updateBound,{passive:!0});var o=x(t);return function t(e,n,i,o){var r="BODY"===e.nodeName,s=r?e.ownerDocument.defaultView:e;s.addEventListener(n,i,{passive:!0}),r||t(x(s.parentNode),n,i,o),o.push(s)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function gt(){this.state.eventsEnabled||(this.state=mt(this.reference,this.options,this.state,this.scheduleUpdate))}function vt(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,pt(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function _t(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function bt(t,e){Object.keys(e).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&_t(e[n])&&(i="px"),t.style[n]=e[n]+i}))}var yt=D&&/Firefox/i.test(navigator.userAgent);function wt(t,e,n){var i=lt(t,(function(t){return t.name===e})),o=!!i&&t.some((function(t){return t.name===n&&t.enabled&&t.order<i.order}));if(!o){var r="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return o}var Et=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Tt=Et.slice(3);function Ct(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Tt.indexOf(t),i=Tt.slice(n+1).concat(Tt.slice(0,n));return e?i.reverse():i}var St="flip",Dt="clockwise",kt="counterclockwise";function Nt(t,e,n,i){var o=[0,0],r=-1!==["right","left"].indexOf(i),s=t.split(/(\+|\-)/).map((function(t){return t.trim()})),a=s.indexOf(lt(s,(function(t){return-1!==t.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return(c=c.map((function(t,i){var o=(1===i?!r:r)?"height":"width",s=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,i){var o=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+o[1],s=o[2];if(!r)return t;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return K(a)[e]/100*r}if("vh"===s||"vw"===s){return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r}return r}(t,o,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,i){_t(n)&&(o[e]+=n*("-"===t[i-1]?-1:1))}))})),o}var Ot={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var o=t.offsets,r=o.reference,s=o.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",u={start:z({},l,r[l]),end:z({},l,r[l]+r[c]-s[c])};t.offsets.popper=X({},s,u[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,i=t.placement,o=t.offsets,r=o.popper,s=o.reference,a=i.split("-")[0],l=void 0;return l=_t(+n)?[+n,0]:Nt(n,r,s,a),"left"===a?(r.top+=l[0],r.left-=l[1]):"right"===a?(r.top+=l[0],r.left+=l[1]):"top"===a?(r.left+=l[0],r.top-=l[1]):"bottom"===a&&(r.left+=l[0],r.top+=l[1]),t.popper=r,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||R(t.instance.popper);t.instance.reference===n&&(n=R(n));var i=ft("transform"),o=t.instance.popper.style,r=o.top,s=o.left,a=o[i];o.top="",o.left="",o[i]="";var l=et(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);o.top=r,o.left=s,o[i]=a,e.boundaries=l;var c=e.priority,u=t.offsets.popper,h={primary:function(t){var n=u[t];return u[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(u[t],l[t])),z({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=u[n];return u[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(u[n],l[t]-("right"===t?u.width:u.height))),z({},n,i)}};return c.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=X({},u,h[e](t))})),t.offsets.popper=u,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,o=t.placement.split("-")[0],r=Math.floor,s=-1!==["top","bottom"].indexOf(o),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<r(i[l])&&(t.offsets.popper[l]=r(i[l])-n[c]),n[l]>r(i[a])&&(t.offsets.popper[l]=r(i[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!wt(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var o=t.placement.split("-")[0],r=t.offsets,s=r.popper,a=r.reference,l=-1!==["left","right"].indexOf(o),c=l?"height":"width",u=l?"Top":"Left",h=u.toLowerCase(),f=l?"left":"top",d=l?"bottom":"right",p=rt(i)[c];a[d]-p<s[h]&&(t.offsets.popper[h]-=s[h]-(a[d]-p)),a[h]+p>s[d]&&(t.offsets.popper[h]+=a[h]+p-s[d]),t.offsets.popper=K(t.offsets.popper);var m=a[h]+a[c]/2-p/2,g=A(t.instance.popper),v=parseFloat(g["margin"+u],10),_=parseFloat(g["border"+u+"Width"],10),b=m-t.offsets.popper[h]-v-_;return b=Math.max(Math.min(s[c]-p,b),0),t.arrowElement=i,t.offsets.arrow=(z(n={},h,Math.round(b)),z(n,f,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(ht(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=et(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],o=st(i),r=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case St:s=[i,o];break;case Dt:s=Ct(i);break;case kt:s=Ct(i,!0);break;default:s=e.behavior}return s.forEach((function(a,l){if(i!==a||s.length===l+1)return t;i=t.placement.split("-")[0],o=st(i);var c=t.offsets.popper,u=t.offsets.reference,h=Math.floor,f="left"===i&&h(c.right)>h(u.left)||"right"===i&&h(c.left)<h(u.right)||"top"===i&&h(c.bottom)>h(u.top)||"bottom"===i&&h(c.top)<h(u.bottom),d=h(c.left)<h(n.left),p=h(c.right)>h(n.right),m=h(c.top)<h(n.top),g=h(c.bottom)>h(n.bottom),v="left"===i&&d||"right"===i&&p||"top"===i&&m||"bottom"===i&&g,_=-1!==["top","bottom"].indexOf(i),b=!!e.flipVariations&&(_&&"start"===r&&d||_&&"end"===r&&p||!_&&"start"===r&&m||!_&&"end"===r&&g),y=!!e.flipVariationsByContent&&(_&&"start"===r&&p||_&&"end"===r&&d||!_&&"start"===r&&g||!_&&"end"===r&&m),w=b||y;(f||v||w)&&(t.flipped=!0,(f||v)&&(i=s[l+1]),w&&(r=function(t){return"end"===t?"start":"start"===t?"end":t}(r)),t.placement=i+(r?"-"+r:""),t.offsets.popper=X({},t.offsets.popper,at(t.instance.popper,t.offsets.reference,t.placement)),t=ct(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,o=i.popper,r=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return o[s?"left":"top"]=r[n]-(a?o[s?"width":"height"]:0),t.placement=st(e),t.offsets.popper=K(o),t}},hide:{order:800,enabled:!0,fn:function(t){if(!wt(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=lt(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,o=t.offsets.popper,r=lt(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==r?r:e.gpuAcceleration,a=R(t.instance.popper),l=G(a),c={position:o.position},u=function(t,e){var n=t.offsets,i=n.popper,o=n.reference,r=Math.round,s=Math.floor,a=function(t){return t},l=r(o.width),c=r(i.width),u=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),f=e?u||h||l%2==c%2?r:s:a,d=e?r:a;return{left:f(l%2==1&&c%2==1&&!h&&e?i.left-1:i.left),top:d(i.top),bottom:d(i.bottom),right:f(i.right)}}(t,window.devicePixelRatio<2||!yt),h="bottom"===n?"top":"bottom",f="right"===i?"left":"right",d=ft("transform"),p=void 0,m=void 0;if(m="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+u.bottom:-l.height+u.bottom:u.top,p="right"===f?"HTML"===a.nodeName?-a.clientWidth+u.right:-l.width+u.right:u.left,s&&d)c[d]="translate3d("+p+"px, "+m+"px, 0)",c[h]=0,c[f]=0,c.willChange="transform";else{var g="bottom"===h?-1:1,v="right"===f?-1:1;c[h]=m*g,c[f]=p*v,c.willChange=h+", "+f}var _={"x-placement":t.placement};return t.attributes=X({},_,t.attributes),t.styles=X({},c,t.styles),t.arrowStyles=X({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return bt(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach((function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&bt(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,o){var r=ot(o,e,t,n.positionFixed),s=it(n.placement,r,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),bt(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},At=function(){function t(e,n){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};V(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=N(this.update.bind(this)),this.options=X({},t.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(X({},t.Defaults.modifiers,o.modifiers)).forEach((function(e){i.options.modifiers[e]=X({},t.Defaults.modifiers[e]||{},o.modifiers?o.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return X({name:t},i.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&O(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)})),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}return Y(t,[{key:"update",value:function(){return ut.call(this)}},{key:"destroy",value:function(){return dt.call(this)}},{key:"enableEventListeners",value:function(){return gt.call(this)}},{key:"disableEventListeners",value:function(){return vt.call(this)}}]),t}();At.Utils=("undefined"!=typeof window?window:global).PopperUtils,At.placements=Et,At.Defaults=Ot;var It="dropdown",xt=e.fn[It],jt=new RegExp("38|40|27"),Lt={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},Pt={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},Ft=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var n=t.prototype;return n.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass("disabled")){var n=e(this._menu).hasClass("show");t._clearMenus(),n||this.show(!0)}},n.show=function(n){if(void 0===n&&(n=!1),!(this._element.disabled||e(this._element).hasClass("disabled")||e(this._menu).hasClass("show"))){var i={relatedTarget:this._element},o=e.Event("show.bs.dropdown",i),r=t._getParentFromElement(this._element);if(e(r).trigger(o),!o.isDefaultPrevented()){if(!this._inNavbar&&n){if("undefined"==typeof At)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var s=this._element;"parent"===this._config.reference?s=r:l.isElement(this._config.reference)&&(s=this._config.reference,"undefined"!=typeof this._config.reference.jquery&&(s=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e(r).addClass("position-static"),this._popper=new At(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(r).closest(".navbar-nav").length&&e(document.body).children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass("show"),e(r).toggleClass("show").trigger(e.Event("shown.bs.dropdown",i))}}},n.hide=function(){if(!this._element.disabled&&!e(this._element).hasClass("disabled")&&e(this._menu).hasClass("show")){var n={relatedTarget:this._element},i=e.Event("hide.bs.dropdown",n),o=t._getParentFromElement(this._element);e(o).trigger(i),i.isDefaultPrevented()||(this._popper&&this._popper.destroy(),e(this._menu).toggleClass("show"),e(o).toggleClass("show").trigger(e.Event("hidden.bs.dropdown",n)))}},n.dispose=function(){e.removeData(this._element,"bs.dropdown"),e(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},n.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},n._addEventListeners=function(){var t=this;e(this._element).on("click.bs.dropdown",(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},n._getConfig=function(t){return t=s(s(s({},this.constructor.Default),e(this._element).data()),t),l.typeCheckConfig(It,t,this.constructor.DefaultType),t},n._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(".dropdown-menu"))}return this._menu},n._getPlacement=function(){var t=e(this._element.parentNode),n="bottom-start";return t.hasClass("dropup")?n=e(this._menu).hasClass("dropdown-menu-right")?"top-end":"top-start":t.hasClass("dropright")?n="right-start":t.hasClass("dropleft")?n="left-start":e(this._menu).hasClass("dropdown-menu-right")&&(n="bottom-end"),n},n._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},n._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=s(s({},e.offsets),t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},n._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),s(s({},t),this._config.popperConfig)},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.dropdown");if(i||(i=new t(this,"object"==typeof n?n:null),e(this).data("bs.dropdown",i)),"string"==typeof n){if("undefined"==typeof i[n])throw new TypeError('No method named "'+n+'"');i[n]()}}))},t._clearMenus=function(n){if(!n||3!==n.which&&("keyup"!==n.type||9===n.which))for(var i=[].slice.call(document.querySelectorAll('[data-toggle="dropdown"]')),o=0,r=i.length;o<r;o++){var s=t._getParentFromElement(i[o]),a=e(i[o]).data("bs.dropdown"),l={relatedTarget:i[o]};if(n&&"click"===n.type&&(l.clickEvent=n),a){var c=a._menu;if(e(s).hasClass("show")&&!(n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"keyup"===n.type&&9===n.which)&&e.contains(s,n.target))){var u=e.Event("hide.bs.dropdown",l);e(s).trigger(u),u.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),i[o].setAttribute("aria-expanded","false"),a._popper&&a._popper.destroy(),e(c).removeClass("show"),e(s).removeClass("show").trigger(e.Event("hidden.bs.dropdown",l)))}}}},t._getParentFromElement=function(t){var e,n=l.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},t._dataApiKeydownHandler=function(n){if(!(/input|textarea/i.test(n.target.tagName)?32===n.which||27!==n.which&&(40!==n.which&&38!==n.which||e(n.target).closest(".dropdown-menu").length):!jt.test(n.which))&&!this.disabled&&!e(this).hasClass("disabled")){var i=t._getParentFromElement(this),o=e(i).hasClass("show");if(o||27!==n.which){if(n.preventDefault(),n.stopPropagation(),!o||o&&(27===n.which||32===n.which))return 27===n.which&&e(i.querySelector('[data-toggle="dropdown"]')).trigger("focus"),void e(this).trigger("click");var r=[].slice.call(i.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter((function(t){return e(t).is(":visible")}));if(0!==r.length){var s=r.indexOf(n.target);38===n.which&&s>0&&s--,40===n.which&&s<r.length-1&&s++,s<0&&(s=0),r[s].focus()}}}},i(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return Lt}},{key:"DefaultType",get:function(){return Pt}}]),t}();e(document).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',Ft._dataApiKeydownHandler).on("keydown.bs.dropdown.data-api",".dropdown-menu",Ft._dataApiKeydownHandler).on("click.bs.dropdown.data-api keyup.bs.dropdown.data-api",Ft._clearMenus).on("click.bs.dropdown.data-api",'[data-toggle="dropdown"]',(function(t){t.preventDefault(),t.stopPropagation(),Ft._jQueryInterface.call(e(this),"toggle")})).on("click.bs.dropdown.data-api",".dropdown form",(function(t){t.stopPropagation()})),e.fn[It]=Ft._jQueryInterface,e.fn[It].Constructor=Ft,e.fn[It].noConflict=function(){return e.fn[It]=xt,Ft._jQueryInterface};var Rt=e.fn.modal,Mt={backdrop:!0,keyboard:!0,focus:!0,show:!0},Bt={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},qt=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var n=t.prototype;return n.toggle=function(t){return this._isShown?this.hide():this.show(t)},n.show=function(t){var n=this;if(!this._isShown&&!this._isTransitioning){e(this._element).hasClass("fade")&&(this._isTransitioning=!0);var i=e.Event("show.bs.modal",{relatedTarget:t});e(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on("click.dismiss.bs.modal",'[data-dismiss="modal"]',(function(t){return n.hide(t)})),e(this._dialog).on("mousedown.dismiss.bs.modal",(function(){e(n._element).one("mouseup.dismiss.bs.modal",(function(t){e(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return n._showElement(t)})))}},n.hide=function(t){var n=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var i=e.Event("hide.bs.modal");if(e(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var o=e(this._element).hasClass("fade");if(o&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off("focusin.bs.modal"),e(this._element).removeClass("show"),e(this._element).off("click.dismiss.bs.modal"),e(this._dialog).off("mousedown.dismiss.bs.modal"),o){var r=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,(function(t){return n._hideModal(t)})).emulateTransitionEnd(r)}else this._hideModal()}}},n.dispose=function(){[window,this._element,this._dialog].forEach((function(t){return e(t).off(".bs.modal")})),e(document).off("focusin.bs.modal"),e.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},n.handleUpdate=function(){this._adjustDialog()},n._getConfig=function(t){return t=s(s({},Mt),t),l.typeCheckConfig("modal",t,Bt),t},n._triggerBackdropTransition=function(){var t=this;if("static"===this._config.backdrop){var n=e.Event("hidePrevented.bs.modal");if(e(this._element).trigger(n),n.defaultPrevented)return;this._element.classList.add("modal-static");var i=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,(function(){t._element.classList.remove("modal-static")})).emulateTransitionEnd(i),this._element.focus()}else this.hide()},n._showElement=function(t){var n=this,i=e(this._element).hasClass("fade"),o=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),e(this._dialog).hasClass("modal-dialog-scrollable")&&o?o.scrollTop=0:this._element.scrollTop=0,i&&l.reflow(this._element),e(this._element).addClass("show"),this._config.focus&&this._enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t}),s=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,e(n._element).trigger(r)};if(i){var a=l.getTransitionDurationFromElement(this._dialog);e(this._dialog).one(l.TRANSITION_END,s).emulateTransitionEnd(a)}else s()},n._enforceFocus=function(){var t=this;e(document).off("focusin.bs.modal").on("focusin.bs.modal",(function(n){document!==n.target&&t._element!==n.target&&0===e(t._element).has(n.target).length&&t._element.focus()}))},n._setEscapeEvent=function(){var t=this;this._isShown?e(this._element).on("keydown.dismiss.bs.modal",(function(e){t._config.keyboard&&27===e.which?(e.preventDefault(),t.hide()):t._config.keyboard||27!==e.which||t._triggerBackdropTransition()})):this._isShown||e(this._element).off("keydown.dismiss.bs.modal")},n._setResizeEvent=function(){var t=this;this._isShown?e(window).on("resize.bs.modal",(function(e){return t.handleUpdate(e)})):e(window).off("resize.bs.modal")},n._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop((function(){e(document.body).removeClass("modal-open"),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger("hidden.bs.modal")}))},n._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},n._showBackdrop=function(t){var n=this,i=e(this._element).hasClass("fade")?"fade":"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",i&&this._backdrop.classList.add(i),e(this._backdrop).appendTo(document.body),e(this._element).on("click.dismiss.bs.modal",(function(t){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:t.target===t.currentTarget&&n._triggerBackdropTransition()})),i&&l.reflow(this._backdrop),e(this._backdrop).addClass("show"),!t)return;if(!i)return void t();var o=l.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(l.TRANSITION_END,t).emulateTransitionEnd(o)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass("show");var r=function(){n._removeBackdrop(),t&&t()};if(e(this._element).hasClass("fade")){var s=l.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(l.TRANSITION_END,r).emulateTransitionEnd(s)}else r()}else t&&t()},n._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},n._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},n._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},n._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")),i=[].slice.call(document.querySelectorAll(".sticky-top"));e(n).each((function(n,i){var o=i.style.paddingRight,r=e(i).css("padding-right");e(i).data("padding-right",o).css("padding-right",parseFloat(r)+t._scrollbarWidth+"px")})),e(i).each((function(n,i){var o=i.style.marginRight,r=e(i).css("margin-right");e(i).data("margin-right",o).css("margin-right",parseFloat(r)-t._scrollbarWidth+"px")}));var o=document.body.style.paddingRight,r=e(document.body).css("padding-right");e(document.body).data("padding-right",o).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")}e(document.body).addClass("modal-open")},n._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"));e(t).each((function(t,n){var i=e(n).data("padding-right");e(n).removeData("padding-right"),n.style.paddingRight=i||""}));var n=[].slice.call(document.querySelectorAll(".sticky-top"));e(n).each((function(t,n){var i=e(n).data("margin-right");"undefined"!=typeof i&&e(n).css("margin-right",i).removeData("margin-right")}));var i=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},n._getScrollbarWidth=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(n,i){return this.each((function(){var o=e(this).data("bs.modal"),r=s(s(s({},Mt),e(this).data()),"object"==typeof n&&n?n:{});if(o||(o=new t(this,r),e(this).data("bs.modal",o)),"string"==typeof n){if("undefined"==typeof o[n])throw new TypeError('No method named "'+n+'"');o[n](i)}else r.show&&o.show(i)}))},i(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return Mt}}]),t}();e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){var n,i=this,o=l.getSelectorFromElement(this);o&&(n=document.querySelector(o));var r=e(n).data("bs.modal")?"toggle":s(s({},e(n).data()),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var a=e(n).one("show.bs.modal",(function(t){t.isDefaultPrevented()||a.one("hidden.bs.modal",(function(){e(i).is(":visible")&&i.focus()}))}));qt._jQueryInterface.call(e(n),r,this)})),e.fn.modal=qt._jQueryInterface,e.fn.modal.Constructor=qt,e.fn.modal.noConflict=function(){return e.fn.modal=Rt,qt._jQueryInterface};var Ht=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Qt={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Wt=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,Ut=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function Vt(t,e,n){if(0===t.length)return t;if(n&&"function"==typeof n)return n(t);for(var i=(new window.DOMParser).parseFromString(t,"text/html"),o=Object.keys(e),r=[].slice.call(i.body.querySelectorAll("*")),s=function(t,n){var i=r[t],s=i.nodeName.toLowerCase();if(-1===o.indexOf(i.nodeName.toLowerCase()))return i.parentNode.removeChild(i),"continue";var a=[].slice.call(i.attributes),l=[].concat(e["*"]||[],e[s]||[]);a.forEach((function(t){(function(t,e){var n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===Ht.indexOf(n)||Boolean(t.nodeValue.match(Wt)||t.nodeValue.match(Ut));for(var i=e.filter((function(t){return t instanceof RegExp})),o=0,r=i.length;o<r;o++)if(n.match(i[o]))return!0;return!1})(t,l)||i.removeAttribute(t.nodeName)}))},a=0,l=r.length;a<l;a++)s(a);return i.body.innerHTML}var Yt="tooltip",zt=e.fn[Yt],Xt=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Kt=["sanitize","whiteList","sanitizeFn"],Gt={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},$t={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Jt={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:Qt,popperConfig:null},Zt={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},te=function(){function t(t,e){if("undefined"==typeof At)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var n=t.prototype;return n.enable=function(){this._isEnabled=!0},n.disable=function(){this._isEnabled=!1},n.toggleEnabled=function(){this._isEnabled=!this._isEnabled},n.toggle=function(t){if(this._isEnabled)if(t){var n=this.constructor.DATA_KEY,i=e(t.currentTarget).data(n);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(e(this.getTipElement()).hasClass("show"))return void this._leave(null,this);this._enter(null,this)}},n.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},n.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var n=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(n);var i=l.findShadowRoot(this.element),o=e.contains(null!==i?i:this.element.ownerDocument.documentElement,this.element);if(n.isDefaultPrevented()||!o)return;var r=this.getTipElement(),s=l.getUID(this.constructor.NAME);r.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&e(r).addClass("fade");var a="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,c=this._getAttachment(a);this.addAttachmentClass(c);var u=this._getContainer();e(r).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(r).appendTo(u),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new At(this.element,r,this._getPopperConfig(c)),e(r).addClass("show"),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);var h=function(){t.config.animation&&t._fixTransition();var n=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),"out"===n&&t._leave(null,t)};if(e(this.tip).hasClass("fade")){var f=l.getTransitionDurationFromElement(this.tip);e(this.tip).one(l.TRANSITION_END,h).emulateTransitionEnd(f)}else h()}},n.hide=function(t){var n=this,i=this.getTipElement(),o=e.Event(this.constructor.Event.HIDE),r=function(){"show"!==n._hoverState&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),e(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),t&&t()};if(e(this.element).trigger(o),!o.isDefaultPrevented()){if(e(i).removeClass("show"),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,e(this.tip).hasClass("fade")){var s=l.getTransitionDurationFromElement(i);e(i).one(l.TRANSITION_END,r).emulateTransitionEnd(s)}else r();this._hoverState=""}},n.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},n.isWithContent=function(){return Boolean(this.getTitle())},n.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-tooltip-"+t)},n.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},n.setContent=function(){var t=this.getTipElement();this.setElementContent(e(t.querySelectorAll(".tooltip-inner")),this.getTitle()),e(t).removeClass("fade show")},n.setElementContent=function(t,n){"object"!=typeof n||!n.nodeType&&!n.jquery?this.config.html?(this.config.sanitize&&(n=Vt(n,this.config.whiteList,this.config.sanitizeFn)),t.html(n)):t.text(n):this.config.html?e(n).parent().is(t)||t.empty().append(n):t.text(e(n).text())},n.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},n._getPopperConfig=function(t){var e=this;return s(s({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}}),this.config.popperConfig)},n._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=s(s({},e.offsets),t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},n._getContainer=function(){return!1===this.config.container?document.body:l.isElement(this.config.container)?e(this.config.container):e(document).find(this.config.container)},n._getAttachment=function(t){return $t[t.toUpperCase()]},n._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach((function(n){if("click"===n)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if("manual"!==n){var i="hover"===n?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,o="hover"===n?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(i,t.config.selector,(function(e){return t._enter(e)})).on(o,t.config.selector,(function(e){return t._leave(e)}))}})),this._hideModalHandler=function(){t.element&&t.hide()},e(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=s(s({},this.config),{},{trigger:"manual",selector:""}):this._fixTitle()},n._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},n._enter=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusin"===t.type?"focus":"hover"]=!0),e(n.getTipElement()).hasClass("show")||"show"===n._hoverState?n._hoverState="show":(clearTimeout(n._timeout),n._hoverState="show",n.config.delay&&n.config.delay.show?n._timeout=setTimeout((function(){"show"===n._hoverState&&n.show()}),n.config.delay.show):n.show())},n._leave=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusout"===t.type?"focus":"hover"]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState="out",n.config.delay&&n.config.delay.hide?n._timeout=setTimeout((function(){"out"===n._hoverState&&n.hide()}),n.config.delay.hide):n.hide())},n._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},n._getConfig=function(t){var n=e(this.element).data();return Object.keys(n).forEach((function(t){-1!==Kt.indexOf(t)&&delete n[t]})),"number"==typeof(t=s(s(s({},this.constructor.Default),n),"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),l.typeCheckConfig(Yt,t,this.constructor.DefaultType),t.sanitize&&(t.template=Vt(t.template,t.whiteList,t.sanitizeFn)),t},n._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},n._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(Xt);null!==n&&n.length&&t.removeClass(n.join(""))},n._handlePopperPlacementChange=function(t){this.tip=t.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},n._fixTransition=function(){var t=this.getTipElement(),n=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.tooltip"),o="object"==typeof n&&n;if((i||!/dispose|hide/.test(n))&&(i||(i=new t(this,o),e(this).data("bs.tooltip",i)),"string"==typeof n)){if("undefined"==typeof i[n])throw new TypeError('No method named "'+n+'"');i[n]()}}))},i(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return Jt}},{key:"NAME",get:function(){return Yt}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return Zt}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return Gt}}]),t}();e.fn[Yt]=te._jQueryInterface,e.fn[Yt].Constructor=te,e.fn[Yt].noConflict=function(){return e.fn[Yt]=zt,te._jQueryInterface};var ee="popover",ne=e.fn[ee],ie=new RegExp("(^|\\s)bs-popover\\S+","g"),oe=s(s({},te.Default),{},{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),re=s(s({},te.DefaultType),{},{content:"(string|element|function)"}),se={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},ae=function(t){var n,o;function r(){return t.apply(this,arguments)||this}o=t,(n=r).prototype=Object.create(o.prototype),n.prototype.constructor=n,n.__proto__=o;var s=r.prototype;return s.isWithContent=function(){return this.getTitle()||this._getContent()},s.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-popover-"+t)},s.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},s.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(".popover-header"),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(t.find(".popover-body"),n),t.removeClass("fade show")},s._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},s._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(ie);null!==n&&n.length>0&&t.removeClass(n.join(""))},r._jQueryInterface=function(t){return this.each((function(){var n=e(this).data("bs.popover"),i="object"==typeof t?t:null;if((n||!/dispose|hide/.test(t))&&(n||(n=new r(this,i),e(this).data("bs.popover",n)),"string"==typeof t)){if("undefined"==typeof n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},i(r,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return oe}},{key:"NAME",get:function(){return ee}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return se}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return re}}]),r}(te);e.fn[ee]=ae._jQueryInterface,e.fn[ee].Constructor=ae,e.fn[ee].noConflict=function(){return e.fn[ee]=ne,ae._jQueryInterface};var le="scrollspy",ce=e.fn[le],ue={offset:10,method:"auto",target:""},he={offset:"number",method:"string",target:"(string|element)"},fe=function(){function t(t,n){var i=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(n),this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on("scroll.bs.scrollspy",(function(t){return i._process(t)})),this.refresh(),this._process()}var n=t.prototype;return n.refresh=function(){var t=this,n=this._scrollElement===this._scrollElement.window?"offset":"position",i="auto"===this._config.method?n:this._config.method,o="position"===i?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(t){var n,r=l.getSelectorFromElement(t);if(r&&(n=document.querySelector(r)),n){var s=n.getBoundingClientRect();if(s.width||s.height)return[e(n)[i]().top+o,r]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},n.dispose=function(){e.removeData(this._element,"bs.scrollspy"),e(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},n._getConfig=function(t){if("string"!=typeof(t=s(s({},ue),"object"==typeof t&&t?t:{})).target&&l.isElement(t.target)){var n=e(t.target).attr("id");n||(n=l.getUID(le),e(t.target).attr("id",n)),t.target="#"+n}return l.typeCheckConfig(le,t,he),t},n._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},n._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},n._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},n._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var o=this._offsets.length;o--;){this._activeTarget!==this._targets[o]&&t>=this._offsets[o]&&("undefined"==typeof this._offsets[o+1]||t<this._offsets[o+1])&&this._activate(this._targets[o])}}},n._activate=function(t){this._activeTarget=t,this._clear();var n=this._selector.split(",").map((function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'})),i=e([].slice.call(document.querySelectorAll(n.join(","))));i.hasClass("dropdown-item")?(i.closest(".dropdown").find(".dropdown-toggle").addClass("active"),i.addClass("active")):(i.addClass("active"),i.parents(".nav, .list-group").prev(".nav-link, .list-group-item").addClass("active"),i.parents(".nav, .list-group").prev(".nav-item").children(".nav-link").addClass("active")),e(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:t})},n._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(t){return t.classList.contains("active")})).forEach((function(t){return t.classList.remove("active")}))},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.scrollspy");if(i||(i=new t(this,"object"==typeof n&&n),e(this).data("bs.scrollspy",i)),"string"==typeof n){if("undefined"==typeof i[n])throw new TypeError('No method named "'+n+'"');i[n]()}}))},i(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return ue}}]),t}();e(window).on("load.bs.scrollspy.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),n=t.length;n--;){var i=e(t[n]);fe._jQueryInterface.call(i,i.data())}})),e.fn[le]=fe._jQueryInterface,e.fn[le].Constructor=fe,e.fn[le].noConflict=function(){return e.fn[le]=ce,fe._jQueryInterface};var de=e.fn.tab,pe=function(){function t(t){this._element=t}var n=t.prototype;return n.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass("active")||e(this._element).hasClass("disabled"))){var n,i,o=e(this._element).closest(".nav, .list-group")[0],r=l.getSelectorFromElement(this._element);if(o){var s="UL"===o.nodeName||"OL"===o.nodeName?"> li > .active":".active";i=(i=e.makeArray(e(o).find(s)))[i.length-1]}var a=e.Event("hide.bs.tab",{relatedTarget:this._element}),c=e.Event("show.bs.tab",{relatedTarget:i});if(i&&e(i).trigger(a),e(this._element).trigger(c),!c.isDefaultPrevented()&&!a.isDefaultPrevented()){r&&(n=document.querySelector(r)),this._activate(this._element,o);var u=function(){var n=e.Event("hidden.bs.tab",{relatedTarget:t._element}),o=e.Event("shown.bs.tab",{relatedTarget:i});e(i).trigger(n),e(t._element).trigger(o)};n?this._activate(n,n.parentNode,u):u()}}},n.dispose=function(){e.removeData(this._element,"bs.tab"),this._element=null},n._activate=function(t,n,i){var o=this,r=(!n||"UL"!==n.nodeName&&"OL"!==n.nodeName?e(n).children(".active"):e(n).find("> li > .active"))[0],s=i&&r&&e(r).hasClass("fade"),a=function(){return o._transitionComplete(t,r,i)};if(r&&s){var c=l.getTransitionDurationFromElement(r);e(r).removeClass("show").one(l.TRANSITION_END,a).emulateTransitionEnd(c)}else a()},n._transitionComplete=function(t,n,i){if(n){e(n).removeClass("active");var o=e(n.parentNode).find("> .dropdown-menu .active")[0];o&&e(o).removeClass("active"),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(e(t).addClass("active"),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),l.reflow(t),t.classList.contains("fade")&&t.classList.add("show"),t.parentNode&&e(t.parentNode).hasClass("dropdown-menu")){var r=e(t).closest(".dropdown")[0];if(r){var s=[].slice.call(r.querySelectorAll(".dropdown-toggle"));e(s).addClass("active")}t.setAttribute("aria-expanded",!0)}i&&i()},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),o=i.data("bs.tab");if(o||(o=new t(this),i.data("bs.tab",o)),"string"==typeof n){if("undefined"==typeof o[n])throw new TypeError('No method named "'+n+'"');o[n]()}}))},i(t,null,[{key:"VERSION",get:function(){return"4.5.0"}}]),t}();e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',(function(t){t.preventDefault(),pe._jQueryInterface.call(e(this),"show")})),e.fn.tab=pe._jQueryInterface,e.fn.tab.Constructor=pe,e.fn.tab.noConflict=function(){return e.fn.tab=de,pe._jQueryInterface};var me=e.fn.toast,ge={animation:"boolean",autohide:"boolean",delay:"number"},ve={animation:!0,autohide:!0,delay:500},_e=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var n=t.prototype;return n.show=function(){var t=this,n=e.Event("show.bs.toast");if(e(this._element).trigger(n),!n.isDefaultPrevented()){this._config.animation&&this._element.classList.add("fade");var i=function(){t._element.classList.remove("showing"),t._element.classList.add("show"),e(t._element).trigger("shown.bs.toast"),t._config.autohide&&(t._timeout=setTimeout((function(){t.hide()}),t._config.delay))};if(this._element.classList.remove("hide"),l.reflow(this._element),this._element.classList.add("showing"),this._config.animation){var o=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,i).emulateTransitionEnd(o)}else i()}},n.hide=function(){if(this._element.classList.contains("show")){var t=e.Event("hide.bs.toast");e(this._element).trigger(t),t.isDefaultPrevented()||this._close()}},n.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains("show")&&this._element.classList.remove("show"),e(this._element).off("click.dismiss.bs.toast"),e.removeData(this._element,"bs.toast"),this._element=null,this._config=null},n._getConfig=function(t){return t=s(s(s({},ve),e(this._element).data()),"object"==typeof t&&t?t:{}),l.typeCheckConfig("toast",t,this.constructor.DefaultType),t},n._setListeners=function(){var t=this;e(this._element).on("click.dismiss.bs.toast",'[data-dismiss="toast"]',(function(){return t.hide()}))},n._close=function(){var t=this,n=function(){t._element.classList.add("hide"),e(t._element).trigger("hidden.bs.toast")};if(this._element.classList.remove("show"),this._config.animation){var i=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,n).emulateTransitionEnd(i)}else n()},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),o=i.data("bs.toast");if(o||(o=new t(this,"object"==typeof n&&n),i.data("bs.toast",o)),"string"==typeof n){if("undefined"==typeof o[n])throw new TypeError('No method named "'+n+'"');o[n](this)}}))},i(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"DefaultType",get:function(){return ge}},{key:"Default",get:function(){return ve}}]),t}();e.fn.toast=_e._jQueryInterface,e.fn.toast.Constructor=_e,e.fn.toast.noConflict=function(){return e.fn.toast=me,_e._jQueryInterface},t.Alert=h,t.Button=d,t.Carousel=y,t.Collapse=S,t.Dropdown=Ft,t.Modal=qt,t.Popover=ae,t.Scrollspy=fe,t.Tab=pe,t.Toast=_e,t.Tooltip=te,t.Util=l,Object.defineProperty(t,"__esModule",{value:!0})}));
!function ( e, t ) { "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define( t ) : ( e = e || self ).firebase = t() }( this, function () { "use strict"; var r = function ( e, t ) { return ( r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function ( e, t ) { e.__proto__ = t } || function ( e, t ) { for ( var r in t ) t.hasOwnProperty( r ) && ( e[ r ] = t[ r ] ) } )( e, t ) }; var a = function () { return ( a = Object.assign || function ( e ) { for ( var t, r = 1, n = arguments.length;r < n;r++ )for ( var i in t = arguments[ r ] ) Object.prototype.hasOwnProperty.call( t, i ) && ( e[ i ] = t[ i ] ); return e } ).apply( this, arguments ) }; function e ( e, a, s, l ) { return new ( s = s || Promise )( function ( r, t ) { function n ( e ) { try { o( l.next( e ) ) } catch ( e ) { t( e ) } } function i ( e ) { try { o( l.throw( e ) ) } catch ( e ) { t( e ) } } function o ( e ) { var t; e.done ? r( e.value ) : ( ( t = e.value ) instanceof s ? t : new s( function ( e ) { e( t ) } ) ).then( n, i ) } o( ( l = l.apply( e, a || [] ) ).next() ) } ) } function n ( r, n ) { var i, o, a, e, s = { label: 0, sent: function () { if ( 1 & a[ 0 ] ) throw a[ 1 ]; return a[ 1 ] }, trys: [], ops: [] }; return e = { next: t( 0 ), throw: t( 1 ), return: t( 2 ) }, "function" == typeof Symbol && ( e[ Symbol.iterator ] = function () { return this } ), e; function t ( t ) { return function ( e ) { return function ( t ) { if ( i ) throw new TypeError( "Generator is already executing." ); for ( ;s; )try { if ( i = 1, o && ( a = 2 & t[ 0 ] ? o.return : t[ 0 ] ? o.throw || ( ( a = o.return ) && a.call( o ), 0 ) : o.next ) && !( a = a.call( o, t[ 1 ] ) ).done ) return a; switch ( o = 0, a && ( t = [ 2 & t[ 0 ], a.value ] ), t[ 0 ] ) { case 0: case 1: a = t; break; case 4: return s.label++, { value: t[ 1 ], done: !1 }; case 5: s.label++, o = t[ 1 ], t = [ 0 ]; continue; case 7: t = s.ops.pop(), s.trys.pop(); continue; default: if ( !( a = 0 < ( a = s.trys ).length && a[ a.length - 1 ] ) && ( 6 === t[ 0 ] || 2 === t[ 0 ] ) ) { s = 0; continue } if ( 3 === t[ 0 ] && ( !a || t[ 1 ] > a[ 0 ] && t[ 1 ] < a[ 3 ] ) ) { s.label = t[ 1 ]; break } if ( 6 === t[ 0 ] && s.label < a[ 1 ] ) { s.label = a[ 1 ], a = t; break } if ( a && s.label < a[ 2 ] ) { s.label = a[ 2 ], s.ops.push( t ); break } a[ 2 ] && s.ops.pop(), s.trys.pop(); continue }t = n.call( r, s ) } catch ( e ) { t = [ 6, e ], o = 0 } finally { i = a = 0 } if ( 5 & t[ 0 ] ) throw t[ 1 ]; return { value: t[ 0 ] ? t[ 1 ] : void 0, done: !0 } }( [ t, e ] ) } } } function d ( e ) { var t = "function" == typeof Symbol && Symbol.iterator, r = t && e[ t ], n = 0; if ( r ) return r.call( e ); if ( e && "number" == typeof e.length ) return { next: function () { return e && n >= e.length && ( e = void 0 ), { value: e && e[ n++ ], done: !e } } }; throw new TypeError( t ? "Object is not iterable." : "Symbol.iterator is not defined." ) } function p ( e, t ) { var r = "function" == typeof Symbol && e[ Symbol.iterator ]; if ( !r ) return e; var n, i, o = r.call( e ), a = []; try { for ( ;( void 0 === t || 0 < t-- ) && !( n = o.next() ).done; )a.push( n.value ) } catch ( e ) { i = { error: e } } finally { try { n && !n.done && ( r = o.return ) && r.call( o ) } finally { if ( i ) throw i.error } } return a } function v ( e, t ) { if ( !( t instanceof Object ) ) return t; switch ( t.constructor ) { case Date: return new Date( t.getTime() ); case Object: void 0 === e && ( e = {} ); break; case Array: e = []; break; default: return t }for ( var r in t ) t.hasOwnProperty( r ) && ( e[ r ] = v( e[ r ], t[ r ] ) ); return e } var i = ( t.prototype.wrapCallback = function ( r ) { var n = this; return function ( e, t ) { e ? n.reject( e ) : n.resolve( t ), "function" == typeof r && ( n.promise.catch( function () { } ), 1 === r.length ? r( e ) : r( e, t ) ) } }, t ); function t () { var r = this; this.reject = function () { }, this.resolve = function () { }, this.promise = new Promise( function ( e, t ) { r.resolve = e, r.reject = t } ) } var o, s, l, h = ( o = Error, r( s = u, l = o ), s.prototype = null === l ? Object.create( l ) : ( c.prototype = l.prototype, new c ), u ); function c () { this.constructor = s } function u ( e, t ) { var r = o.call( this, t ) || this; return r.code = e, r.name = "FirebaseError", Object.setPrototypeOf( r, u.prototype ), Error.captureStackTrace && Error.captureStackTrace( r, f.prototype.create ), r } var f = ( y.prototype.create = function ( e ) { for ( var t = [], r = 1;r < arguments.length;r++ )t[ r - 1 ] = arguments[ r ]; for ( var n, i = t[ 0 ] || {}, o = this.service + "/" + e, a = this.errors[ e ], s = a ? ( n = i, a.replace( m, function ( e, t ) { var r = n[ t ]; return null != r ? String( r ) : "<" + t + "?>" } ) ) : "Error", l = this.serviceName + ": " + s + " (" + o + ").", c = new h( o, l ), p = 0, u = Object.keys( i );p < u.length;p++ ) { var f = u[ p ]; "_" !== f.slice( -1 ) && ( f in c && console.warn( 'Overwriting FirebaseError base field "' + f + '" can cause unexpected behavior.' ), c[ f ] = i[ f ] ) } return c }, y ); function y ( e, t, r ) { this.service = e, this.serviceName = t, this.errors = r } var m = /\{\$([^}]+)}/g; function g ( e, t ) { return Object.prototype.hasOwnProperty.call( e, t ) } function b ( e, t ) { var r = new w( e, t ); return r.subscribe.bind( r ) } var w = ( E.prototype.next = function ( t ) { this.forEachObserver( function ( e ) { e.next( t ) } ) }, E.prototype.error = function ( t ) { this.forEachObserver( function ( e ) { e.error( t ) } ), this.close( t ) }, E.prototype.complete = function () { this.forEachObserver( function ( e ) { e.complete() } ), this.close() }, E.prototype.subscribe = function ( e, t, r ) { var n, i = this; if ( void 0 === e && void 0 === t && void 0 === r ) throw new Error( "Missing Observer." ); void 0 === ( n = function ( e, t ) { if ( "object" == typeof e && null !== e ) for ( var r = 0, n = t;r < n.length;r++ ) { var i = n[ r ]; if ( i in e && "function" == typeof e[ i ] ) return 1 } }( e, [ "next", "error", "complete" ] ) ? e : { next: e, error: t, complete: r } ).next && ( n.next = O ), void 0 === n.error && ( n.error = O ), void 0 === n.complete && ( n.complete = O ); var o = this.unsubscribeOne.bind( this, this.observers.length ); return this.finalized && this.task.then( function () { try { i.finalError ? n.error( i.finalError ) : n.complete() } catch ( e ) { } } ), this.observers.push( n ), o }, E.prototype.unsubscribeOne = function ( e ) { void 0 !== this.observers && void 0 !== this.observers[ e ] && ( delete this.observers[ e ], --this.observerCount, 0 === this.observerCount && void 0 !== this.onNoObservers && this.onNoObservers( this ) ) }, E.prototype.forEachObserver = function ( e ) { if ( !this.finalized ) for ( var t = 0;t < this.observers.length;t++ )this.sendOne( t, e ) }, E.prototype.sendOne = function ( e, t ) { var r = this; this.task.then( function () { if ( void 0 !== r.observers && void 0 !== r.observers[ e ] ) try { t( r.observers[ e ] ) } catch ( e ) { "undefined" != typeof console && console.error && console.error( e ) } } ) }, E.prototype.close = function ( e ) { var t = this; this.finalized || ( this.finalized = !0, void 0 !== e && ( this.finalError = e ), this.task.then( function () { t.observers = void 0, t.onNoObservers = void 0 } ) ) }, E ); function E ( e, t ) { var r = this; this.observers = [], this.unsubscribes = [], this.observerCount = 0, this.task = Promise.resolve(), this.finalized = !1, this.onNoObservers = t, this.task.then( function () { e( r ) } ).catch( function ( e ) { r.error( e ) } ) } function O () { } var _ = ( I.prototype.setInstantiationMode = function ( e ) { return this.instantiationMode = e, this }, I.prototype.setMultipleInstances = function ( e ) { return this.multipleInstances = e, this }, I.prototype.setServiceProps = function ( e ) { return this.serviceProps = e, this }, I ); function I ( e, t, r ) { this.name = e, this.instanceFactory = t, this.type = r, this.multipleInstances = !1, this.serviceProps = {}, this.instantiationMode = "LAZY" } var N = "[DEFAULT]", L = ( S.prototype.get = function ( e ) { void 0 === e && ( e = N ); var t = this.normalizeInstanceIdentifier( e ); if ( !this.instancesDeferred.has( t ) ) { var r = new i; this.instancesDeferred.set( t, r ); try { var n = this.getOrInitializeService( t ); n && r.resolve( n ) } catch ( e ) { } } return this.instancesDeferred.get( t ).promise }, S.prototype.getImmediate = function ( e ) { var t = a( { identifier: N, optional: !1 }, e ), r = t.identifier, n = t.optional, i = this.normalizeInstanceIdentifier( r ); try { var o = this.getOrInitializeService( i ); if ( o ) return o; if ( n ) return null; throw Error( "Service " + this.name + " is not available" ) } catch ( e ) { if ( n ) return null; throw e } }, S.prototype.getComponent = function () { return this.component }, S.prototype.setComponent = function ( e ) { var t, r; if ( e.name !== this.name ) throw Error( "Mismatching Component " + e.name + " for Provider " + this.name + "." ); if ( this.component ) throw Error( "Component for " + this.name + " has already been provided" ); if ( "EAGER" === ( this.component = e ).instantiationMode ) try { this.getOrInitializeService( N ) } catch ( e ) { } try { for ( var n = d( this.instancesDeferred.entries() ), i = n.next();!i.done;i = n.next() ) { var o = p( i.value, 2 ), a = o[ 0 ], s = o[ 1 ], l = this.normalizeInstanceIdentifier( a ); try { var c = this.getOrInitializeService( l ); s.resolve( c ) } catch ( e ) { } } } catch ( e ) { t = { error: e } } finally { try { i && !i.done && ( r = n.return ) && r.call( n ) } finally { if ( t ) throw t.error } } }, S.prototype.clearInstance = function ( e ) { void 0 === e && ( e = N ), this.instancesDeferred.delete( e ), this.instances.delete( e ) }, S.prototype.delete = function () { return e( this, void 0, void 0, function () { var t; return n( this, function ( e ) { switch ( e.label ) { case 0: return t = Array.from( this.instances.values() ), [ 4, Promise.all( t.filter( function ( e ) { return "INTERNAL" in e } ).map( function ( e ) { return e.INTERNAL.delete() } ) ) ]; case 1: return e.sent(), [ 2 ] } } ) } ) }, S.prototype.isComponentSet = function () { return null != this.component }, S.prototype.getOrInitializeService = function ( e ) { var t, r = this.instances.get( e ); return !r && this.component && ( r = this.component.instanceFactory( this.container, ( t = e ) === N ? void 0 : t ), this.instances.set( e, r ) ), r || null }, S.prototype.normalizeInstanceIdentifier = function ( e ) { return !this.component || this.component.multipleInstances ? e : N }, S ); function S ( e, t ) { this.name = e, this.container = t, this.component = null, this.instances = new Map, this.instancesDeferred = new Map } var R, P = ( A.prototype.addComponent = function ( e ) { var t = this.getProvider( e.name ); if ( t.isComponentSet() ) throw new Error( "Component " + e.name + " has already been registered with " + this.name ); t.setComponent( e ) }, A.prototype.addOrOverwriteComponent = function ( e ) { this.getProvider( e.name ).isComponentSet() && this.providers.delete( e.name ), this.addComponent( e ) }, A.prototype.getProvider = function ( e ) { if ( this.providers.has( e ) ) return this.providers.get( e ); var t = new L( e, this ); return this.providers.set( e, t ), t }, A.prototype.getProviders = function () { return Array.from( this.providers.values() ) }, A ); function A ( e ) { this.name = e, this.providers = new Map } function j () { for ( var e = 0, t = 0, r = arguments.length;t < r;t++ )e += arguments[ t ].length; var n = Array( e ), i = 0; for ( t = 0;t < r;t++ )for ( var o = arguments[ t ], a = 0, s = o.length;a < s;a++, i++ )n[ i ] = o[ a ]; return n } var C, D, F = []; ( D = C = C || {} )[ D.DEBUG = 0 ] = "DEBUG", D[ D.VERBOSE = 1 ] = "VERBOSE", D[ D.INFO = 2 ] = "INFO", D[ D.WARN = 3 ] = "WARN", D[ D.ERROR = 4 ] = "ERROR", D[ D.SILENT = 5 ] = "SILENT"; function k ( e, t ) { for ( var r = [], n = 2;n < arguments.length;n++ )r[ n - 2 ] = arguments[ n ]; if ( !( t < e.logLevel ) ) { var i = ( new Date ).toISOString(), o = z[ t ]; if ( !o ) throw new Error( "Attempted to log a message with an invalid logType (value: " + t + ")" ); console[ o ].apply( console, j( [ "[" + i + "]  " + e.name + ":" ], r ) ) } } var x, H = { debug: C.DEBUG, verbose: C.VERBOSE, info: C.INFO, warn: C.WARN, error: C.ERROR, silent: C.SILENT }, T = C.INFO, z = ( ( R = {} )[ C.DEBUG ] = "log", R[ C.VERBOSE ] = "log", R[ C.INFO ] = "info", R[ C.WARN ] = "warn", R[ C.ERROR ] = "error", R ), B = ( Object.defineProperty( V.prototype, "logLevel", { get: function () { return this._logLevel }, set: function ( e ) { if ( !( e in C ) ) throw new TypeError( 'Invalid value "' + e + '" assigned to `logLevel`' ); this._logLevel = e }, enumerable: !1, configurable: !0 } ), V.prototype.setLogLevel = function ( e ) { this._logLevel = "string" == typeof e ? H[ e ] : e }, Object.defineProperty( V.prototype, "logHandler", { get: function () { return this._logHandler }, set: function ( e ) { if ( "function" != typeof e ) throw new TypeError( "Value assigned to `logHandler` must be a function" ); this._logHandler = e }, enumerable: !1, configurable: !0 } ), Object.defineProperty( V.prototype, "userLogHandler", { get: function () { return this._userLogHandler }, set: function ( e ) { this._userLogHandler = e }, enumerable: !1, configurable: !0 } ), V.prototype.debug = function () { for ( var e = [], t = 0;t < arguments.length;t++ )e[ t ] = arguments[ t ]; this._userLogHandler && this._userLogHandler.apply( this, j( [ this, C.DEBUG ], e ) ), this._logHandler.apply( this, j( [ this, C.DEBUG ], e ) ) }, V.prototype.log = function () { for ( var e = [], t = 0;t < arguments.length;t++ )e[ t ] = arguments[ t ]; this._userLogHandler && this._userLogHandler.apply( this, j( [ this, C.VERBOSE ], e ) ), this._logHandler.apply( this, j( [ this, C.VERBOSE ], e ) ) }, V.prototype.info = function () { for ( var e = [], t = 0;t < arguments.length;t++ )e[ t ] = arguments[ t ]; this._userLogHandler && this._userLogHandler.apply( this, j( [ this, C.INFO ], e ) ), this._logHandler.apply( this, j( [ this, C.INFO ], e ) ) }, V.prototype.warn = function () { for ( var e = [], t = 0;t < arguments.length;t++ )e[ t ] = arguments[ t ]; this._userLogHandler && this._userLogHandler.apply( this, j( [ this, C.WARN ], e ) ), this._logHandler.apply( this, j( [ this, C.WARN ], e ) ) }, V.prototype.error = function () { for ( var e = [], t = 0;t < arguments.length;t++ )e[ t ] = arguments[ t ]; this._userLogHandler && this._userLogHandler.apply( this, j( [ this, C.ERROR ], e ) ), this._logHandler.apply( this, j( [ this, C.ERROR ], e ) ) }, V ); function V ( e ) { this.name = e, this._logLevel = T, this._logHandler = k, this._userLogHandler = null, F.push( this ) } function U ( t ) { F.forEach( function ( e ) { e.setLogLevel( t ) } ) } var M, W = ( ( x = {} )[ "no-app" ] = "No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()", x[ "bad-app-name" ] = "Illegal App name: '{$appName}", x[ "duplicate-app" ] = "Firebase App named '{$appName}' already exists", x[ "app-deleted" ] = "Firebase App named '{$appName}' already deleted", x[ "invalid-app-argument" ] = "firebase.{$appName}() takes either no argument or a Firebase App instance.", x[ "invalid-log-argument" ] = "First argument to `onLog` must be null or a function.", x ), G = new f( "app", "Firebase", W ), $ = "@firebase/app", Y = "[DEFAULT]", K = ( ( M = {} )[ $ ] = "fire-core", M[ "@firebase/analytics" ] = "fire-analytics", M[ "@firebase/auth" ] = "fire-auth", M[ "@firebase/database" ] = "fire-rtdb", M[ "@firebase/functions" ] = "fire-fn", M[ "@firebase/installations" ] = "fire-iid", M[ "@firebase/messaging" ] = "fire-fcm", M[ "@firebase/performance" ] = "fire-perf", M[ "@firebase/remote-config" ] = "fire-rc", M[ "@firebase/storage" ] = "fire-gcs", M[ "@firebase/firestore" ] = "fire-fst", M[ "fire-js" ] = "fire-js", M[ "firebase-wrapper" ] = "fire-js-all", M ), J = new B( "@firebase/app" ), Z = ( Object.defineProperty( q.prototype, "automaticDataCollectionEnabled", { get: function () { return this.checkDestroyed_(), this.automaticDataCollectionEnabled_ }, set: function ( e ) { this.checkDestroyed_(), this.automaticDataCollectionEnabled_ = e }, enumerable: !1, configurable: !0 } ), Object.defineProperty( q.prototype, "name", { get: function () { return this.checkDestroyed_(), this.name_ }, enumerable: !1, configurable: !0 } ), Object.defineProperty( q.prototype, "options", { get: function () { return this.checkDestroyed_(), this.options_ }, enumerable: !1, configurable: !0 } ), q.prototype.delete = function () { var t = this; return new Promise( function ( e ) { t.checkDestroyed_(), e() } ).then( function () { return t.firebase_.INTERNAL.removeApp( t.name_ ), Promise.all( t.container.getProviders().map( function ( e ) { return e.delete() } ) ) } ).then( function () { t.isDeleted_ = !0 } ) }, q.prototype._getService = function ( e, t ) { return void 0 === t && ( t = Y ), this.checkDestroyed_(), this.container.getProvider( e ).getImmediate( { identifier: t } ) }, q.prototype._removeServiceInstance = function ( e, t ) { void 0 === t && ( t = Y ), this.container.getProvider( e ).clearInstance( t ) }, q.prototype._addComponent = function ( t ) { try { this.container.addComponent( t ) } catch ( e ) { J.debug( "Component " + t.name + " failed to register with FirebaseApp " + this.name, e ) } }, q.prototype._addOrOverwriteComponent = function ( e ) { this.container.addOrOverwriteComponent( e ) }, q.prototype.checkDestroyed_ = function () { if ( this.isDeleted_ ) throw G.create( "app-deleted", { appName: this.name_ } ) }, q ); function q ( e, t, r ) { var n, i, o = this; this.firebase_ = r, this.isDeleted_ = !1, this.name_ = t.name, this.automaticDataCollectionEnabled_ = t.automaticDataCollectionEnabled || !1, this.options_ = v( void 0, e ), this.container = new P( t.name ), this._addComponent( new _( "app", function () { return o }, "PUBLIC" ) ); try { for ( var a = d( this.firebase_.INTERNAL.components.values() ), s = a.next();!s.done;s = a.next() ) { var l = s.value; this._addComponent( l ) } } catch ( e ) { n = { error: e } } finally { try { s && !s.done && ( i = a.return ) && i.call( a ) } finally { if ( n ) throw n.error } } } Z.prototype.name && Z.prototype.options || Z.prototype.delete || console.log( "dc" ); var Q = "7.16.0"; function X ( l ) { var c = {}, p = new Map, u = { __esModule: !0, initializeApp: function ( e, t ) { void 0 === t && ( t = {} ); if ( "object" != typeof t || null === t ) { t = { name: t } } var r = t; void 0 === r.name && ( r.name = Y ); var n = r.name; if ( "string" != typeof n || !n ) throw G.create( "bad-app-name", { appName: String( n ) } ); if ( g( c, n ) ) throw G.create( "duplicate-app", { appName: n } ); var i = new l( e, r, u ); return c[ n ] = i }, app: f, registerVersion: function ( e, t, r ) { var n, i = null !== ( n = K[ e ] ) && void 0 !== n ? n : e; r && ( i += "-" + r ); var o = i.match( /\s|\// ), a = t.match( /\s|\// ); if ( o || a ) { var s = [ 'Unable to register library "' + i + '" with version "' + t + '":' ]; return o && s.push( 'library name "' + i + '" contains illegal characters (whitespace or "/")' ), o && a && s.push( "and" ), a && s.push( 'version name "' + t + '" contains illegal characters (whitespace or "/")' ), void J.warn( s.join( " " ) ) } h( new _( i + "-version", function () { return { library: i, version: t } }, "VERSION" ) ) }, setLogLevel: U, onLog: function ( e, t ) { if ( null !== e && "function" != typeof e ) throw G.create( "invalid-log-argument", { appName: name } ); !function ( a, t ) { for ( var e = function ( e ) { var o = null; t && t.level && ( o = H[ t.level ] ), e.userLogHandler = null === a ? null : function ( e, t ) { for ( var r = [], n = 2;n < arguments.length;n++ )r[ n - 2 ] = arguments[ n ]; var i = r.map( function ( e ) { if ( null == e ) return null; if ( "string" == typeof e ) return e; if ( "number" == typeof e || "boolean" == typeof e ) return e.toString(); if ( e instanceof Error ) return e.message; try { return JSON.stringify( e ) } catch ( e ) { return null } } ).filter( function ( e ) { return e } ).join( " " ); t >= ( null != o ? o : e.logLevel ) && a( { level: C[ t ].toLowerCase(), message: i, args: r, type: e.name } ) } }, r = 0, n = F;r < n.length;r++ ) { e( n[ r ] ) } }( e, t ) }, apps: null, SDK_VERSION: Q, INTERNAL: { registerComponent: h, removeApp: function ( e ) { delete c[ e ] }, components: p, useAsService: function ( e, t ) { return "serverAuth" !== t ? t : null } } }; function f ( e ) { if ( !g( c, e = e || Y ) ) throw G.create( "no-app", { appName: e } ); return c[ e ] } function h ( r ) { var t, e, n = r.name; if ( p.has( n ) ) return J.debug( "There were multiple attempts to register component " + n + "." ), "PUBLIC" === r.type ? u[ n ] : null; if ( p.set( n, r ), "PUBLIC" === r.type ) { var i = function ( e ) { if ( void 0 === e && ( e = f() ), "function" != typeof e[ n ] ) throw G.create( "invalid-app-argument", { appName: n } ); return e[ n ]() }; void 0 !== r.serviceProps && v( i, r.serviceProps ), u[ n ] = i, l.prototype[ n ] = function () { for ( var e = [], t = 0;t < arguments.length;t++ )e[ t ] = arguments[ t ]; return this._getService.bind( this, n ).apply( this, r.multipleInstances ? e : [] ) } } try { for ( var o = d( Object.keys( c ) ), a = o.next();!a.done;a = o.next() ) { var s = a.value; c[ s ]._addComponent( r ) } } catch ( e ) { t = { error: e } } finally { try { a && !a.done && ( e = o.return ) && e.call( o ) } finally { if ( t ) throw t.error } } return "PUBLIC" === r.type ? u[ n ] : null } return u.default = u, Object.defineProperty( u, "apps", { get: function () { return Object.keys( c ).map( function ( e ) { return c[ e ] } ) } } ), f.App = l, u } var ee = function e () { var t = X( Z ); return t.INTERNAL = a( a( {}, t.INTERNAL ), { createFirebaseNamespace: e, extendNamespace: function ( e ) { v( t, e ) }, createSubscribe: b, ErrorFactory: f, deepExtend: v } ), t }(), te = ( re.prototype.getPlatformInfoString = function () { return this.container.getProviders().map( function ( e ) { if ( "VERSION" !== ( null == ( t = e.getComponent() ) ? void 0 : t.type ) ) return null; var t, r = e.getImmediate(); return r.library + "/" + r.version } ).filter( function ( e ) { return e } ).join( " " ) }, re ); function re ( e ) { this.container = e } if ( "object" == typeof self && self.self === self && void 0 !== self.firebase ) { J.warn( "\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  " ); var ne = self.firebase.SDK_VERSION; ne && 0 <= ne.indexOf( "LITE" ) && J.warn( "\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    " ) } var ie = ee.initializeApp; ee.initializeApp = function () { for ( var e = [], t = 0;t < arguments.length;t++ )e[ t ] = arguments[ t ]; return function () { try { return "[object process]" === Object.prototype.toString.call( global.process ) } catch ( e ) { return } }() && J.warn( '\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      ' ), ie.apply( void 0, e ) }; var oe, ae, se = ee; ( oe = se ).INTERNAL.registerComponent( new _( "platform-logger", function ( e ) { return new te( e ) }, "PRIVATE" ) ), oe.registerVersion( $, "0.6.8", ae ), oe.registerVersion( "fire-js", "" ); return se.registerVersion( "firebase", "7.16.0", "app" ), se } );!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app"],e):e((t=t||self).firebase)}(this,function(Ed){"use strict";try{(function(){Ed=Ed&&Object.prototype.hasOwnProperty.call(Ed,"default")?Ed.default:Ed;var t,p,e,r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function n(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function y(t,s,u,a){return new(u=u||Promise)(function(n,e){function r(t){try{o(a.next(t))}catch(t){e(t)}}function i(t){try{o(a.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof u?e:new u(function(t){t(e)})).then(r,i)}o((a=a.apply(t,s||[])).next())})}function v(n,r){var i,o,s,t,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(s=2&e[0]?o.return:e[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,e[1])).done)return s;switch(o=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,o=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){u.label=e[1];break}if(6===e[0]&&u.label<s[1]){u.label=s[1],s=e;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(e);break}s[2]&&u.ops.pop(),u.trys.pop();continue}e=r.call(n,u)}catch(t){e=[6,t],o=0}finally{i=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}function d(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}function s(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}(e=p=p||{})[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT";function i(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=a[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,s(["["+i+"]  "+t.name+":"],n))}}var o={debug:p.DEBUG,verbose:p.VERBOSE,info:p.INFO,warn:p.WARN,error:p.ERROR,silent:p.SILENT},u=p.INFO,a=((t={})[p.DEBUG]="log",t[p.VERBOSE]="log",t[p.INFO]="info",t[p.WARN]="warn",t[p.ERROR]="error",t),h=(Object.defineProperty(c.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in p))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),c.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?o[t]:t},Object.defineProperty(c.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),c.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,p.DEBUG],t)),this._logHandler.apply(this,s([this,p.DEBUG],t))},c.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,p.VERBOSE],t)),this._logHandler.apply(this,s([this,p.VERBOSE],t))},c.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,p.INFO],t)),this._logHandler.apply(this,s([this,p.INFO],t))},c.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,p.WARN],t)),this._logHandler.apply(this,s([this,p.WARN],t))},c.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,p.ERROR],t)),this._logHandler.apply(this,s([this,p.ERROR],t))},c);function c(t){this.name=t,this._logLevel=u,this._logHandler=i,this._userLogHandler=null}function g(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var f,m=(n(l,f=Error),l);function l(t,e){var n=f.call(this,e)||this;return n.code=t,n.name="FirebaseError",Object.setPrototypeOf(n,l.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,w.prototype.create),n}var w=(b.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r,i=e[0]||{},o=this.service+"/"+t,s=this.errors[t],u=s?(r=i,s.replace(I,function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"})):"Error",a=this.serviceName+": "+u+" ("+o+").",h=new m(o,a),c=0,f=Object.keys(i);c<f.length;c++){var l=f[c];"_"!==l.slice(-1)&&(l in h&&console.warn('Overwriting FirebaseError base field "'+l+'" can cause unexpected behavior.'),h[l]=i[l])}return h},b);function b(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var I=/\{\$([^}]+)}/g;function E(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var _,T="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},N=N||{},A=T||self;function x(){}function S(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function D(t){var e=S(t);return"array"==e||"object"==e&&"number"==typeof t.length}function P(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var R="closure_uid_"+(1e9*Math.random()>>>0),O=0;function k(t,e,n){return t.call.apply(t.bind,arguments)}function L(e,n,t){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,r),e.apply(n,t)}}return function(){return e.apply(n,arguments)}}function C(t,e,n){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k:L).apply(null,arguments)}function V(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var U=Date.now||function(){return+new Date};function j(t,e){function n(){}n.prototype=e.prototype,t.M=e.prototype,t.prototype=new n,t.prototype.constructor=t}function M(){this.j=this.j,this.i=this.i}M.prototype.j=!1,M.prototype.da=function(){if(!this.j&&(this.j=!0,this.C(),0))t=this,Object.prototype.hasOwnProperty.call(t,R)&&t[R]||(t[R]=++O);var t},M.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var F=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function B(t){return Array.prototype.concat.apply([],arguments)}function G(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function z(t){return/^[\s\xa0]*$/.test(t)}var H,W=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Y(t,e){return-1!=t.indexOf(e)}function X(t,e){return t<e?-1:e<t?1:0}t:{var K=A.navigator;if(K){var Q=K.userAgent;if(Q){H=Q;break t}}H=""}function J(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function $(t){var e={};for(var n in t)e[n]=t[n];return e}var Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Z.length;o++)n=Z[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function et(t){return et[" "](t),t}et[" "]=x;var nt,rt,it=Y(H,"Opera"),ot=Y(H,"Trident")||Y(H,"MSIE"),st=Y(H,"Edge"),ut=st||ot,at=Y(H,"Gecko")&&!(Y(H.toLowerCase(),"webkit")&&!Y(H,"Edge"))&&!(Y(H,"Trident")||Y(H,"MSIE"))&&!Y(H,"Edge"),ht=Y(H.toLowerCase(),"webkit")&&!Y(H,"Edge");function ct(){var t=A.document;return t?t.documentMode:void 0}t:{var ft="",lt=(rt=H,at?/rv:([^\);]+)(\)|;)/.exec(rt):st?/Edge\/([\d\.]+)/.exec(rt):ot?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(rt):ht?/WebKit\/(\S+)/.exec(rt):it?/(?:Version)[ \/]?(\S+)/.exec(rt):void 0);if(lt&&(ft=lt?lt[1]:""),ot){var pt=ct();if(null!=pt&&pt>parseFloat(ft)){nt=String(pt);break t}}nt=ft}var dt,yt={};function vt(u){return t=u,e=function(){for(var t=0,e=W(String(nt)).split("."),n=W(String(u)).split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=X(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||X(0==o[2].length,0==s[2].length)||X(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t},n=yt,Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t);var t,e,n}if(A.document&&ot){var gt=ct();dt=gt||(parseInt(nt,10)||void 0)}else dt=void 0;var mt=dt,wt=!ot||9<=Number(mt),bt=ot&&!vt("9"),It=function(){if(!A.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{A.addEventListener("test",x,e),A.removeEventListener("test",x,e)}catch(t){}return t}();function Et(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function _t(t,e){if(Et.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(at){t:{try{et(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Tt[t.pointerType]||"",(this.c=t).defaultPrevented&&this.b()}}Et.prototype.b=function(){this.defaultPrevented=!0},j(_t,Et);var Tt={2:"touch",3:"pen",4:"mouse"};_t.prototype.b=function(){_t.M.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,bt)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}};var Nt="closure_listenable_"+(1e6*Math.random()|0),At=0;function xt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.aa=i,this.key=++At,this.V=this.X=!1}function St(t){t.V=!0,t.listener=null,t.proxy=null,t.src=null,t.aa=null}function Dt(t){this.src=t,this.a={},this.b=0}function Pt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=F(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(St(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Rt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.V&&o.listener==e&&o.capture==!!n&&o.aa==r)return i}return-1}Dt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Rt(t,e,r,i);return-1<s?(e=t[s],n||(e.X=!1)):((e=new xt(e,this.src,o,!!r,i)).X=n,t.push(e)),e};var Ot="closure_lm_"+(1e6*Math.random()|0),kt={};function Lt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}r=Bt(r);return e&&e[Nt]?e.sa(n,r,P(i)?!!i.capture:!!i,o):Ct(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Lt(t,e[o],n,r,i);return null}return n=Bt(n),t&&t[Nt]?t.ra(e,n,P(r)?!!r.capture:!!r,i):Ct(t,e,n,!1,r,i)}function Ct(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=P(i)?!!i.capture:!!i;if(s&&!wt)return null;var u,a,h=Ft(t);if(h||(t[Ot]=h=new Dt(t)),(n=h.add(e,n,r,s,o)).proxy)return n;if(u=Mt,r=a=wt?function(t){return u.call(a.src,a.listener,t)}:function(t){if(!(t=u.call(a.src,a.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)It||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ut(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Vt(t){if("number"!=typeof t&&t&&!t.V){var e=t.src;if(e&&e[Nt])Pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ut(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ft(e))?(Pt(n,t),0==n.b&&(n.src=null,e[Ot]=null)):St(t)}}}function Ut(t){return t in kt?kt[t]:kt[t]="on"+t}function jt(t,e){var n=t.listener,r=t.aa||t.src;return t.X&&Vt(t),n.call(r,e)}function Mt(t,e){if(t.V)return!0;if(wt)return jt(t,new _t(e,this));if(!e)t:{e=["window","event"];for(var n=A,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return jt(t,e=new _t(e,this))}function Ft(t){return(t=t[Ot])instanceof Dt?t:null}var qt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bt(e){return"function"==S(e)?e:(e[qt]||(e[qt]=function(t){return e.handleEvent(t)}),e[qt])}function Gt(){M.call(this),this.c=new Dt(this),(this.J=this).A=null}function zt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.V&&s.capture==n){var u=s.listener,a=s.aa||s.src;s.X&&Pt(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}j(Gt,M),Gt.prototype[Nt]=!0,(_=Gt.prototype).addEventListener=function(t,e,n,r){Lt(this,t,e,n,r)},_.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=P(i)?!!i.capture:!!i,r=Bt(r),e&&e[Nt]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Rt(s=e.a[n],r,i,o))&&(St(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):(e=e&&Ft(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Rt(n,r,i,o)),(r=-1<e?n[e]:null)&&Vt(r))}(this,t,e,n,r)},_.dispatchEvent=function(t){var e,n=this.A;if(n)for(e=[];n;n=n.A)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new Et(t,n);else if(t instanceof Et)t.target=t.target||n;else{var i=t;tt(t=new Et(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=zt(s,r,!0,t)&&i}if(i=zt(s=t.a=n,r,!0,t)&&i,i=zt(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=zt(s=t.a=e[o],r,!1,t)&&i;return i},_.C=function(){if(Gt.M.C.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)St(n[r]);delete e.a[t],e.b--}}this.A=null},_.ra=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},_.sa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ht=A.JSON.stringify;function Wt(){this.b=this.a=null}var Yt,Xt=(Kt.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},new Kt(function(){return new Qt},function(t){t.reset()},100));function Kt(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}function Qt(){this.next=this.b=this.a=null}function Jt(t){A.setTimeout(function(){throw t},0)}function $t(t,e){var n;Yt||(n=A.Promise.resolve(void 0),Yt=function(){n.then(ee)}),Zt||(Yt(),Zt=!0),te.add(t,e)}Wt.prototype.add=function(t,e){var n=Xt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Qt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var Zt=!(Qt.prototype.reset=function(){this.next=this.b=this.a=null}),te=new Wt;function ee(){for(var t;r=n=void 0,r=null,(n=te).a&&(r=n.a,n.a=n.a.next,n.a||(n.b=null),r.next=null),t=r;){try{t.a.call(t.b)}catch(t){Jt(t)}var e=Xt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}var n,r;Zt=!1}function ne(t,e){Gt.call(this),this.b=t||1,this.a=e||A,this.f=C(this.Ua,this),this.g=U()}function re(t){t.Z=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function ie(t,e,n){if("function"==S(t))n&&(t=C(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=C(t.handleEvent,t)}return 2147483647<Number(e)?-1:A.setTimeout(t,e||0)}function oe(t,e,n){M.call(this),this.f=null!=n?C(t,n):t,this.c=e,this.b=C(this.Pa,this),this.a=[]}function se(t){t.T=ie(t.b,t.c),t.f.apply(null,t.a)}function ue(t){M.call(this),this.b=t,this.a={}}j(ne,Gt),(_=ne.prototype).Z=!1,_.L=null,_.Ua=function(){if(this.Z){var t=U()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(re(this),this.start()))}},_.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=U())},_.C=function(){ne.M.C.call(this),re(this),delete this.a},j(oe,M),(_=oe.prototype).ba=!1,_.T=null,_.Ia=function(t){this.a=arguments,this.T?this.ba=!0:se(this)},_.C=function(){oe.M.C.call(this),this.T&&(A.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},_.Pa=function(){this.T=null,this.ba&&(this.ba=!1,se(this))},j(ue,M);var ae=[];function he(t,e,n,r){Array.isArray(n)||(n&&(ae[0]=n.toString()),n=ae);for(var i=0;i<n.length;i++){var o=Lt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ce(t){J(t.a,function(t,e){this.a.hasOwnProperty(e)&&Vt(t)},t),t.a={}}function fe(){}ue.prototype.C=function(){ue.M.C.call(this),ce(this)},ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var le=null;function pe(){return le=le||new Gt}function de(t){Et.call(this,"serverreachability",t)}function ye(t){var e=pe();e.dispatchEvent(new de(e))}function ve(t){Et.call(this,"statevent",t)}function ge(t){var e=pe();e.dispatchEvent(new ve(e))}function me(t){Et.call(this,"timingevent",t)}function we(t,e){if("function"!=S(t))throw Error("Fn must not be null and must be a function");return A.setTimeout(function(){t()},e)}j(de,Et),j(ve,Et),j(me,Et);var be={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},Ie={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function Ee(){}function _e(t){var e;return(e=t.a)||(e=t.a={}),e}function Te(){}Ee.prototype.a=null;var Ne,Ae={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function xe(){Et.call(this,"d")}function Se(){Et.call(this,"c")}function De(){}function Pe(t,e,n){this.g=t,this.W=e,this.U=n||1,this.G=new ue(this),this.N=Re,t=ut?125:void 0,this.O=new ne(t),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}j(xe,Et),j(Se,Et),j(De,Ee),Ne=new De;var Re=45e3,Oe={},ke={};function Le(t,e,n){t.B=1,t.f=nn(Qe(e)),t.j=n,t.F=!0,Ce(t,null)}function Ce(t,e){t.s=U(),je(t),t.A=Qe(t.f);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),vn(n.b,"t",r),t.w=0,t.a=ur(t.g,t.g.w?e:null),0<t.J&&(t.D=new oe(C(t.ya,t,t.a),t.J)),he(t.G,t.a,"readystatechange",t.Sa),e=t.m?$(t.m):{},t.j?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.$(t.A,t.v,t.j,e)):(t.v="GET",t.a.$(t.A,t.v,null,e)),ye(1)}function Ve(t,e,n){for(var r=!0;!t.l&&t.w<n.length;){var i=Ue(t,n);if(i==ke){4==e&&(t.c=4,ge(14),r=!1);break}if(i==Oe){t.c=4,ge(15),r=!1;break}Ge(t,i)}4==e&&0==n.length&&(t.c=1,ge(16),r=!1),t.b=t.b&&r,r||(Be(t),qe(t))}function Ue(t,e){var n=t.w,r=e.indexOf("\n",n);return-1==r?ke:(n=Number(e.substring(n,r)),isNaN(n)?Oe:(r+=1)+n>e.length?ke:(e=e.substr(r,n),t.w=r+n,e))}function je(t){t.P=U()+t.N,Me(t,t.N)}function Me(t,e){if(null!=t.h)throw Error("WatchDog timer not null");t.h=we(C(t.Qa,t),e)}function Fe(t){t.h&&(A.clearTimeout(t.h),t.h=null)}function qe(t){0==t.g.u||t.l||nr(t.g,t)}function Be(t){Fe(t);var e=t.D;e&&"function"==typeof e.da&&e.da(),t.D=null,re(t.O),ce(t.G),t.a&&(e=t.a,t.a=null,e.abort(),e.da())}function Ge(t,e){try{var n=t.g;if(0!=n.u&&(n.a==t||_n(n.b,t)))if(n.A=t.H,!t.o&&_n(n.b,t)&&3==n.u){try{var r=n.ja.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.i){if(n.a){if(!(n.a.s+3e3<t.s))break t;er(n),n.a.cancel(),n.a=null}tr(n),ge(18)}}else n.ia=i[1],0<n.ia-n.G&&i[2]<37500&&n.U&&0==n.m&&!n.l&&(n.l=we(C(n.Na,n),6e3));if(En(n.b)<=1&&n.O){try{n.O()}catch(t){}n.O=void 0}}else ir(n,11)}else if(!t.o&&n.a!=t||er(n),!z(e))for(e=r=n.ja.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.G=i[0],i=i[1],2==n.u)if("c"==i[0]){n.B=i[1],n.R=i[2];var o=i[3];null!=o&&(n.oa=o);var s=i[5];null!=s&&"number"==typeof s&&0<s&&(n.D=1.5*s);var u=n,a=t.a;if(a){var h=a.a?a.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var c=u.b;!c.a&&(Y(h,"spdy")||Y(h,"quic")||Y(h,"h2"))&&(c.f=c.g,c.a=new Set,c.b&&(Tn(c,c.b),c.b=null))}if(u.s){var f=a.a?a.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.ha=f,en(u.v,u.s,f))}}n.u=3,n.c&&n.c.na();var l=t;if((u=n).ea=sr(u,u.w?u.R:null,u.P),l.o){Nn(u.b,l);var p=l,d=u.D;d&&p.setTimeout(d),p.h&&(Fe(p),je(p)),u.a=l}else Zn(u);0<n.f.length&&Kn(n)}else"stop"!=i[0]&&"close"!=i[0]||ir(n,7);else 3==n.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?ir(n,7):Wn(n):"noop"!=i[0]&&n.c&&n.c.ma(i),n.m=0);ye(4)}catch(t){}}function ze(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(D(t)||"string"==typeof t)q(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.I&&"function"==typeof t.I)n=void 0;else if(D(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.I&&"function"==typeof t.I)return t.I();if("string"==typeof t)return t.split("");if(D(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function He(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof He)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function We(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ye(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ye(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function Ye(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(_=Pe.prototype).setTimeout=function(t){this.N=t},_.Sa=function(t){t=t.target;var e=this.D;e&&3==Bn(t)?e.Ia():this.ya(t)},_.ya=function(t){try{if(t==this.a)t:{var e=Bn(this.a),n=this.a.qa(),r=this.a.S();if(!(e<3||3==e&&!ut&&!this.a.Y())){this.l||4!=e||7==n||ye(8==n||r<=0?3:2),Fe(this);var i=this.a.S();this.H=i;var o=this.a.Y();if(this.b=200==i){if(this.R&&!this.o){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.c=3,ge(12),Be(this),qe(this);break t}this.o=!0,Ge(this,a)}this.F?(Ve(this,e,o),ut&&this.b&&3==e&&(he(this.G,this.O,"tick",this.Ra),this.O.start())):Ge(this,o),4==e&&Be(this),this.b&&!this.l&&(4==e?nr(this.g,this):(this.b=!1,je(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,ge(12)):(this.c=0,ge(13)),Be(this),qe(this)}}}catch(t){}},_.Ra=function(){if(this.a){var t=Bn(this.a),e=this.a.Y();this.w<e.length&&(Fe(this),Ve(this,t,e),this.b&&4!=t&&je(this))}},_.cancel=function(){this.l=!0,Be(this)},_.Qa=function(){this.h=null;var t=U();0<=t-this.P?(2!=this.B&&(ye(3),ge(17)),Be(this),this.c=2,qe(this)):Me(this,this.P-t)},(_=He.prototype).I=function(){We(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},_.K=function(){return We(this),this.a.concat()},_.get=function(t,e){return Ye(this.b,t)?this.b[t]:e},_.set=function(t,e){Ye(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},_.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Xe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ke(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ke){this.a=void 0!==e?e:t.a,Je(this,t.f),this.j=t.j,$e(this,t.c),Ze(this,t.h),this.g=t.g,e=t.b;var n=new ln;n.c=e.c,e.a&&(n.a=new He(e.a),n.b=e.b),tn(this,n),this.i=t.i}else t&&(n=String(t).match(Xe))?(this.a=!!e,Je(this,n[1]||"",!0),this.j=rn(n[2]||""),$e(this,n[3]||"",!0),Ze(this,n[4]),this.g=rn(n[5]||"",!0),tn(this,n[6]||"",!0),this.i=rn(n[7]||"")):(this.a=!!e,this.b=new ln(null,this.a))}function Qe(t){return new Ke(t)}function Je(t,e,n){t.f=n?rn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function $e(t,e,n){t.c=n?rn(e,!0):e}function Ze(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.h=e}else t.h=null}function tn(t,e,n){var r,i;e instanceof ln?(t.b=e,r=t.b,(i=t.a)&&!r.f&&(pn(r),r.c=null,r.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(dn(this,e),vn(this,n,t))},r)),r.f=i):(n||(e=on(e,cn)),t.b=new ln(e,t.a))}function en(t,e,n){t.b.set(e,n)}function nn(t){return en(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^U()).toString(36)),t}function rn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function on(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,sn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ke.prototype.toString=function(){var t=[],e=this.f;e&&t.push(on(e,un,!0),":");var n=this.c;return!n&&"file"!=e||(t.push("//"),(e=this.j)&&t.push(on(e,un,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(on(n,"/"==n.charAt(0)?hn:an,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",on(n,fn)),t.join("")};var un=/[#\/\?@]/g,an=/[#\?:]/g,hn=/[#\?]/g,cn=/[#\?@]/g,fn=/#/g;function ln(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function pn(n){n.a||(n.a=new He,n.b=0,n.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.c,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function dn(t,e){pn(t),e=gn(t,e),Ye(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ye((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&We(t)))}function yn(t,e){return pn(t),e=gn(t,e),Ye(t.a.b,e)}function vn(t,e,n){dn(t,e),0<n.length&&(t.c=null,t.a.set(gn(t,e),G(n)),t.b+=n.length)}function gn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function mn(t,e){this.b=t,this.a=e}function wn(t){this.g=t||bn,t=A.PerformanceNavigationTiming?0<(t=A.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(A.ca&&A.ca.ua&&A.ca.ua()&&A.ca.ua().mb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(_=ln.prototype).add=function(t,e){pn(this),this.c=null,t=gn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},_.forEach=function(n,r){pn(this),this.a.forEach(function(t,e){q(t,function(t){n.call(r,t,e,this)},this)},this)},_.K=function(){pn(this);for(var t=this.a.I(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},_.I=function(t){pn(this);var e=[];if("string"==typeof t)yn(this,t)&&(e=B(e,this.a.get(gn(this,t))));else{t=this.a.I();for(var n=0;n<t.length;n++)e=B(e,t[n])}return e},_.set=function(t,e){return pn(this),this.c=null,yn(this,t=gn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},_.get=function(t,e){return t&&0<(t=this.I(t)).length?String(t[0]):e},_.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.I(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var bn=10;function In(t){return t.b||t.a&&t.a.size>=t.f}function En(t){return t.b?1:t.a?t.a.size:0}function _n(t,e){return t.b?t.b==e:t.a&&t.a.has(e)}function Tn(t,e){t.a?t.a.add(e):t.b=e}function Nn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function An(t){var e,n;if(null!=t.b)return t.c.concat(t.b.i);if(null==t.a||0===t.a.size)return G(t.c);var r=t.c;try{for(var i=E(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.i)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function xn(){}function Sn(){this.a=new xn}function Dn(t,r,e){var i=e||"";try{ze(t,function(t,e){var n=t;P(t)&&(n=Ht(t)),r.push(i+e+"="+encodeURIComponent(n))})}catch(t){throw r.push(i+"type="+encodeURIComponent("_badmap")),t}}function Pn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}wn.prototype.cancel=function(){var e,t;if(this.c=An(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=E(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},xn.prototype.stringify=function(t){return A.JSON.stringify(t,void 0)},xn.prototype.parse=function(t){return A.JSON.parse(t,void 0)};var Rn=A.JSON.parse;function On(t){Gt.call(this),this.headers=new He,this.G=t||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=kn,this.B=this.F=!1}j(On,Gt);var kn="",Ln=/^https?$/i,Cn=["POST","PUT"];function Vn(t){return"content-type"==t.toLowerCase()}function Un(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,jn(t),Fn(t)}function jn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Mn(t){if(t.b&&void 0!==N&&(!t.s[1]||4!=Bn(t)||2!=t.S()))if(t.l&&4==Bn(t))ie(t.va,0,t);else if(t.dispatchEvent("readystatechange"),4==Bn(t)){t.b=!1;try{var e,n=t.S();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.D).match(Xe)[1]||null;if(!o&&A.self&&A.self.location){var s=A.self.location.protocol;o=s.substr(0,s.length-1)}i=!Ln.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var u=2<Bn(t)?t.a.statusText:""}catch(t){u=""}t.f=u+" ["+t.S()+"]",jn(t)}}finally{Fn(t)}}}function Fn(t,e){if(t.a){qn(t);var n=t.a,r=t.s[0]?x:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function qn(t){t.a&&t.B&&(t.a.ontimeout=null),t.m&&(A.clearTimeout(t.m),t.m=null)}function Bn(t){return t.a?t.a.readyState:0}function Gn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}var i;r||(i="",J(n,function(t,e){i+=e,i+=":",i+=t,i+="\r\n"}),n=i,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):en(t,e,n))}function zn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Hn(t){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=zn("failFast",!1,t),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=zn("baseRetryDelayMs",5e3,t),this.Ga=zn("retryDelaySeedMs",1e4,t),this.Da=zn("forwardChannelMaxRetries",2,t),this.ga=zn("forwardChannelRequestTimeoutMs",2e4,t),this.Ea=t&&t.nb||void 0,this.D=void 0,this.w=t&&t.supportsCrossDomainXhr||!1,this.B="",this.b=new wn(t&&t.concurrentRequestLimit),this.ja=new Sn,this.fa=t&&t.fastHandshake||!1,t&&t.forceLongPolling&&(this.W=!1),this.O=void 0}function Wn(t){if(Yn(t),3==t.u){var e=t.H++,n=Qe(t.v);en(n,"SID",t.B),en(n,"RID",e),en(n,"TYPE","terminate"),Jn(t,n),(e=new Pe(t,e,void 0)).B=2,e.f=nn(Qe(n)),n=!1,A.navigator&&A.navigator.sendBeacon&&(n=A.navigator.sendBeacon(e.f.toString(),"")),!n&&A.Image&&((new Image).src=e.f,n=!0),n||(e.a=ur(e.g,null),e.a.$(e.f)),e.s=U(),je(e)}or(t)}function Yn(t){t.a&&(t.a.cancel(),t.a=null),t.i&&(A.clearTimeout(t.i),t.i=null),er(t),t.b.cancel(),t.g&&("number"==typeof t.g&&A.clearTimeout(t.g),t.g=null)}function Xn(t,e){t.f.push(new mn(t.Fa++,e)),3==t.u&&Kn(t)}function Kn(t){In(t.b)||t.g||(t.g=!0,$t(t.xa,t),t.o=0)}function Qn(t,e){var n;n=e?e.W:t.H++;var r=Qe(t.v);en(r,"SID",t.B),en(r,"RID",n),en(r,"AID",t.G),Jn(t,r),t.h&&t.j&&Gn(r,t.h,t.j),n=new Pe(t,n,t.o+1),null===t.h&&(n.m=t.j),e&&(t.f=e.i.concat(t.f)),e=$n(t,n,1e3),n.setTimeout(Math.round(.5*t.ga)+Math.round(.5*t.ga*Math.random())),Tn(t.b,n),Le(n,r,e)}function Jn(t,n){t.c&&ze({},function(t,e){en(n,e,t)})}function $n(t,e,n){n=Math.min(t.f.length,n);var r=t.c?C(t.c.Ha,t.c,t):null;t:for(var i=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var h=i[a].b,c=i[a].a;if((h-=o)<0)o=Math.max(0,i[a].b-100),u=!1;else try{Dn(c,s,"req"+h+"_")}catch(t){r&&r(c)}}if(u){r=s.join("&");break t}}return t=t.f.splice(0,n),e.i=t,r}function Zn(t){t.a||t.i||(t.J=1,$t(t.wa,t),t.m=0)}function tr(t){return!(t.a||t.i||3<=t.m)&&(t.J++,t.i=we(C(t.wa,t),rr(t,t.m)),t.m++,1)}function er(t){null!=t.l&&(A.clearTimeout(t.l),t.l=null)}function nr(t,e){var n=null;if(t.a==e){er(t),t.a=null;var r=2}else{if(!_n(t.b,e))return;n=e.i,Nn(t.b,e),r=1}if(t.A=e.H,0!=t.u)if(e.b)if(1==r){n=e.j?e.j.length:0,e=U()-e.s;var i=t.o;(r=pe()).dispatchEvent(new me(r)),Kn(t)}else Zn(t);else if(3==(i=e.c)||0==i&&0<t.A||!(1==r&&function(t,e){if(!(En(t.b)>=t.b.f-(t.g?1:0))){if(t.g)return t.f=e.i.concat(t.f),1;if(!(1==t.u||2==t.u||t.o>=(t.Ca?0:t.Da)))return t.g=we(C(t.xa,t,e),rr(t,t.o)),t.o++,1}}(t,e)||2==r&&tr(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:ir(t,5);break;case 4:ir(t,10);break;case 3:ir(t,6);break;default:ir(t,2)}}function rr(t,e){var n=t.Ba+Math.floor(Math.random()*t.Ga);return t.c||(n*=2),n*e}function ir(t,e){if(2==e){var n=null;t.c&&(n=null);var r=C(t.Ta,t);n||(n=new Ke("//www.google.com/images/cleardot.gif"),A.location&&"http"==A.location.protocol||Je(n,"https"),nn(n)),function(t,e){var n=new fe;if(A.Image){var r=new Image;r.onload=V(Pn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=V(Pn,n,r,"TestLoadImage: error",!1,e),r.onabort=V(Pn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=V(Pn,n,r,"TestLoadImage: timeout",!1,e),A.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ge(2);t.u=0,t.c&&t.c.la(e),or(t),Yn(t)}function or(t){t.u=0,t.A=-1,t.c&&(0==An(t.b).length&&0==t.f.length||(t.b.c.length=0,G(t.f),t.f.length=0),t.c.ka())}function sr(t,e,n){var r,i,o,s,u,a,h=(r=n)instanceof Ke?Qe(r):new Ke(r,void 0);if(""!=h.c)e&&$e(h,e+"."+h.c),Ze(h,h.h);else{var c=A.location;i=c.protocol,o=e?e+"."+c.hostname:c.hostname,s=+c.port,u=n,a=new Ke(null,void 0),i&&Je(a,i),o&&$e(a,o),s&&Ze(a,s),u&&(a.g=u),h=a}return t.N&&J(t.N,function(t,e){en(h,e,t)}),e=t.s,n=t.ha,e&&n&&en(h,e,n),en(h,"VER",t.oa),Jn(t,h),h}function ur(t,e){if(e&&!t.w)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new On(t.Ea)).F=t.w,e}function ar(){}function hr(){if(ot&&!(10<=Number(mt)))throw Error("Environmental error: no available transport.")}function cr(t,e){Gt.call(this),this.a=new Hn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.j=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.pa&&(t?t["X-WebChannel-Client-Profile"]=e.pa:t={"X-WebChannel-Client-Profile":e.pa}),this.a.F=t,(t=e&&e.httpHeadersOverwriteParam)&&!z(t)&&(this.a.h=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!z(e)&&(this.a.s=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new pr(this)}function fr(t){xe.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function lr(){Se.call(this),this.status=1}function pr(t){this.a=t}(_=On.prototype).$=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.G?_e(this.G):_e(Ne),this.a.onreadystatechange=C(this.va,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(t){return void Un(this,t)}t=n||"";var i,o=new He(this.headers);r&&ze(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=Vn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(o.K()),n=A.FormData&&t instanceof A.FormData,0<=F(Cn,e)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{qn(this),0<this.o&&((this.B=(i=this.a,ot&&vt(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=C(this.ta,this)):this.m=ie(this.ta,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Un(this,t)}},_.ta=function(){void 0!==N&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},_.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Fn(this))},_.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Fn(this,!0)),On.M.C.call(this)},_.va=function(){this.j||(this.w||this.l||this.g?Mn(this):this.Oa())},_.Oa=function(){Mn(this)},_.S=function(){try{return 2<Bn(this)?this.a.status:-1}catch(t){return-1}},_.Y=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},_.Ja=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Rn(e)}},_.qa=function(){return this.h},_.Ma=function(){return"string"==typeof this.f?this.f:String(this.f)},(_=Hn.prototype).oa=8,_.u=1,_.xa=function(t){if(this.g)if(this.g=null,1==this.u){if(!t){this.H=Math.floor(1e5*Math.random()),t=this.H++;var e,n=new Pe(this,t,void 0),r=this.j;if(this.F&&(r?tt(r=$(r),this.F):r=this.F),null===this.h&&(n.m=r),this.fa)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if("__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o=o.length:o=void 0,void 0===o)break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=$n(this,n,e),en(i=Qe(this.v),"RID",t),en(i,"CVER",22),this.s&&en(i,"X-HTTP-Session-Id",this.s),Jn(this,i),this.h&&r&&Gn(i,this.h,r),Tn(this.b,n),this.fa?(en(i,"$req",e),en(i,"SID","null"),n.R=!0,Le(n,i,null)):Le(n,i,e),this.u=2}}else 3==this.u&&(t?Qn(this,t):0==this.f.length||In(this.b)||Qn(this))},_.wa=function(){this.i=null,this.a=new Pe(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var t=Qe(this.ea);en(t,"RID","rpc"),en(t,"SID",this.B),en(t,"CI",this.U?"0":"1"),en(t,"AID",this.G),Jn(this,t),en(t,"TYPE","xmlhttp"),this.h&&this.j&&Gn(t,this.h,this.j),this.D&&this.a.setTimeout(this.D);var e=this.a,n=this.R;e.B=1,e.f=nn(Qe(t)),e.j=null,e.F=!0,Ce(e,n)},_.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,tr(this),ge(19))},_.Ta=function(t){ge(t?2:1)},(_=ar.prototype).na=function(){},_.ma=function(){},_.la=function(){},_.ka=function(){},_.Ha=function(){},hr.prototype.a=function(t,e){return new cr(t,e)},j(cr,Gt),(_=cr.prototype).addEventListener=function(t,e,n,r){cr.M.addEventListener.call(this,t,e,n,r)},_.removeEventListener=function(t,e,n,r){cr.M.removeEventListener.call(this,t,e,n,r)},_.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var t=this.a,e=this.l,n=this.b||void 0;ge(0),t.P=e,t.N=n||{},t.U=t.W,t.v=sr(t,null,t.P),Kn(t)},_.close=function(){Wn(this.a)},_.La=function(t){if("string"==typeof t){var e={};e.__data__=t,Xn(this.a,e)}else this.g?((e={}).__data__=Ht(t),Xn(this.a,e)):Xn(this.a,t)},_.C=function(){this.a.c=null,delete this.f,Wn(this.a),delete this.a,cr.M.C.call(this)},j(fr,xe),j(lr,Se),j(pr,ar),pr.prototype.na=function(){this.a.dispatchEvent("a")},pr.prototype.ma=function(t){this.a.dispatchEvent(new fr(t))},pr.prototype.la=function(t){this.a.dispatchEvent(new lr)},pr.prototype.ka=function(){this.a.dispatchEvent("b")},hr.prototype.createWebChannel=hr.prototype.a,cr.prototype.send=cr.prototype.La,cr.prototype.open=cr.prototype.Ka,cr.prototype.close=cr.prototype.close,be.NO_ERROR=0,be.TIMEOUT=8,be.HTTP_ERROR=6,Ie.COMPLETE="complete",(Te.EventType=Ae).OPEN="a",Ae.CLOSE="b",Ae.ERROR="c",Ae.MESSAGE="d",Gt.prototype.listen=Gt.prototype.ra,On.prototype.listenOnce=On.prototype.sa,On.prototype.getLastError=On.prototype.Ma,On.prototype.getLastErrorCode=On.prototype.qa,On.prototype.getStatus=On.prototype.S,On.prototype.getResponseJson=On.prototype.Ja,On.prototype.getResponseText=On.prototype.Y,On.prototype.send=On.prototype.$;var dr={createWebChannelTransport:function(){return new hr},ErrorCode:be,EventType:Ie,WebChannel:Te,XhrIo:On},yr=dr.createWebChannelTransport,vr=dr.ErrorCode,gr=dr.EventType,mr=dr.WebChannel,wr=dr.XhrIo,br=(Ir.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},Ir.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},Ir.prototype.setServiceProps=function(t){return this.serviceProps=t,this},Ir);function Ir(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}var Er=Ed.SDK_VERSION,_r=new h("@firebase/firestore");function Tr(){return _r.logLevel}function Nr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(_r.logLevel<=p.DEBUG){var r=e.map(xr);_r.debug.apply(_r,d(["Firestore ("+Er+"): "+t],r))}}function Ar(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(_r.logLevel<=p.ERROR){var r=e.map(xr);_r.error.apply(_r,d(["Firestore ("+Er+"): "+t],r))}}function xr(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function Sr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE ("+Er+") INTERNAL ASSERTION FAILED: "+t;throw Ar(e),new Error(e)}function Dr(t){t||Sr()}function Pr(t){return t}function Rr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Or=(kr.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Rr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},kr);function kr(){}function Lr(t,e){return t<e?-1:e<t?1:0}function Cr(t,n,r){return t.length===n.length&&t.every(function(t,e){return r(t,n[e])})}function Vr(t){return t+"\0"}function Ur(t,e,n,r,i){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i}var jr=(Object.defineProperty(Mr.prototype,"i",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),Mr.prototype.isEqual=function(t){return t instanceof Mr&&t.projectId===this.projectId&&t.database===this.database},Mr.prototype.o=function(t){return Lr(this.projectId,t.projectId)||Lr(this.database,t.database)},Mr);function Mr(t,e){this.projectId=t,this.database=e||"(default)"}function Fr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Br(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Gr,zr,Hr,Wr=(hi.prototype.get=function(t){var e=this.h(t),n=this.l[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],u=o[1];if(this.u(s,t))return u}},hi.prototype.has=function(t){return void 0!==this.get(t)},hi.prototype.set=function(t,e){var n=this.h(t),r=this.l[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.u(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.l[n]=[[t,e]]},hi.prototype.delete=function(t){var e=this.h(t),n=this.l[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.u(n[r][0],t))return 1===n.length?delete this.l[e]:n.splice(r,1),!0;return!1},hi.prototype.forEach=function(u){qr(this.l,function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],s=i[1];u(o,s)}})},hi.prototype._=function(){return Br(this.l)},hi),Yr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Xr=(n(ai,Hr=Error),ai),Kr=(ui.now=function(){return ui.fromMillis(Date.now())},ui.fromDate=function(t){return ui.fromMillis(t.getTime())},ui.fromMillis=function(t){var e=Math.floor(t/1e3);return new ui(e,1e6*(t-1e3*e))},ui.prototype.toDate=function(){return new Date(this.toMillis())},ui.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},ui.prototype.T=function(t){return this.seconds===t.seconds?Lr(this.nanoseconds,t.nanoseconds):Lr(this.seconds,t.seconds)},ui.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},ui.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},ui.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},ui),Qr=(si.I=function(t){return new si(t)},si.min=function(){return new si(new Kr(0,0))},si.prototype.o=function(t){return this.timestamp.T(t.timestamp)},si.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},si.prototype.m=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},si.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},si.prototype.A=function(){return this.timestamp},si),Jr=(Object.defineProperty(oi.prototype,"length",{get:function(){return this.R},enumerable:!1,configurable:!0}),oi.prototype.isEqual=function(t){return 0===oi.P(this,t)},oi.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof oi?t.forEach(function(t){e.push(t)}):e.push(t),this.V(e)},oi.prototype.limit=function(){return this.offset+this.length},oi.prototype.g=function(t){return t=void 0===t?1:t,this.V(this.segments,this.offset+t,this.length-t)},oi.prototype.p=function(){return this.V(this.segments,this.offset,this.length-1)},oi.prototype.v=function(){return this.segments[this.offset]},oi.prototype.S=function(){return this.get(this.length-1)},oi.prototype.get=function(t){return this.segments[this.offset+t]},oi.prototype._=function(){return 0===this.length},oi.prototype.D=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},oi.prototype.C=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},oi.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},oi.prototype.F=function(){return this.segments.slice(this.offset,this.limit())},oi.P=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},oi),$r=(n(ii,zr=Jr),ii.prototype.V=function(t,e,n){return new ii(t,e,n)},ii.prototype.N=function(){return this.F().join("/")},ii.prototype.toString=function(){return this.N()},ii.$=function(t){if(0<=t.indexOf("//"))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new ii(t.split("/").filter(function(t){return 0<t.length}))},ii.k=function(){return new ii([])},ii),Zr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ti=(n(ri,Gr=Jr),ri.prototype.V=function(t,e,n){return new ri(t,e,n)},ri.M=function(t){return Zr.test(t)},ri.prototype.N=function(){return this.F().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),ri.M(t)||(t="`"+t+"`"),t}).join(".")},ri.prototype.toString=function(){return this.N()},ri.prototype.O=function(){return 1===this.length&&"__name__"===this.get(0)},ri.L=function(){return new ri(["__name__"])},ri.B=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var s=t[r];if("\\"===s){if(r+1===t.length)throw new Xr(Yr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[r+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Xr(Yr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=u,r+=2}else"`"===s?o=!o:"."!==s||o?n+=s:i(),r++}if(i(),o)throw new Xr(Yr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ri(e)},ri.k=function(){return new ri([])},ri),ei=(ni.q=function(t){return new ni($r.$(t).g(5))},ni.prototype.U=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},ni.prototype.isEqual=function(t){return null!==t&&0===$r.P(this.path,t.path)},ni.prototype.toString=function(){return this.path.toString()},ni.P=function(t,e){return $r.P(t.path,e.path)},ni.W=function(t){return t.length%2==0},ni.j=function(t){return new ni(new $r(t.slice()))},ni);function ni(t){this.path=t}function ri(){return null!==Gr&&Gr.apply(this,arguments)||this}function ii(){return null!==zr&&zr.apply(this,arguments)||this}function oi(t,e,n){void 0===e?e=0:e>t.length&&Sr(),void 0===n?n=t.length-e:n>t.length-e&&Sr(),this.segments=t,this.offset=e,this.R=n}function si(t){this.timestamp=t}function ui(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new Xr(Yr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new Xr(Yr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Xr(Yr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new Xr(Yr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}function ai(t,e){var n=this;return(n=Hr.call(this,e)||this).code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function hi(t,e){this.h=t,this.u=e,this.l={}}function ci(t){return null==t}function fi(t){return-0===t&&1/t==-1/0}function li(t){return"number"==typeof t&&Number.isInteger(t)&&!fi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function pi(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.K=null}function di(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new pi(t,e,n,r,i,o,s)}function yi(t){var e=Pr(t);if(null===e.K){var n=e.path.N();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return(e=t).field.N()+e.op.toString()+Eo(e.value);var e}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return(e=t).field.N()+e.dir;var e}).join(","),ci(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Fu(e.startAt)),e.endAt&&(n+="|ub:",n+=Fu(e.endAt)),e.K=n}return e.K}function vi(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(r=t.orderBy[n],i=e.orderBy[n],r.dir!==i.dir||!r.field.isEqual(i.field))return!1;var r,i,o,s;if(t.filters.length!==e.filters.length)return!1;for(var u=0;u<t.filters.length;u++)if(o=t.filters[u],s=e.filters[u],!(o instanceof Eu&&s instanceof Eu&&o.op===s.op&&o.field.isEqual(s.field)&&mo(o.value,s.value)))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bu(t.startAt,e.startAt)&&Bu(t.endAt,e.endAt)}function gi(t){return ei.W(t.path)&&null===t.collectionGroup&&0===t.filters.length}var mi=(wi.fromBase64String=function(t){return new wi(atob(t))},wi.fromUint8Array=function(t){return new wi(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t))},wi.prototype.toBase64=function(){return t=this.G,btoa(t);var t},wi.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.G)},wi.prototype.H=function(){return 2*this.G.length},wi.prototype.o=function(t){return Lr(this.G,t.G)},wi.prototype.isEqual=function(t){return this.G===t.G},wi);function wi(t){this.G=t}mi.Y=new mi("");function bi(t){this.count=t}var Ii,Ei,_i=(Ti.prototype.Z=function(t){return new Ti(this.target,this.targetId,this.J,t,this.X,this.lastLimboFreeSnapshotVersion,this.resumeToken)},Ti.prototype.tt=function(t,e){return new Ti(this.target,this.targetId,this.J,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},Ti.prototype.et=function(t){return new Ti(this.target,this.targetId,this.J,this.sequenceNumber,this.X,t,this.resumeToken)},Ti);function Ti(t,e,n,r,i,o,s){void 0===i&&(i=Qr.min()),void 0===o&&(o=Qr.min()),void 0===s&&(s=mi.Y),this.target=t,this.targetId=e,this.J=n,this.sequenceNumber=r,this.X=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}function Ni(t){switch(t){case Yr.OK:return Sr();case Yr.CANCELLED:case Yr.UNKNOWN:case Yr.DEADLINE_EXCEEDED:case Yr.RESOURCE_EXHAUSTED:case Yr.INTERNAL:case Yr.UNAVAILABLE:case Yr.UNAUTHENTICATED:return;case Yr.INVALID_ARGUMENT:case Yr.NOT_FOUND:case Yr.ALREADY_EXISTS:case Yr.PERMISSION_DENIED:case Yr.FAILED_PRECONDITION:case Yr.ABORTED:case Yr.OUT_OF_RANGE:case Yr.UNIMPLEMENTED:case Yr.DATA_LOSS:return 1;default:return Sr()}}function Ai(t){if(void 0===t)return Ar("GRPC error has no .code"),Yr.UNKNOWN;switch(t){case Ii.OK:return Yr.OK;case Ii.CANCELLED:return Yr.CANCELLED;case Ii.UNKNOWN:return Yr.UNKNOWN;case Ii.DEADLINE_EXCEEDED:return Yr.DEADLINE_EXCEEDED;case Ii.RESOURCE_EXHAUSTED:return Yr.RESOURCE_EXHAUSTED;case Ii.INTERNAL:return Yr.INTERNAL;case Ii.UNAVAILABLE:return Yr.UNAVAILABLE;case Ii.UNAUTHENTICATED:return Yr.UNAUTHENTICATED;case Ii.INVALID_ARGUMENT:return Yr.INVALID_ARGUMENT;case Ii.NOT_FOUND:return Yr.NOT_FOUND;case Ii.ALREADY_EXISTS:return Yr.ALREADY_EXISTS;case Ii.PERMISSION_DENIED:return Yr.PERMISSION_DENIED;case Ii.FAILED_PRECONDITION:return Yr.FAILED_PRECONDITION;case Ii.ABORTED:return Yr.ABORTED;case Ii.OUT_OF_RANGE:return Yr.OUT_OF_RANGE;case Ii.UNIMPLEMENTED:return Yr.UNIMPLEMENTED;case Ii.DATA_LOSS:return Yr.DATA_LOSS;default:return Sr()}}(Ei=Ii=Ii||{})[Ei.OK=0]="OK",Ei[Ei.CANCELLED=1]="CANCELLED",Ei[Ei.UNKNOWN=2]="UNKNOWN",Ei[Ei.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ei[Ei.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ei[Ei.NOT_FOUND=5]="NOT_FOUND",Ei[Ei.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ei[Ei.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ei[Ei.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ei[Ei.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ei[Ei.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ei[Ei.ABORTED=10]="ABORTED",Ei[Ei.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ei[Ei.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ei[Ei.INTERNAL=13]="INTERNAL",Ei[Ei.UNAVAILABLE=14]="UNAVAILABLE",Ei[Ei.DATA_LOSS=15]="DATA_LOSS";var xi=(Oi.prototype.nt=function(t,e){return new Oi(this.P,this.root.nt(t,e,this.P).copy(null,null,Di.st,null,null))},Oi.prototype.remove=function(t){return new Oi(this.P,this.root.remove(t,this.P).copy(null,null,Di.st,null,null))},Oi.prototype.get=function(t){for(var e=this.root;!e._();){var n=this.P(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},Oi.prototype.indexOf=function(t){for(var e=0,n=this.root;!n._();){var r=this.P(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},Oi.prototype._=function(){return this.root._()},Object.defineProperty(Oi.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),Oi.prototype.it=function(){return this.root.it()},Oi.prototype.rt=function(){return this.root.rt()},Oi.prototype.ot=function(t){return this.root.ot(t)},Oi.prototype.forEach=function(n){this.ot(function(t,e){return n(t,e),!1})},Oi.prototype.toString=function(){var n=[];return this.ot(function(t,e){return n.push(t+":"+e),!1}),"{"+n.join(", ")+"}"},Oi.prototype.ht=function(t){return this.root.ht(t)},Oi.prototype.at=function(){return new Si(this.root,null,this.P,!1)},Oi.prototype.ut=function(t){return new Si(this.root,t,this.P,!1)},Oi.prototype.ct=function(){return new Si(this.root,null,this.P,!0)},Oi.prototype.lt=function(t){return new Si(this.root,t,this.P,!0)},Oi),Si=(Ri.prototype.dt=function(){var t=this.ft.pop(),e={key:t.key,value:t.value};if(this._t)for(t=t.left;!t._();)this.ft.push(t),t=t.right;else for(t=t.right;!t._();)this.ft.push(t),t=t.left;return e},Ri.prototype.wt=function(){return 0<this.ft.length},Ri.prototype.Tt=function(){if(0===this.ft.length)return null;var t=this.ft[this.ft.length-1];return{key:t.key,value:t.value}},Ri),Di=(Pi.prototype.copy=function(t,e,n,r,i){return new Pi(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},Pi.prototype._=function(){return!1},Pi.prototype.ot=function(t){return this.left.ot(t)||t(this.key,this.value)||this.right.ot(t)},Pi.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},Pi.prototype.min=function(){return this.left._()?this:this.left.min()},Pi.prototype.it=function(){return this.min().key},Pi.prototype.rt=function(){return this.right._()?this.key:this.right.rt()},Pi.prototype.nt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.nt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.nt(t,e,n))).Et()},Pi.prototype.It=function(){if(this.left._())return Pi.EMPTY;var t=this;return t.left.At()||t.left.left.At()||(t=t.Rt()),(t=t.copy(null,null,null,t.left.It(),null)).Et()},Pi.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r.left._()||r.left.At()||r.left.left.At()||(r=r.Rt()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.At()&&(r=r.Pt()),r.right._()||r.right.At()||r.right.left.At()||(r=r.Vt()),0===e(t,r.key)){if(r.right._())return Pi.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.It())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.Et()},Pi.prototype.At=function(){return this.color},Pi.prototype.Et=function(){var t=this;return t.right.At()&&!t.left.At()&&(t=t.gt()),t.left.At()&&t.left.left.At()&&(t=t.Pt()),t.left.At()&&t.right.At()&&(t=t.yt()),t},Pi.prototype.Rt=function(){var t=this.yt();return t.right.left.At()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Pt())).gt()).yt()),t},Pi.prototype.Vt=function(){var t=this.yt();return t.left.left.At()&&(t=(t=t.Pt()).yt()),t},Pi.prototype.gt=function(){var t=this.copy(null,null,Pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},Pi.prototype.Pt=function(){var t=this.copy(null,null,Pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},Pi.prototype.yt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},Pi.prototype.pt=function(){var t=this.bt();return Math.pow(2,t)<=this.size+1},Pi.prototype.bt=function(){if(this.At()&&this.left.At())throw Sr();if(this.right.At())throw Sr();var t=this.left.bt();if(t!==this.right.bt())throw Sr();return t+(this.At()?0:1)},Pi);function Pi(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Pi.RED,this.left=null!=r?r:Pi.EMPTY,this.right=null!=i?i:Pi.EMPTY,this.size=this.left.size+1+this.right.size}function Ri(t,e,n,r){this._t=r,this.ft=[];for(var i=1;!t._();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this._t?t.left:t.right;else{if(0===i){this.ft.push(t);break}this.ft.push(t),t=this._t?t.right:t.left}}function Oi(t,e){this.P=t,this.root=e||Di.EMPTY}function ki(){this.size=0}Di.EMPTY=null,Di.RED=!0,Di.st=!1,Di.EMPTY=(Object.defineProperty(ki.prototype,"key",{get:function(){throw Sr()},enumerable:!1,configurable:!0}),Object.defineProperty(ki.prototype,"value",{get:function(){throw Sr()},enumerable:!1,configurable:!0}),Object.defineProperty(ki.prototype,"color",{get:function(){throw Sr()},enumerable:!1,configurable:!0}),Object.defineProperty(ki.prototype,"left",{get:function(){throw Sr()},enumerable:!1,configurable:!0}),Object.defineProperty(ki.prototype,"right",{get:function(){throw Sr()},enumerable:!1,configurable:!0}),ki.prototype.copy=function(t,e,n,r,i){return this},ki.prototype.nt=function(t,e,n){return new Di(t,e)},ki.prototype.remove=function(t,e){return this},ki.prototype._=function(){return!0},ki.prototype.ot=function(t){return!1},ki.prototype.ht=function(t){return!1},ki.prototype.it=function(){return null},ki.prototype.rt=function(){return null},ki.prototype.At=function(){return!1},ki.prototype.pt=function(){return!0},ki.prototype.bt=function(){return 0},new ki);var Li=(ji.prototype.has=function(t){return null!==this.data.get(t)},ji.prototype.first=function(){return this.data.it()},ji.prototype.last=function(){return this.data.rt()},Object.defineProperty(ji.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),ji.prototype.indexOf=function(t){return this.data.indexOf(t)},ji.prototype.forEach=function(n){this.data.ot(function(t,e){return n(t),!1})},ji.prototype.vt=function(t,e){for(var n=this.data.ut(t[0]);n.wt();){var r=n.dt();if(0<=this.P(r.key,t[1]))return;e(r.key)}},ji.prototype.St=function(t,e){var n;for(n=void 0!==e?this.data.ut(e):this.data.at();n.wt();)if(!t(n.dt().key))return},ji.prototype.Dt=function(t){var e=this.data.ut(t);return e.wt()?e.dt().key:null},ji.prototype.at=function(){return new Ci(this.data.at())},ji.prototype.ut=function(t){return new Ci(this.data.ut(t))},ji.prototype.add=function(t){return this.copy(this.data.remove(t).nt(t,!0))},ji.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},ji.prototype._=function(){return this.data._()},ji.prototype.Ct=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},ji.prototype.isEqual=function(t){if(!(t instanceof ji))return!1;if(this.size!==t.size)return!1;for(var e=this.data.at(),n=t.data.at();e.wt();){var r=e.dt().key,i=n.dt().key;if(0!==this.P(r,i))return!1}return!0},ji.prototype.F=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},ji.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},ji.prototype.copy=function(t){var e=new ji(this.P);return e.data=t,e},ji),Ci=(Ui.prototype.dt=function(){return this.Ft.dt().key},Ui.prototype.wt=function(){return this.Ft.wt()},Ui),Vi=new xi(ei.P);function Ui(t){this.Ft=t}function ji(t){this.P=t,this.data=new xi(this.P)}function Mi(){return Vi}function Fi(){return Mi()}var qi=new xi(ei.P);function Bi(){return qi}var Gi=new xi(ei.P),zi=new Li(ei.P);function Hi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=zi,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Wi=new Li(Lr);function Yi(){return Wi}function Xi(t,e,n,r){this.Zt=t,this.removedTargetIds=e,this.key=n,this.te=r}function Ki(t,e){this.targetId=t,this.ee=e}function Qi(t,e,n,r){void 0===n&&(n=mi.Y),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}var Ji=(co.kt=function(t){return new co(t.P)},co.prototype.has=function(t){return null!=this.Nt.get(t)},co.prototype.get=function(t){return this.Nt.get(t)},co.prototype.first=function(){return this.$t.it()},co.prototype.last=function(){return this.$t.rt()},co.prototype._=function(){return this.$t._()},co.prototype.indexOf=function(t){var e=this.Nt.get(t);return e?this.$t.indexOf(e):-1},Object.defineProperty(co.prototype,"size",{get:function(){return this.$t.size},enumerable:!1,configurable:!0}),co.prototype.forEach=function(n){this.$t.ot(function(t,e){return n(t),!1})},co.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Nt.nt(t.key,t),e.$t.nt(t,null))},co.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Nt.remove(t),this.$t.remove(e)):this},co.prototype.isEqual=function(t){if(!(t instanceof co))return!1;if(this.size!==t.size)return!1;for(var e=this.$t.at(),n=t.$t.at();e.wt();){var r=e.dt().key,i=n.dt().key;if(!r.isEqual(i))return!1}return!0},co.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},co.prototype.copy=function(t,e){var n=new co;return n.P=this.P,n.Nt=t,n.$t=e,n},co),$i=(ho.prototype.track=function(t){var e=t.doc.key,n=this.xt.get(e);!n||0!==t.type&&3===n.type?this.xt=this.xt.nt(e,t):3===t.type&&1!==n.type?this.xt=this.xt.nt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.xt=this.xt.nt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.xt=this.xt.nt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.xt=this.xt.remove(e):1===t.type&&2===n.type?this.xt=this.xt.nt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.xt=this.xt.nt(e,{type:2,doc:t.doc}):Sr()},ho.prototype.Mt=function(){var n=[];return this.xt.ot(function(t,e){n.push(e)}),n},ho),Zi=(ao.Ut=function(t,e,n,r){var i=[];return e.forEach(function(t){i.push({type:0,doc:t})}),new ao(t,e,Ji.kt(e),i,n,r,!0,!1)},Object.defineProperty(ao.prototype,"hasPendingWrites",{get:function(){return!this.Lt._()},enumerable:!1,configurable:!0}),ao.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Bt===t.Bt&&this.Lt.isEqual(t.Lt)&&vu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ot.isEqual(t.Ot)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},ao),to=(uo.Gt=function(t,e){var n=new Map;return n.set(t,eo.zt(t,e)),new uo(Qr.min(),n,Yi(),Mi(),Hi())},uo),eo=(so.zt=function(t,e){return new so(mi.Y,e,Hi(),Hi(),Hi())},so),no=(Object.defineProperty(oo.prototype,"Ht",{get:function(){return this.re},enumerable:!1,configurable:!0}),Object.defineProperty(oo.prototype,"resumeToken",{get:function(){return this.ie},enumerable:!1,configurable:!0}),Object.defineProperty(oo.prototype,"he",{get:function(){return 0!==this.ne},enumerable:!1,configurable:!0}),Object.defineProperty(oo.prototype,"ae",{get:function(){return this.oe},enumerable:!1,configurable:!0}),oo.prototype.ue=function(t){0<t.H()&&(this.oe=!0,this.ie=t)},oo.prototype.ce=function(){var n=Hi(),r=Hi(),i=Hi();return this.se.forEach(function(t,e){switch(e){case 0:n=n.add(t);break;case 2:r=r.add(t);break;case 1:i=i.add(t);break;default:Sr()}}),new eo(this.ie,this.re,n,r,i)},oo.prototype.le=function(){this.oe=!1,this.se=lo()},oo.prototype._e=function(t,e){this.oe=!0,this.se=this.se.nt(t,e)},oo.prototype.fe=function(t){this.oe=!0,this.se=this.se.remove(t)},oo.prototype.de=function(){this.ne+=1},oo.prototype.we=function(){--this.ne},oo.prototype.Te=function(){this.oe=!0,this.re=!0},oo),ro=(io.prototype.Pe=function(t){for(var e=0,n=t.Zt;e<n.length;e++){var r=n[e];t.te instanceof au?this.Ve(r,t.te):t.te instanceof hu&&this.ge(r,t.key,t.te)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var s=o[i];this.ge(s,t.key,t.te)}},io.prototype.ye=function(n){var r=this;this.pe(n,function(t){var e=r.be(t);switch(n.state){case 0:r.ve(t)&&e.ue(n.resumeToken);break;case 1:e.we(),e.he||e.le(),e.ue(n.resumeToken);break;case 2:e.we(),e.he||r.removeTarget(t);break;case 3:r.ve(t)&&(e.Te(),e.ue(n.resumeToken));break;case 4:r.ve(t)&&(r.Se(t),e.ue(n.resumeToken));break;default:Sr()}})},io.prototype.pe=function(t,n){var r=this;0<t.targetIds.length?t.targetIds.forEach(n):this.Ie.forEach(function(t,e){r.ve(e)&&n(e)})},io.prototype.De=function(t){var e=t.targetId,n=t.ee.count,r=this.Ce(e);if(r){var i=r.target;if(gi(i))if(0===n){var o=new ei(i.path);this.ge(e,o,new hu(o,Qr.min()))}else Dr(1===n);else this.Fe(e)!==n&&(this.Se(e),this.Re=this.Re.add(e))}},io.prototype.Ne=function(i){var o=this,s=new Map;this.Ie.forEach(function(t,e){var n=o.Ce(e);if(n){if(t.Ht&&gi(n.target)){var r=new ei(n.target.path);null!==o.me.get(r)||o.$e(e,r)||o.ge(e,r,new hu(r,i))}t.ae&&(s.set(e,t.ce()),t.le())}});var r=Hi();this.Ae.forEach(function(t,e){var n=!0;e.St(function(t){var e=o.Ce(t);return!e||2===e.J||(n=!1)}),n&&(r=r.add(t))});var t=new to(i,s,this.Re,this.me,r);return this.me=Mi(),this.Ae=fo(),this.Re=new Li(Lr),t},io.prototype.Ve=function(t,e){if(this.ve(t)){var n=this.$e(t,e.key)?2:0;this.be(t)._e(e.key,n),this.me=this.me.nt(e.key,e),this.Ae=this.Ae.nt(e.key,this.ke(e.key).add(t))}},io.prototype.ge=function(t,e,n){if(this.ve(t)){var r=this.be(t);this.$e(t,e)?r._e(e,1):r.fe(e),this.Ae=this.Ae.nt(e,this.ke(e).delete(t)),n&&(this.me=this.me.nt(e,n))}},io.prototype.removeTarget=function(t){this.Ie.delete(t)},io.prototype.Fe=function(t){var e=this.be(t).ce();return this.Ee.xe(t).size+e.Yt.size-e.Xt.size},io.prototype.de=function(t){this.be(t).de()},io.prototype.be=function(t){var e=this.Ie.get(t);return e||(e=new no,this.Ie.set(t,e)),e},io.prototype.ke=function(t){var e=this.Ae.get(t);return e||(e=new Li(Lr),this.Ae=this.Ae.nt(t,e)),e},io.prototype.ve=function(t){var e=null!==this.Ce(t);return e||Nr("WatchChangeAggregator","Detected inactive target",t),e},io.prototype.Ce=function(t){var e=this.Ie.get(t);return e&&e.he?null:this.Ee.Me(t)},io.prototype.Se=function(e){var n=this;this.Ie.set(e,new no),this.Ee.xe(e).forEach(function(t){n.ge(e,t,null)})},io.prototype.$e=function(t,e){return this.Ee.xe(t).has(e)},io);function io(t){this.Ee=t,this.Ie=new Map,this.me=Mi(),this.Ae=fo(),this.Re=new Li(Lr)}function oo(){this.ne=0,this.se=lo(),this.ie=mi.Y,this.re=!1,this.oe=!0}function so(t,e,n,r,i){this.resumeToken=t,this.Ht=e,this.Yt=n,this.Jt=r,this.Xt=i}function uo(t,e,n,r,i){this.X=t,this.Qt=e,this.Wt=n,this.jt=r,this.Kt=i}function ao(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.Ot=n,this.docChanges=r,this.Lt=i,this.fromCache=o,this.Bt=s,this.qt=u}function ho(){this.xt=new xi(ei.P)}function co(n){this.P=n?function(t,e){return n(t,e)||ei.P(t.key,e.key)}:function(t,e){return ei.P(t.key,e.key)},this.Nt=Bi(),this.$t=new xi(this.P)}function fo(){return new xi(ei.P)}function lo(){return new xi(ei.P)}function po(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function yo(t){var e=_o(t.mapValue.fields.__local_write_time__.timestampValue);return new Kr(e.seconds,e.nanos)}var vo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?po(t)?4:10:Sr()}function mo(i,t){var e,n,r,o=go(i);if(o!==go(t))return!1;switch(o){case 0:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return yo(i).isEqual(yo(t));case 3:return function(t){if("string"==typeof i.timestampValue&&"string"==typeof t.timestampValue&&i.timestampValue.length===t.timestampValue.length)return i.timestampValue===t.timestampValue;var e=_o(i.timestampValue),n=_o(t.timestampValue);return e.seconds===n.seconds&&e.nanos===n.nanos}(t);case 5:return i.stringValue===t.stringValue;case 6:return r=t,No(i.bytesValue).isEqual(No(r.bytesValue));case 7:return i.referenceValue===t.referenceValue;case 8:return n=t,To((e=i).geoPointValue.latitude)===To(n.geoPointValue.latitude)&&To(e.geoPointValue.longitude)===To(n.geoPointValue.longitude);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return To(t.integerValue)===To(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=To(t.doubleValue),r=To(e.doubleValue);return n===r?fi(n)===fi(r):isNaN(n)&&isNaN(r)}return!1}(i,t);case 9:return Cr(i.arrayValue.values||[],t.arrayValue.values||[],mo);case 10:return function(t){var e=i.mapValue.fields||{},n=t.mapValue.fields||{};if(Fr(e)!==Fr(n))return!1;for(var r in e)if(e.hasOwnProperty(r)&&(void 0===n[r]||!mo(e[r],n[r])))return!1;return!0}(t);default:return Sr()}}function wo(t,e){return void 0!==(t.values||[]).find(function(t){return mo(t,e)})}function bo(t,e){var n,r,i,o,s,u,a,h,c,f,l=go(t),p=go(e);if(l!==p)return Lr(l,p);switch(l){case 0:return 0;case 1:return Lr(t.booleanValue,e.booleanValue);case 2:return h=e,c=To(t.integerValue||t.doubleValue),f=To(h.integerValue||h.doubleValue),c<f?-1:f<c?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1;case 3:return Io(t.timestampValue,e.timestampValue);case 4:return Io(yo(t),yo(e));case 5:return Lr(t.stringValue,e.stringValue);case 6:return o=t.bytesValue,s=e.bytesValue,u=No(o),a=No(s),u.o(a);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Lr(n[i],r[i]);if(0!==o)return o}return Lr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return n=t.geoPointValue,r=e.geoPointValue,0!==(i=Lr(To(n.latitude),To(r.latitude)))?i:Lr(To(n.longitude),To(r.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=bo(n[i],r[i]);if(o)return o}return Lr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=Lr(r[s],o[s]);if(0!==u)return u;var a=bo(n[r[s]],i[o[s]]);if(0!==a)return a}return Lr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Sr()}}function Io(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Lr(t,e);var n=_o(t),r=_o(e),i=Lr(n.seconds,r.seconds);return 0!==i?i:Lr(n.nanos,r.nanos)}function Eo(t){return function s(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?"time("+(t=_o(i.timestampValue)).seconds+","+t.nanos+")":"stringValue"in i?i.stringValue:"bytesValue"in i?No(i.bytesValue).toBase64():"referenceValue"in i?(n=i.referenceValue,ei.q(n).toString()):"geoPointValue"in i?"geo("+(e=i.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in i?function(){for(var t="[",e=!0,n=0,r=i.arrayValue.values||[];n<r.length;n++){e?e=!1:t+=",",t+=s(r[n])}return t+"]"}():"mapValue"in i?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+s(t.fields[o])}return e+"}"}(i.mapValue):Sr();var t,e,n}(t)}function _o(t){if(Dr(!!t),"string"!=typeof t)return{seconds:To(t.seconds),nanos:To(t.nanos)};var e=0,n=vo.exec(t);if(Dr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}function To(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function No(t){return"string"==typeof t?mi.fromBase64String(t):mi.fromUint8Array(t)}function Ao(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.N()}}function xo(t){return t&&"integerValue"in t}function So(t){return!!t&&"arrayValue"in t}function Do(t){return t&&"nullValue"in t}function Po(t){return t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ro(t){return t&&"mapValue"in t}var Oo={asc:"ASCENDING",desc:"DESCENDING"},ko={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lo=function(t,e){this.s=t,this.Oe=e};function Co(t){return{integerValue:""+t}}function Vo(t,e){if(t.Oe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fi(e)?"-0":e}}function Uo(t,e){return li(e)?Co(e):Vo(t,e)}function jo(t,e){return t.Oe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mo(t,e){return t.Oe?e.toBase64():e.toUint8Array()}function Fo(t){return Dr(!!t),Qr.I((e=_o(t),new Kr(e.seconds,e.nanos)));var e}function qo(t,e){return new $r(["projects",t.projectId,"databases",t.database]).child("documents").child(e).N()}function Bo(t){var e=$r.$(t);return Dr(is(e)),e}function Go(t,e){return qo(t.s,e.path)}function zo(t,e){var n=Bo(e);return Dr(n.get(1)===t.s.projectId),Dr(!n.get(3)&&!t.s.database||n.get(3)===t.s.database),new ei(Xo(n))}function Ho(t,e){return qo(t.s,e)}function Wo(t){var e=Bo(t);return 4===e.length?$r.k():Xo(e)}function Yo(t){return new $r(["projects",t.s.projectId,"databases",t.s.database]).N()}function Xo(t){return Dr(4<t.length&&"documents"===t.get(4)),t.g(5)}function Ko(t,e,n){return{name:Go(t,e),fields:n.proto.mapValue.fields}}function Qo(t,e){var n,r,i,o,s,u,a;if(e instanceof Us)n={update:Ko(t,e.key,e.value)};else if(e instanceof Ks)n={delete:Go(t,e.key)};else if(e instanceof js)n={update:Ko(t,e.key,e.data),updateMask:(r=e.Le,i=[],r.fields.forEach(function(t){return i.push(t.N())}),{fieldPaths:i})};else if(e instanceof Gs)n={transform:{document:Go(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){return function(t){var e=t.transform;if(e instanceof hs)return{fieldPath:t.field.N(),setToServerValue:"REQUEST_TIME"};if(e instanceof cs)return{fieldPath:t.field.N(),appendMissingElements:{values:e.elements}};if(e instanceof ys)return{fieldPath:t.field.N(),removeAllFromArray:{values:e.elements}};if(e instanceof ws)return{fieldPath:t.field.N(),increment:e.Be};throw Sr()}(t)})}};else{if(!(e instanceof Qs))return Sr();n={verify:Go(t,e.key)}}return e.Ue.qe||(n.currentDocument=(o=t,void 0!==(s=e.Ue).updateTime?{updateTime:(u=o,a=s.updateTime,jo(u,a.A()))}:void 0!==s.exists?{exists:s.exists}:Sr())),n}function Jo(e,t){var n,r,i=t.currentDocument?void 0!==(n=t.currentDocument).updateTime?xs.updateTime(Fo(n.updateTime)):void 0!==n.exists?xs.exists(n.exists):xs.Qe():xs.Qe();if(t.update){t.update.name;var o=zo(e,t.update.name),s=new Js({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=(r=t.updateMask.fieldPaths||[],new _s(r.map(function(t){return ti.B(t)})));return new js(o,s,u,i)}return new Us(o,s,i)}if(t.delete){var a=zo(e,t.delete);return new Ks(a,i)}if(t.transform){var h=zo(e,t.transform.document),c=t.transform.fieldTransforms.map(function(t){return function(t,e){var n=null;if("setToServerValue"in e)Dr("REQUEST_TIME"===e.setToServerValue),n=new hs;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new cs(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new ys(i)}else"increment"in e?n=new ws(t,e.increment):Sr();var o=ti.B(e.fieldPath);return new Ts(o,n)}(e,t)});return Dr(!0===i.exists),new Gs(h,c)}if(t.verify){var f=zo(e,t.verify);return new Qs(f,i)}return Sr()}function $o(t,e){return{documents:[Ho(t,e.path)]}}function Zo(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ho(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ho(t,r.p()),n.structuredQuery.from=[{collectionId:r.S()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return t instanceof Eu?function(t){if("=="===t.op){if(Po(t.value))return{unaryFilter:{field:ns(t.field),op:"IS_NAN"}};if(Do(t.value))return{unaryFilter:{field:ns(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:ns(t.field),op:(e=t.op,ko[e]),value:t.value}};var e}(t):Sr()});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return{field:ns((e=t).field),direction:(n=e.dir,Oo[n])};var e,n})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s,u,a=(s=t,u=e.limit,s.Oe||ci(u)?u:{value:u});return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=ts(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ts(e.endAt)),n}function ts(t){return{before:t.before,values:t.position}}function es(t){var e=!!t.before,n=t.values||[];return new Lu(n,e)}function ns(t){return{fieldPath:t.N()}}function rs(t){return ti.B(t.fieldPath)}function is(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)}function os(){this.je=void 0}function ss(t,e){return t instanceof ws?xo(n=e)||n&&"doubleValue"in n?e:{integerValue:0}:null;var n}var us,as,hs=(n(ls,as=os),ls),cs=(n(fs,us=os),fs);function fs(t){var e=this;return(e=us.call(this)||this).elements=t,e}function ls(){return null!==as&&as.apply(this,arguments)||this}function ps(t,e){for(var n=Es(e),r=function(e){n.some(function(t){return mo(t,e)})||n.push(e)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ds,ys=(n(vs,ds=os),vs);function vs(t){var e=this;return(e=ds.call(this)||this).elements=t,e}function gs(t,e){for(var n=Es(e),r=function(e){n=n.filter(function(t){return!mo(t,e)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ms,ws=(n(bs,ms=os),bs);function bs(t,e){var n=this;return(n=ms.call(this)||this).serializer=t,n.Be=e,n}function Is(t){return To(t.integerValue||t.doubleValue)}function Es(t){return So(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var _s=(Ns.prototype.Ke=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].D(t))return!0;return!1},Ns.prototype.isEqual=function(t){return Cr(this.fields,t.fields,function(t,e){return t.isEqual(e)})},Ns),Ts=function(t,e){this.field=t,this.transform=e};function Ns(t){(this.fields=t).sort(ti.P)}function As(t,e){this.version=t,this.transformResults=e}var xs=(Ss.Qe=function(){return new Ss},Ss.exists=function(t){return new Ss(void 0,t)},Ss.updateTime=function(t){return new Ss(t)},Object.defineProperty(Ss.prototype,"qe",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),Ss.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},Ss);function Ss(t,e){this.updateTime=t,this.exists=e}function Ds(t,e){return void 0!==t.updateTime?e instanceof au&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof au}function Ps(){}function Rs(t,e,n){return t instanceof Us?(i=n,new au(t.key,i.version,t.value,{hasCommittedMutations:!0})):t instanceof js?function(t,e,n){if(!Ds(t.Ue,e))return new cu(t.key,n.version);var r=qs(t,e);return new au(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Gs?function(t,e,n){if(Dr(null!=n.transformResults),!Ds(t.Ue,e))return new cu(t.key,n.version);var r=Hs(0,e),i=function(t,e,n){var r,i,o,s=[];Dr(t.length===n.length);for(var u=0;u<n.length;u++){var a=t[u],h=a.transform,c=null;e instanceof au&&(c=e.field(a.field)),s.push((r=h,i=c,o=n[u],r instanceof cs?ps(r,i):r instanceof ys?gs(r,i):o))}return s}(t.fieldTransforms,e,n.transformResults),o=n.version,s=Ws(t,r.data(),i);return new au(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):(r=n,new hu(t.key,r.version,{hasCommittedMutations:!0}));var r,i}function Os(t,e,n,r){return t instanceof Us?function(t,e){if(!Ds(t.Ue,e))return e;var n=Ls(e);return new au(t.key,n,t.value,{Ge:!0})}(t,e):t instanceof js?function(t,e){if(!Ds(t.Ue,e))return e;var n=Ls(e),r=qs(t,e);return new au(t.key,n,r,{Ge:!0})}(t,e):t instanceof Gs?function(t,e,n,r){if(!Ds(t.Ue,e))return e;var i=Hs(0,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var u=s[o],a=u.transform,h=null;n instanceof au&&(h=n.field(u.field)),null===h&&r instanceof au&&(h=r.field(u.field)),i.push((f=h,l=e,v=y=d=p=void 0,(c=a)instanceof hs?(v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}},f&&(v.fields.__previous_value__=f),{mapValue:v}):c instanceof cs?ps(c,f):c instanceof ys?gs(c,f):(d=ss(p=c,f),y=Is(d)+Is(p.Be),xo(d)&&xo(p.Be)?Co(y):Vo(p.serializer,y))))}var c,f,l,p,d,y,v;return i}(t.fieldTransforms,n,e,r),s=Ws(t,i.data(),o);return new au(t.key,i.version,s,{Ge:!0})}(t,e,r,n):(o=e,Ds((i=t).Ue,o)?new hu(i.key,Qr.min()):o);var i,o}function ks(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ue.isEqual(e.Ue)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Le.isEqual(e.Le):2!==t.type||Cr(t.fieldTransforms,t.fieldTransforms,function(t,e){return r=e,(n=t).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof cs&&o instanceof cs||i instanceof ys&&o instanceof ys?Cr(i.elements,o.elements,mo):i instanceof ws&&o instanceof ws?mo(i.Be,o.Be):i instanceof hs&&o instanceof hs);var n,r,i,o}))}function Ls(t){return t instanceof au?t.version:Qr.min()}var Cs,Vs,Us=(n(Fs,Vs=Ps),Fs),js=(n(Ms,Cs=Ps),Ms);function Ms(t,e,n,r){var i=this;return(i=Cs.call(this)||this).key=t,i.data=e,i.Le=n,i.Ue=r,i.type=1,i}function Fs(t,e,n){var r=this;return(r=Vs.call(this)||this).key=t,r.value=e,r.Ue=n,r.type=0,r}function qs(t,e){return n=t,r=e instanceof au?e.data():Js.empty(),i=new $s(r),n.Le.fields.forEach(function(t){if(!t._()){var e=n.data.field(t);null!==e?i.set(t,e):i.delete(t)}}),i.ze();var n,r,i}var Bs,Gs=(n(zs,Bs=Ps),zs);function zs(t,e){var n=this;return(n=Bs.call(this)||this).key=t,n.fieldTransforms=e,n.type=2,n.Ue=xs.exists(!0),n}function Hs(t,e){return e}function Ws(t,e,n){for(var r=new $s(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.ze()}var Ys,Xs,Ks=(n(nu,Xs=Ps),nu),Qs=(n(eu,Ys=Ps),eu),Js=(tu.empty=function(){return new tu({mapValue:{}})},tu.prototype.field=function(t){if(t._())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ro(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.S()])||null},tu.prototype.isEqual=function(t){return mo(this.proto,t.proto)},tu),$s=(Zs.prototype.set=function(t,e){return this.Je(t,e),this},Zs.prototype.delete=function(t){return this.Je(t,null),this},Zs.prototype.Je=function(t,e){for(var n=this.Ye,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map||(o=o&&10===go(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),n=o}n.set(t.S(),e)},Zs.prototype.ze=function(){var t=this.Xe(ti.k(),this.Ye);return null!=t?new Js(t):this.He},Zs.prototype.Xe=function(r,t){var i=this,o=!1,e=this.He.field(r),s=Ro(e)?Object.assign({},e.mapValue.fields):{};return t.forEach(function(t,e){if(t instanceof Map){var n=i.Xe(r.child(e),t);null!=n&&(s[e]=n,o=!0)}else null!==t?(s[e]=t,o=!0):s.hasOwnProperty(e)&&(delete s[e],o=!0)}),o?{mapValue:{fields:s}}:null},Zs);function Zs(t){void 0===t&&(t=Js.empty()),this.He=t,this.Ye=new Map}function tu(t){this.proto=t}function eu(t,e){var n=this;return(n=Ys.call(this)||this).key=t,n.Ue=e,n.type=4,n}function nu(t,e){var n=this;return(n=Xs.call(this)||this).key=t,n.Ue=e,n.type=3,n}function ru(t){var u=[];return qr(t.fields||{},function(t,e){var n=new ti([t]);if(Ro(e)){var r=ru(e.mapValue).fields;if(0===r.length)u.push(n);else for(var i=0,o=r;i<o.length;i++){var s=o[i];u.push(n.child(s))}}else u.push(n)}),new _s(u)}function iu(t,e){this.key=t,this.version=e}var ou,su,uu,au=(n(yu,uu=iu),yu.prototype.field=function(t){return this.Ze.field(t)},yu.prototype.data=function(){return this.Ze},yu.prototype.tn=function(){return this.Ze.proto},yu.prototype.isEqual=function(t){return t instanceof yu&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ge===t.Ge&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Ze.isEqual(t.Ze)},yu.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Ze.toString()+", {hasLocalMutations: "+this.Ge+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(yu.prototype,"hasPendingWrites",{get:function(){return this.Ge||this.hasCommittedMutations},enumerable:!1,configurable:!0}),yu),hu=(n(du,su=iu),du.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(du.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),du.prototype.isEqual=function(t){return t instanceof du&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},du),cu=(n(pu,ou=iu),pu.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(pu.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),pu.prototype.isEqual=function(t){return t instanceof pu&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},pu),fu=(lu.hn=function(t){return new lu(t)},Object.defineProperty(lu.prototype,"orderBy",{get:function(){if(null===this.sn){this.sn=[];var t=this.an(),e=this.un();if(null!==t&&null===e)t.O()||this.sn.push(new Gu(t)),this.sn.push(new Gu(ti.L(),"asc"));else{for(var n=!1,r=0,i=this.en;r<i.length;r++){var o=i[r];this.sn.push(o),o.field.O()&&(n=!0)}if(!n){var s=0<this.en.length?this.en[this.en.length-1].dir:"asc";this.sn.push(new Gu(ti.L(),s))}}}return this.sn},enumerable:!1,configurable:!0}),lu.prototype.cn=function(t){var e=this.filters.concat([t]);return new lu(this.path,this.collectionGroup,this.en.slice(),e,this.limit,this.nn,this.startAt,this.endAt)},lu.prototype.ln=function(t){var e=this.en.concat([t]);return new lu(this.path,this.collectionGroup,e,this.filters.slice(),this.limit,this.nn,this.startAt,this.endAt)},lu.prototype._n=function(t){return new lu(this.path,this.collectionGroup,this.en.slice(),this.filters.slice(),t,"F",this.startAt,this.endAt)},lu.prototype.fn=function(t){return new lu(this.path,this.collectionGroup,this.en.slice(),this.filters.slice(),t,"L",this.startAt,this.endAt)},lu.prototype.dn=function(t){return new lu(this.path,this.collectionGroup,this.en.slice(),this.filters.slice(),this.limit,this.nn,t,this.endAt)},lu.prototype.wn=function(t){return new lu(this.path,this.collectionGroup,this.en.slice(),this.filters.slice(),this.limit,this.nn,this.startAt,t)},lu.prototype.Tn=function(t){return new lu(t,null,this.en.slice(),this.filters.slice(),this.limit,this.nn,this.startAt,this.endAt)},lu.prototype.En=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.en.length||1===this.en.length&&this.en[0].field.O())},lu.prototype.In=function(){return!ci(this.limit)&&"F"===this.nn},lu.prototype.mn=function(){return!ci(this.limit)&&"L"===this.nn},lu.prototype.un=function(){return 0<this.en.length?this.en[0].field:null},lu.prototype.an=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Eu&&n.An())return n.field}return null},lu.prototype.Rn=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof Eu&&0<=t.indexOf(r.op))return r.op}return null},lu.prototype.Pn=function(){return gi(this.We())},lu.prototype.Vn=function(){return null!==this.collectionGroup},lu.prototype.We=function(){if(!this.rn)if("F"===this.nn)this.rn=di(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e],i="desc"===r.dir?"asc":"desc";t.push(new Gu(r.field,i))}var o=this.endAt?new Lu(this.endAt.position,!this.endAt.before):null,s=this.startAt?new Lu(this.startAt.position,!this.startAt.before):null;this.rn=di(this.path,this.collectionGroup,t,this.filters,this.limit,o,s)}return this.rn},lu.prototype.on=function(t){},lu);function lu(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.en=n,this.filters=r,this.limit=i,this.nn=o,this.startAt=s,this.endAt=u,this.sn=null,this.rn=null,this.startAt&&this.on(this.startAt),this.endAt&&this.on(this.endAt)}function pu(){return null!==ou&&ou.apply(this,arguments)||this}function du(t,e,n){var r=this;return(r=su.call(this,t,e)||this).hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}function yu(t,e,n,r){var i=this;return(i=uu.call(this,t,e)||this).Ze=n,i.Ge=!!r.Ge,i.hasCommittedMutations=!!r.hasCommittedMutations,i}function vu(t,e){return vi(t.We(),e.We())&&t.nn===e.nn}function gu(t){return yi(t.We())+"|lt:"+t.nn}function mu(t){return"Query(target="+(e=t.We(),n=e.path.N(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),0<e.filters.length&&(n+=", filters: ["+e.filters.map(function(t){return(e=t).field.N()+" "+e.op+" "+Eo(e.value);var e}).join(", ")+"]"),ci(e.limit)||(n+=", limit: "+e.limit),0<e.orderBy.length&&(n+=", orderBy: ["+e.orderBy.map(function(t){return(e=t).field.N()+" ("+e.dir+")";var e}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Fu(e.startAt)),e.endAt&&(n+=", endAt: "+Fu(e.endAt)),"Target("+n+")")+"; limitType="+t.nn+")";var e,n}function wu(i,t){return r=i,o=t.key.path,(null!==r.collectionGroup?t.key.U(r.collectionGroup)&&r.path.D(o):ei.W(r.path)?r.path.isEqual(o):r.path.C(o))&&function(t){for(var e=0,n=i.en;e<n.length;e++){var r=n[e];if(!r.field.O()&&null===t.field(r.field))return}return 1}(t)&&function(t){for(var e=0,n=i.filters;e<n.length;e++)if(!n[e].matches(t))return;return 1}(t)&&(n=t,(!(e=i).startAt||qu(e.startAt,e.orderBy,n))&&(!e.endAt||!qu(e.endAt,e.orderBy,n)));var e,n,r,o}function bu(u){return function(t,e){for(var n=!1,r=0,i=u.orderBy;r<i.length;r++){var o=i[r],s=zu(o,t,e);if(0!==s)return s;n=n||o.field.O()}return 0}}var Iu,Eu=(n(_u,Iu=function(){}),_u.create=function(t,e,n){if(t.O())return"in"===e?new Pu(t,n):new Du(t,e,n);if(Do(n)){if("=="!==e)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new _u(t,e,n)}if(Po(n)){if("=="!==e)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new _u(t,e,n)}return"array-contains"===e?new Ru(t,n):"in"===e?new Ou(t,n):"array-contains-any"===e?new ku(t,n):new _u(t,e,n)},_u.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&go(this.value)===go(e)&&this.gn(bo(e,this.value))},_u.prototype.gn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case">":return 0<t;case">=":return 0<=t;default:return Sr()}},_u.prototype.An=function(){return 0<=["<","<=",">",">="].indexOf(this.op)},_u);function _u(t,e,n){var r=this;return(r=Iu.call(this)||this).field=t,r.op=e,r.value=n,r}var Tu,Nu,Au,xu,Su,Du=(n(Mu,Su=Eu),Mu.prototype.matches=function(t){var e=ei.P(t.key,this.key);return this.gn(e)},Mu),Pu=(n(ju,xu=Eu),ju.prototype.matches=function(e){return this.keys.some(function(t){return t.isEqual(e.key)})},ju),Ru=(n(Uu,Au=Eu),Uu.prototype.matches=function(t){var e=t.field(this.field);return So(e)&&wo(e.arrayValue,this.value)},Uu),Ou=(n(Vu,Nu=Eu),Vu.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&wo(this.value.arrayValue,e)},Vu),ku=(n(Cu,Tu=Eu),Cu.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!So(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return wo(e.value.arrayValue,t)})},Cu),Lu=function(t,e){this.position=t,this.before=e};function Cu(t,e){return Tu.call(this,t,"array-contains-any",e)||this}function Vu(t,e){return Nu.call(this,t,"in",e)||this}function Uu(t,e){return Au.call(this,t,"array-contains",e)||this}function ju(t,e){var n=this;return(n=xu.call(this,t,"in",e)||this).keys=(e.arrayValue.values||[]).map(function(t){return ei.q(t.referenceValue)}),n}function Mu(t,e,n){var r=this;return(r=Su.call(this,t,e,n)||this).key=ei.q(n.referenceValue),r}function Fu(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Eo(t)}).join(",")}function qu(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.O()?ei.P(ei.q(s.referenceValue),n.key):bo(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Bu(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!mo(t.position[n],e.position[n]))return!1;return!0}var Gu=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function zu(t,e,n){var r,i,o,s,u=t.field.O()?ei.P(e.key,n.key):(r=t.field,i=n,o=e.field(r),s=i.field(r),null!==o&&null!==s?bo(o,s):Sr());switch(t.dir){case"asc":return u;case"desc":return-1*u;default:return Sr()}}var Hu=(ua.prototype.pn=function(t,e,n){for(var r=n.bn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Rs(o,e,r[i]))}return e},ua.prototype.vn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Os(i,e,e,this.yn))}for(var o=e,s=0,u=this.mutations;s<u.length;s++){var a=u[s];a.key.isEqual(t)&&(e=Os(a,e,o,this.yn))}return e},ua.prototype.Sn=function(n){var r=this,i=n;return this.mutations.forEach(function(t){var e=r.vn(t.key,n.get(t.key));e&&(i=i.nt(t.key,e))}),i},ua.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Hi())},ua.prototype.isEqual=function(t){return this.batchId===t.batchId&&Cr(this.mutations,t.mutations,function(t,e){return ks(t,e)})&&Cr(this.baseMutations,t.baseMutations,function(t,e){return ks(t,e)})},ua),Wu=(sa.from=function(t,e,n){Dr(t.mutations.length===n.length);for(var r=Gi,i=t.mutations,o=0;o<i.length;o++)r=r.nt(i[o].key,n[o].version);return new sa(t,e,n,r)},sa),Yu=(oa.prototype.catch=function(t){return this.next(void 0,t)},oa.prototype.next=function(r,i){var o=this;return this.kn&&Sr(),this.kn=!0,this.$n?this.error?this.xn(i,this.error):this.Mn(r,this.result):new oa(function(e,n){o.Fn=function(t){o.Mn(r,t).next(e,n)},o.Nn=function(t){o.xn(i,t).next(e,n)}})},oa.prototype.On=function(){var n=this;return new Promise(function(t,e){n.next(t,e)})},oa.prototype.Ln=function(t){try{var e=t();return e instanceof oa?e:oa.resolve(e)}catch(t){return oa.reject(t)}},oa.prototype.Mn=function(t,e){return t?this.Ln(function(){return t(e)}):oa.resolve(e)},oa.prototype.xn=function(t,e){return t?this.Ln(function(){return t(e)}):oa.reject(e)},oa.resolve=function(n){return new oa(function(t,e){t(n)})},oa.reject=function(n){return new oa(function(t,e){e(n)})},oa.Bn=function(t){return new oa(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(t){return n(t)})}),o=!0,i===r&&e()})},oa.qn=function(t){for(var n=oa.resolve(!1),e=function(e){n=n.next(function(t){return t?oa.resolve(t):e()})},r=0,i=t;r<i.length;r++)e(i[r]);return n},oa.forEach=function(t,n){var r=this,i=[];return t.forEach(function(t,e){i.push(n.call(r,t,e))}),this.Bn(i)},oa),Xu=(Object.defineProperty(ia.prototype,"readTime",{get:function(){return this.Wn},set:function(t){this.Wn=t},enumerable:!1,configurable:!0}),ia.prototype.jn=function(t,e){this.Kn(),this.readTime=e,this.Un.set(t.key,t)},ia.prototype.Gn=function(t,e){this.Kn(),e&&(this.readTime=e),this.Un.set(t,null)},ia.prototype.zn=function(t,e){this.Kn();var n=this.Un.get(e);return void 0!==n?Yu.resolve(n):this.Hn(t,e)},ia.prototype.getEntries=function(t,e){return this.Yn(t,e)},ia.prototype.apply=function(t){return this.Kn(),this.Qn=!0,this.Jn(t)},ia.prototype.Kn=function(){},ia),Ku="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qu=(ra.prototype.Zn=function(t){this.Xn.push(t)},ra.prototype.ts=function(){this.Xn.forEach(function(t){return t()})},ra),Ju=(na.prototype.rs=function(e,n){var r=this;return this.ns.os(e,n).next(function(t){return r.hs(e,n,t)})},na.prototype.hs=function(t,r,i){return this.es.zn(t,r).next(function(t){for(var e=0,n=i;e<n.length;e++)t=n[e].vn(r,t);return t})},na.prototype.as=function(t,e,i){var o=Fi();return e.forEach(function(t,e){for(var n=0,r=i;n<r.length;n++)e=r[n].vn(t,e);o=o.nt(t,e)}),o},na.prototype.us=function(e,t){var n=this;return this.es.getEntries(e,t).next(function(t){return n.cs(e,t)})},na.prototype.cs=function(r,i){var o=this;return this.ns.ls(r,i).next(function(t){var e=o.as(r,i,t),n=Mi();return e.forEach(function(t,e){e=e||new hu(t,Qr.min()),n=n.nt(t,e)}),n})},na.prototype._s=function(t,e,n){return e.Pn()?this.fs(t,e.path):e.Vn()?this.ds(t,e,n):this.ws(t,e,n)},na.prototype.fs=function(t,e){return this.rs(t,new ei(e)).next(function(t){var e=Bi();return t instanceof au&&(e=e.nt(t.key,t)),e})},na.prototype.ds=function(n,r,i){var o=this,s=r.collectionGroup,u=Bi();return this.ss.Ts(n,s).next(function(t){return Yu.forEach(t,function(t){var e=r.Tn(t.child(s));return o.ws(n,e,i).next(function(t){t.forEach(function(t,e){u=u.nt(t,e)})})}).next(function(){return u})})},na.prototype.ws=function(e,n,t){var c,f,r=this;return this.es._s(e,n,t).next(function(t){return c=t,r.ns.Es(e,n)}).next(function(t){return f=t,r.Is(e,f,c).next(function(t){c=t;for(var e=0,n=f;e<n.length;e++)for(var r=n[e],i=0,o=r.mutations;i<o.length;i++){var s=o[i],u=s.key,a=c.get(u),h=Os(s,a,a,r.yn);c=h instanceof au?c.nt(u,h):c.remove(u)}})}).next(function(){return c.forEach(function(t,e){wu(n,e)||(c=c.remove(t))}),c})},na.prototype.Is=function(t,e,n){for(var r=Hi(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof js&&null===n.get(a.key)&&(r=r.add(a.key))}var h=n;return this.es.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof au&&(h=h.nt(t,e))}),h})},na),$u=(ea.Rs=function(t,e){for(var n=Hi(),r=Hi(),i=0,o=e.docChanges;i<o.length;i++){var s=o[i];switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}}return new ea(t,e.fromCache,n,r)},ea),Zu=(ta.prototype.Vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},ta.prototype.next=function(){var t=++this.previousValue;return this.gs&&this.gs(t),t},ta);function ta(t,e){var n=this;this.previousValue=t,e&&(e.Ps=function(t){return n.Vs(t)},this.gs=function(t){return e.ys(t)})}function ea(t,e,n,r){this.targetId=t,this.fromCache=e,this.ms=n,this.As=r}function na(t,e,n){this.es=t,this.ns=e,this.ss=n}function ra(){this.Xn=[]}function ia(){this.Un=new Wr(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.Qn=!1}function oa(t){var e=this;this.Fn=null,this.Nn=null,this.result=void 0,this.error=void 0,this.$n=!1,this.kn=!1,t(function(t){e.$n=!0,e.result=t,e.Fn&&e.Fn(t)},function(t){e.$n=!0,e.error=t,e.Nn&&e.Nn(t)})}function sa(t,e,n,r){this.batch=t,this.Dn=e,this.bn=n,this.Cn=r}function ua(t,e,n,r){this.batchId=t,this.yn=e,this.baseMutations=n,this.mutations=r}Zu.ps=-1;function aa(){var n=this;this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})}var ha=(ca.prototype.reset=function(){this.Fs=0},ca.prototype.ks=function(){this.Fs=this.Cs},ca.prototype.xs=function(t){var e=this;this.cancel();var n=Math.floor(this.Fs+this.Ms()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);0<i&&Nr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ns=this.bs.Os(this.vs,i,function(){return e.$s=Date.now(),t()}),this.Fs*=this.Ds,this.Fs<this.Ss&&(this.Fs=this.Ss),this.Fs>this.Cs&&(this.Fs=this.Cs)},ca.prototype.Ls=function(){null!==this.Ns&&(this.Ns.Bs(),this.Ns=null)},ca.prototype.cancel=function(){null!==this.Ns&&(this.Ns.cancel(),this.Ns=null)},ca.prototype.Ms=function(){return(Math.random()-.5)*this.Fs},ca);function ca(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.bs=t,this.vs=e,this.Ss=n,this.Ds=r,this.Cs=i,this.Fs=0,this.Ns=null,this.$s=Date.now(),this.reset()}function fa(t){for(var e="",n=0;n<t.length;n++)0<e.length&&(e=pa(e)),e=la(t.get(n),e);return pa(e)}function la(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function pa(t){return t+""}function da(t){var e=t.length;if(Dr(2<=e),2===e)return Dr(""===t.charAt(0)&&""===t.charAt(1)),$r.k();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||n<s)&&Sr(),t.charAt(s+1)){case"":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:Sr()}o=s+2}return new $r(r)}var ya=(ba.prototype.Us=function(t,e){return this.qs.add(e),Yu.resolve()},ba.prototype.Ts=function(t,e){return Yu.resolve(this.qs.getEntries(e))},ba),va=(wa.prototype.add=function(t){var e=t.S(),n=t.p(),r=this.index[e]||new Li($r.P),i=!r.has(n);return this.index[e]=r.add(n),i},wa.prototype.has=function(t){var e=t.S(),n=t.p(),r=this.index[e];return r&&r.has(n)},wa.prototype.getEntries=function(t){return(this.index[t]||new Li($r.P)).F()},wa),ga=(ma.prototype.Us=function(t,e){var n=this;if(this.Qs.has(e))return Yu.resolve();var r=e.S(),i=e.p();t.Zn(function(){n.Qs.add(e)});var o={collectionId:r,parent:fa(i)};return Ia(t).put(o)},ma.prototype.Ts=function(t,i){var o=[],e=IDBKeyRange.bound([i,""],[Vr(i),""],!1,!0);return Ia(t).Ws(e).next(function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(r.collectionId!==i)break;o.push(da(r.parent))}return o})},ma);function ma(){this.Qs=new va}function wa(){this.index={}}function ba(){this.qs=new va}function Ia(t){return Qa.js(t,xh.store)}function Ea(t){this.Ks=t}function _a(t,e){if(e.document)return n=t.Ks,r=e.document,i=!!e.hasCommittedMutations,o=zo(n,r.name),s=Fo(r.updateTime),u=new Js({mapValue:{fields:r.fields}}),new au(o,s,u,{hasCommittedMutations:!!i});var n,r,i,o,s,u;if(e.noDocument){var a=ei.j(e.noDocument.path),h=Sa(e.noDocument.readTime);return new hu(a,h,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var c=ei.j(e.unknownDocument.path),f=Sa(e.unknownDocument.version);return new cu(c,f)}return Sr()}function Ta(t,e,n){var r,i,o=Na(n),s=e.key.path.p().F();if(e instanceof au){var u={name:Go(r=t.Ks,(i=e).key),fields:i.tn().mapValue.fields,updateTime:jo(r,i.version.A())},a=e.hasCommittedMutations;return new Eh(null,null,u,a,o,s)}if(e instanceof hu){var h=e.key.path.F(),c=xa(e.version),f=e.hasCommittedMutations;return new Eh(null,new bh(h,c),null,f,o,s)}if(e instanceof cu){var l=e.key.path.F(),p=xa(e.version);return new Eh(new Ih(l,p),null,null,!0,o,s)}return Sr()}function Na(t){var e=t.A();return[e.seconds,e.nanoseconds]}function Aa(t){var e=new Kr(t[0],t[1]);return Qr.I(e)}function xa(t){var e=t.A();return new ph(e.seconds,e.nanoseconds)}function Sa(t){var e=new Kr(t.seconds,t.nanoseconds);return Qr.I(e)}function Da(e,t){var n=(t.baseMutations||[]).map(function(t){return Jo(e.Ks,t)}),r=t.mutations.map(function(t){return Jo(e.Ks,t)}),i=Kr.fromMillis(t.localWriteTimeMs);return new Hu(t.batchId,i,n,r)}function Pa(t){var e,n=Sa(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?Sa(t.lastLimboFreeSnapshotVersion):Qr.min();return e=(void 0!==t.query.documents?function(t){Dr(1===t.documents.length);var e=t.documents[0];return fu.hn(Wo(e)).We()}:function(t){var e=Wo(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(0<r){Dr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function e(t){return t?void 0!==t.unaryFilter?[function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=rs(t.unaryFilter.field);return Eu.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=rs(t.unaryFilter.field);return Eu.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Sr()}}(t)]:void 0!==t.fieldFilter?[(n=t,Eu.create(rs(n.fieldFilter.field),function(){switch(n.fieldFilter.op){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Sr()}}(),n.fieldFilter.value))]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e(t)}).reduce(function(t,e){return t.concat(e)}):Sr():[];var n}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(t){return new Gu(rs((e=t).field),function(){switch(e.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var e}));var a,h,c=null;n.limit&&(a=n.limit,c=ci(h="object"==typeof a?a.value:a)?null:h);var f=null;n.startAt&&(f=es(n.startAt));var l=null;return n.endAt&&(l=es(n.endAt)),new fu(e,i,u,s,c,"F",f,l).We()})(t.query),new _i(e,t.targetId,0,t.lastListenSequenceNumber,n,r,mi.fromBase64String(t.resumeToken))}function Ra(t,e){var n,r=xa(e.X),i=xa(e.lastLimboFreeSnapshotVersion);n=(gi(e.target)?$o:Zo)(t.Ks,e.target);var o=e.resumeToken.toBase64();return new Th(e.targetId,yi(e.target),r,o,e.sequenceNumber,i,n)}var Oa,ka=(La.prototype.jn=function(t,e,n){return Va(t).put(Ua(e),n)},La.prototype.Gn=function(t,e){var n=Va(t),r=Ua(e);return n.delete(r)},La.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(t){return t.byteSize+=n,r.Gs(e,t)})},La.prototype.zn=function(t,e){var n=this;return Va(t).get(Ua(e)).next(function(t){return n.zs(t)})},La.prototype.Hs=function(t,e){var n=this;return Va(t).get(Ua(e)).next(function(t){var e=n.zs(t);return e?{Ys:e,size:ja(t)}:null})},La.prototype.getEntries=function(t,e){var r=this,i=Fi();return this.Js(t,e,function(t,e){var n=r.zs(e);i=i.nt(t,n)}).next(function(){return i})},La.prototype.Xs=function(t,e){var r=this,i=Fi(),o=new xi(ei.P);return this.Js(t,e,function(t,e){var n=r.zs(e);o=n?(i=i.nt(t,n),o.nt(t,ja(e))):(i=i.nt(t,null),o.nt(t,0))}).next(function(){return{Zs:i,ti:o}})},La.prototype.Js=function(t,e,i){if(e._())return Yu.resolve();var n=IDBKeyRange.bound(e.first().path.F(),e.last().path.F()),o=e.at(),s=o.dt();return Va(t).ei({range:n},function(t,e,n){for(var r=ei.j(t);s&&ei.P(s,r)<0;)i(s,null),s=o.dt();s&&s.isEqual(r)&&(i(s,e),s=o.wt()?o.dt():null),s?n.ni(s.path.F()):n.done()}).next(function(){for(;s;)i(s,null),s=o.wt()?o.dt():null})},La.prototype._s=function(t,i,e){var o=this,s=Bi(),u=i.path.length+1,n={};if(e.isEqual(Qr.min())){var r=i.path.F();n.range=IDBKeyRange.lowerBound(r)}else{var a=i.path.F(),h=Na(e);n.range=IDBKeyRange.lowerBound([a,h],!0),n.index=Eh.collectionReadTimeIndex}return Va(t).ei(n,function(t,e,n){if(t.length===u){var r=_a(o.serializer,e);i.path.D(r.key.path)?r instanceof au&&wu(i,r)&&(s=s.nt(r.key,r)):n.done()}}).next(function(){return s})},La.prototype.si=function(t,e){var r=this,i=Mi(),o=Na(e),n=Va(t),s=IDBKeyRange.lowerBound(o,!0);return n.ei({index:Eh.readTimeIndex,range:s},function(t,e){var n=_a(r.serializer,e);i=i.nt(n.key,n),o=e.readTime}).next(function(){return{ii:i,readTime:Aa(o)}})},La.prototype.ri=function(t){var e=Va(t),r=Qr.min();return e.ei({index:Eh.readTimeIndex,reverse:!0},function(t,e,n){e.readTime&&(r=Aa(e.readTime)),n.done()}).next(function(){return r})},La.prototype.oi=function(t){return new La.hi(this,!!t&&t.ai)},La.prototype.ui=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},La.prototype.getMetadata=function(t){return Ca(t).get(_h.key).next(function(t){return Dr(!!t),t})},La.prototype.Gs=function(t,e){return Ca(t).put(_h.key,e)},La.prototype.zs=function(t){if(t){var e=_a(this.serializer,t);return e instanceof hu&&e.version.isEqual(Qr.min())?null:e}return null},La);function La(t,e){this.serializer=t,this.ss=e}function Ca(t){return Qa.js(t,_h.store)}function Va(t){return Qa.js(t,Eh.store)}function Ua(t){return t.path.F()}function ja(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Sr();e=t.noDocument}return JSON.stringify(e).length}function Ma(t,e){var n=this;return(n=Oa.call(this)||this).ci=t,n.ai=e,n.li=new Wr(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),n}ka.hi=(n(Ma,Oa=Xu),Ma.prototype.Jn=function(s){var u=this,a=[],h=0,c=new Li(function(t,e){return Lr(t.N(),e.N())});return this.Un.forEach(function(t,e){var n=u.li.get(t);if(e){var r=Ta(u.ci.serializer,e,u.readTime);c=c.add(t.path.p());var i=ja(r);h+=i-n,a.push(u.ci.jn(s,t,r))}else if(h-=n,u.ai){var o=Ta(u.ci.serializer,new hu(t,Qr.min()),u.readTime);a.push(u.ci.jn(s,t,o))}else a.push(u.ci.Gn(s,t))}),c.forEach(function(t){a.push(u.ci.ss.Us(s,t))}),a.push(this.ci.updateMetadata(s,h)),Yu.Bn(a)},Ma.prototype.Hn=function(t,e){var n=this;return this.ci.Hs(t,e).next(function(t){return null===t?(n.li.set(e,0),null):(n.li.set(e,t.size),t.Ys)})},Ma.prototype.Yn=function(t,e){var n=this;return this.ci.Xs(t,e).next(function(t){var e=t.Zs;return t.ti.forEach(function(t,e){n.li.set(t,e)}),e})},Ma);var Fa=(Ga.prototype.next=function(){return this._i+=2,this._i},Ga.fi=function(){return new Ga(0)},Ga.di=function(){return new Ga(-1)},Ga),qa=(Ba.prototype.Ti=function(n){var r=this;return this.Ei(n).next(function(t){var e=new Fa(t.highestTargetId);return t.highestTargetId=e.next(),r.Ii(n,t).next(function(){return t.highestTargetId})})},Ba.prototype.mi=function(t){return this.Ei(t).next(function(t){return Qr.I(new Kr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},Ba.prototype.Ai=function(t){return this.Ei(t).next(function(t){return t.highestListenSequenceNumber})},Ba.prototype.Ri=function(e,n,r){var i=this;return this.Ei(e).next(function(t){return t.highestListenSequenceNumber=n,r&&(t.lastRemoteSnapshotVersion=r.A()),n>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=n),i.Ii(e,t)})},Ba.prototype.Pi=function(e,n){var r=this;return this.Vi(e,n).next(function(){return r.Ei(e).next(function(t){return t.targetCount+=1,r.gi(n,t),r.Ii(e,t)})})},Ba.prototype.yi=function(t,e){return this.Vi(t,e)},Ba.prototype.pi=function(e,t){var n=this;return this.bi(e,t.targetId).next(function(){return za(e).delete(t.targetId)}).next(function(){return n.Ei(e)}).next(function(t){return Dr(0<t.targetCount),--t.targetCount,n.Ii(e,t)})},Ba.prototype.vi=function(r,i,o){var s=this,u=0,a=[];return za(r).ei(function(t,e){var n=Pa(e);n.sequenceNumber<=i&&null===o.get(n.targetId)&&(u++,a.push(s.pi(r,n)))}).next(function(){return Yu.Bn(a)}).next(function(){return u})},Ba.prototype.pe=function(t,r){return za(t).ei(function(t,e){var n=Pa(e);r(n)})},Ba.prototype.Ei=function(t){return Ha(t).get(Ah.key).next(function(t){return Dr(null!==t),t})},Ba.prototype.Ii=function(t,e){return Ha(t).put(Ah.key,e)},Ba.prototype.Vi=function(t,e){return za(t).put(Ra(this.serializer,e))},Ba.prototype.gi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},Ba.prototype.Si=function(t){return this.Ei(t).next(function(t){return t.targetCount})},Ba.prototype.Di=function(t,i){var e=yi(i),n=IDBKeyRange.bound([e,Number.NEGATIVE_INFINITY],[e,Number.POSITIVE_INFINITY]),o=null;return za(t).ei({range:n,index:Th.queryTargetsIndexName},function(t,e,n){var r=Pa(e);vi(i,r.target)&&(o=r,n.done())}).next(function(){return o})},Ba.prototype.Ci=function(n,t,r){var i=this,o=[],s=Wa(n);return t.forEach(function(t){var e=fa(t.path);o.push(s.put(new Nh(r,e))),o.push(i.wi.Fi(n,r,t))}),Yu.Bn(o)},Ba.prototype.Ni=function(n,t,r){var i=this,o=Wa(n);return Yu.forEach(t,function(t){var e=fa(t.path);return Yu.Bn([o.delete([r,e]),i.wi.$i(n,r,t)])})},Ba.prototype.bi=function(t,e){var n=Wa(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},Ba.prototype.ki=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Wa(t),o=Hi();return r.ei({range:n,xi:!0},function(t,e,n){var r=da(t[1]),i=new ei(r);o=o.add(i)}).next(function(){return o})},Ba.prototype.Mi=function(t,e){var n=fa(e.path),r=IDBKeyRange.bound([n],[Vr(n)],!1,!0),i=0;return Wa(t).ei({index:Nh.documentTargetsIndex,xi:!0,range:r},function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())}).next(function(){return 0<i})},Ba.prototype.Me=function(t,e){return za(t).get(e).next(function(t){return t?Pa(t):null})},Ba);function Ba(t,e){this.wi=t,this.serializer=e}function Ga(t){this._i=t}function za(t){return Qa.js(t,Th.store)}function Ha(t){return Qa.js(t,Ah.store)}function Wa(t){return Qa.js(t,Nh.store)}var Ya,Xa="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ka=(n($a,Ya=Qu),$a),Qa=(Ja.js=function(t,e){if(t instanceof Ka)return Oh.js(t.Oi,e);throw Sr()},Ja.prototype.start=function(){var e=this;return Oh.tr(this.Yi,fh,new lh(this.serializer)).then(function(t){return e.er=t,e.nr()}).then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Xr(Yr.FAILED_PRECONDITION,Xa);return e.sr(),e.ir(),e.rr(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.Xi.Ai(t)})}).then(function(t){e.Ui=new Zu(t,e.Bi)}).then(function(){e.Qi=!0}).catch(function(t){return e.er&&e.er.close(),Promise.reject(t)})},Ja.prototype.or=function(n){var t=this;return this.zi=function(e){return y(t,void 0,void 0,function(){return v(this,function(t){return this.hr?[2,n(e)]:[2]})})},n(this.isPrimary)},Ja.prototype.ar=function(n){var t=this;this.er.ur(function(e){return y(t,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return null===e.newVersion?[4,n()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},Ja.prototype.cr=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.bs.lr(function(){return y(e,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return this.hr?[4,this.nr()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},Ja.prototype.nr=function(){var n=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return th(e).put(new Dh(n.clientId,Date.now(),n.networkEnabled,n.inForeground)).next(function(){if(n.isPrimary)return n._r(e).next(function(t){t||(n.isPrimary=!1,n.bs.dr(function(){return n.zi(!1)}))})}).next(function(){return n.wr(e)}).next(function(t){return n.isPrimary&&!t?n.Tr(e).next(function(){return!1}):!!t&&n.Er(e).next(function(){return!0})})}).catch(function(t){if(jh(t))return Nr("IndexedDbPersistence","Failed to extend owner lease: ",t),n.isPrimary;if(!n.allowTabSynchronization)throw t;return Nr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){n.isPrimary!==t&&n.bs.dr(function(){return n.zi(t)}),n.isPrimary=t})},Ja.prototype._r=function(t){var e=this;return Za(t).get(dh.key).next(function(t){return Yu.resolve(e.Ir(t))})},Ja.prototype.mr=function(t){return th(t).delete(this.clientId)},Ja.prototype.Ar=function(){return y(this,void 0,void 0,function(){var e,n,r,i,o=this;return v(this,function(t){switch(t.label){case 0:return!this.isPrimary||this.Rr(this.Gi,18e5)?[3,2]:(this.Gi=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var r=Ja.js(t,Dh.store);return r.Ws().next(function(t){var e=o.Pr(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)});return Yu.forEach(n,function(t){return r.delete(t.clientId)}).next(function(){return n})})}).catch(function(){return[]})]);case 1:if(e=t.sent(),this.Zi)for(n=0,r=e;n<r.length;n++)i=r[n],this.Zi.removeItem(this.Vr(i.clientId));t.label=2;case 2:return[2]}})})},Ja.prototype.rr=function(){var t=this;this.Ki=this.bs.Os("client_metadata_refresh",4e3,function(){return t.nr().then(function(){return t.Ar()}).then(function(){return t.rr()})})},Ja.prototype.Ir=function(t){return!!t&&t.ownerId===this.clientId},Ja.prototype.wr=function(e){var i=this;return this.qi?Yu.resolve(!0):Za(e).get(dh.key).next(function(t){if(null!==t&&i.Rr(t.leaseTimestampMs,5e3)&&!i.gr(t.ownerId)){if(i.Ir(t)&&i.networkEnabled)return!0;if(!i.Ir(t)){if(!t.allowTabSynchronization)throw new Xr(Yr.FAILED_PRECONDITION,Xa);return!1}}return!(!i.networkEnabled||!i.inForeground)||th(e).Ws().next(function(t){return void 0===i.Pr(t,5e3).find(function(t){if(i.clientId!==t.clientId){var e=!i.networkEnabled&&t.networkEnabled,n=!i.inForeground&&t.inForeground,r=i.networkEnabled===t.networkEnabled;if(e||n&&r)return!0}return!1})})}).next(function(t){return i.isPrimary!==t&&Nr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},Ja.prototype.yr=function(){return y(this,void 0,void 0,function(){var e=this;return v(this,function(t){switch(t.label){case 0:return this.Qi=!1,this.pr(),this.Ki&&(this.Ki.cancel(),this.Ki=null),this.br(),this.vr(),[4,this.runTransaction("shutdown","readwrite",function(t){return e.Tr(t).next(function(){return e.mr(t)})}).catch(function(t){Nr("IndexedDbPersistence","Proceeding with shutdown despite failure: ",t)})];case 1:return t.sent(),this.er.close(),this.Sr(),[2]}})})},Ja.prototype.Pr=function(t,e){var n=this;return t.filter(function(t){return n.Rr(t.updateTimeMs,e)&&!n.gr(t.clientId)})},Ja.prototype.Dr=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return th(t).Ws().next(function(t){return e.Pr(t,18e5).map(function(t){return t.clientId})})})},Ja.clearPersistence=function(n){return y(this,void 0,void 0,function(){var e;return v(this,function(t){switch(t.label){case 0:return Ja.Hi()?(e=n+Ja.Ji,[4,Oh.delete(e)]):[2,Promise.resolve()];case 1:return t.sent(),[2]}})})},Object.defineProperty(Ja.prototype,"hr",{get:function(){return this.Qi},enumerable:!1,configurable:!0}),Ja.prototype.Cr=function(t){return ih.Fr(t,this.serializer,this.ss,this.wi)},Ja.prototype.Nr=function(){return this.Xi},Ja.prototype.$r=function(){return this.es},Ja.prototype.kr=function(){return this.ss},Ja.prototype.runTransaction=function(e,n,r){var i=this;Nr("IndexedDbPersistence","Starting transaction:",e);var o,t="readonly"===n?"readonly":"readwrite";return this.er.runTransaction(t,Rh,function(t){return o=new Ka(t,i.Ui?i.Ui.next():Zu.ps),"readwrite-primary"===n?i._r(o).next(function(t){return!!t||i.wr(o)}).next(function(t){if(!t)throw Ar("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.bs.dr(function(){return i.zi(!1)}),new Xr(Yr.FAILED_PRECONDITION,Ku);return r(o)}).next(function(t){return i.Er(o).next(function(){return t})}):i.xr(o).next(function(){return r(o)})}).then(function(t){return o.ts(),t})},Ja.prototype.xr=function(t){var e=this;return Za(t).get(dh.key).next(function(t){if(null!==t&&e.Rr(t.leaseTimestampMs,5e3)&&!e.gr(t.ownerId)&&!e.Ir(t)&&!(e.qi||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Xr(Yr.FAILED_PRECONDITION,Xa)})},Ja.prototype.Er=function(t){var e=new dh(this.clientId,this.allowTabSynchronization,Date.now());return Za(t).put(dh.key,e)},Ja.Hi=function(){return Oh.Hi()},Ja.Mr=function(t){var e=t.s.projectId;return t.s.i||(e+="."+t.s.database),"firestore/"+t.persistenceKey+"/"+e+"/"},Ja.prototype.Tr=function(t){var e=this,n=Za(t);return n.get(dh.key).next(function(t){return e.Ir(t)?(Nr("IndexedDbPersistence","Releasing primary lease."),n.delete(dh.key)):Yu.resolve()})},Ja.prototype.Rr=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(Ar("Detected an update time that is in the future: "+t+" > "+n),1))},Ja.prototype.sr=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ji=function(){t.bs.lr(function(){return t.inForeground="visible"===t.document.visibilityState,t.nr()})},this.document.addEventListener("visibilitychange",this.ji),this.inForeground="visible"===this.document.visibilityState)},Ja.prototype.br=function(){this.ji&&(this.document.removeEventListener("visibilitychange",this.ji),this.ji=null)},Ja.prototype.ir=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Wi=function(){e.pr(),e.bs.lr(function(){return e.yr()})},this.window.addEventListener("unload",this.Wi))},Ja.prototype.vr=function(){this.Wi&&(this.window.removeEventListener("unload",this.Wi),this.Wi=null)},Ja.prototype.gr=function(t){var e;try{var n=null!==(null===(e=this.Zi)||void 0===e?void 0:e.getItem(this.Vr(t)));return Nr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Ar("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},Ja.prototype.pr=function(){if(this.Zi)try{this.Zi.setItem(this.Vr(this.clientId),String(Date.now()))}catch(t){Ar("Failed to set zombie client id.",t)}},Ja.prototype.Sr=function(){if(this.Zi)try{this.Zi.removeItem(this.Vr(this.clientId))}catch(t){}},Ja.prototype.Vr=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},Ja);function Ja(t,e,n,r,i,o,s,u,a,h){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.bs=i,this.window=o,this.document=s,this.Bi=a,this.qi=h,this.Ui=null,this.Qi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Wi=null,this.inForeground=!1,this.ji=null,this.Ki=null,this.Gi=Number.NEGATIVE_INFINITY,this.zi=function(t){return Promise.resolve()},!Ja.Hi())throw new Xr(Yr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.wi=new eh(this,r),this.Yi=e+Ja.Ji,this.serializer=new Ea(u),this.Xi=new qa(this.wi,this.serializer),this.ss=new ga,this.es=new ka(this.serializer,this.ss),this.window&&this.window.localStorage?this.Zi=this.window.localStorage:(this.Zi=null,!1===h&&Ar("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function $a(t,e){var n=this;return(n=Ya.call(this)||this).Oi=t,n.Li=e,n}function Za(t){return Qa.js(t,dh.store)}function th(t){return Qa.js(t,Dh.store)}Qa.Ji="main";var eh=(nh.prototype.Lr=function(t){var n=this.Br(t);return this.db.Nr().Si(t).next(function(e){return n.next(function(t){return e+t})})},nh.prototype.Br=function(t){var e=0;return this.qr(t,function(t){e++}).next(function(){return e})},nh.prototype.pe=function(t,e){return this.db.Nr().pe(t,e)},nh.prototype.qr=function(t,n){return this.Ur(t,function(t,e){return n(e)})},nh.prototype.Fi=function(t,e,n){return rh(t,n)},nh.prototype.$i=function(t,e,n){return rh(t,n)},nh.prototype.vi=function(t,e,n){return this.db.Nr().vi(t,e,n)},nh.prototype.Qr=function(t,e){return rh(t,e)},nh.prototype.Wr=function(t,e){return r=e,i=!1,ch(n=t).jr(function(t){return sh(n,t,r).next(function(t){return t&&(i=!0),Yu.resolve(!t)})}).next(function(){return i});var n,r,i},nh.prototype.Kr=function(r,i){var o=this,s=this.db.$r().oi(),u=[],a=0;return this.Ur(r,function(e,t){if(t<=i){var n=o.Wr(r,e).next(function(t){if(!t)return a++,s.zn(r,e).next(function(){return s.Gn(e),Wa(r).delete([0,fa(e.path)])})});u.push(n)}}).next(function(){return Yu.Bn(u)}).next(function(){return s.apply(r)}).next(function(){return a})},nh.prototype.removeTarget=function(t,e){var n=e.Z(t.Li);return this.db.Nr().yi(t,n)},nh.prototype.Gr=function(t,e){return rh(t,e)},nh.prototype.Ur=function(t,o){var s,e=Wa(t),u=Zu.ps;return e.ei({index:Nh.documentTargetsIndex},function(t,e){var n=t[0],r=(t[1],e.path),i=e.sequenceNumber;0===n?(u!==Zu.ps&&o(new ei(da(s)),u),u=i,s=r):u=Zu.ps}).next(function(){u!==Zu.ps&&o(new ei(da(s)),u)})},nh.prototype.zr=function(t){return this.db.$r().ui(t)},nh);function nh(t,e){this.db=t,this.Or=new oc(this,e)}function rh(t,e){return Wa(t).put((n=e,r=t.Li,new Nh(0,fa(n.path),r)));var n,r}var ih=(oh.Fr=function(t,e,n,r){return Dr(""!==t.uid),new oh(t.Yr()?t.uid:"",e,n,r)},oh.prototype.Jr=function(t){var r=!0,e=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ah(t).ei({index:gh.userMutationsIndex,range:e},function(t,e,n){r=!1,n.done()}).next(function(){return r})},oh.prototype.Xr=function(h,c,f,l){var p=this,d=hh(h),y=ah(h);return y.add({}).next(function(t){Dr("number"==typeof t);for(var e=new Hu(t,c,f,l),n=function(e,t,n){var r=n.baseMutations.map(function(t){return Qo(e.Ks,t)}),i=n.mutations.map(function(t){return Qo(e.Ks,t)});return new gh(t,n.batchId,n.yn.toMillis(),r,i)}(p.serializer,p.userId,e),r=[],i=new Li(function(t,e){return Lr(t.N(),e.N())}),o=0,s=l;o<s.length;o++){var u=s[o],a=mh.key(p.userId,u.key.path,t);i=i.add(u.key.path.p()),r.push(y.put(n)),r.push(d.put(a,mh.PLACEHOLDER))}return i.forEach(function(t){r.push(p.ss.Us(h,t))}),h.Zn(function(){p.Hr[t]=e.keys()}),Yu.Bn(r).next(function(){return e})})},oh.prototype.Zr=function(t,e){var n=this;return ah(t).get(e).next(function(t){return t?(Dr(t.userId===n.userId),Da(n.serializer,t)):null})},oh.prototype.to=function(t,n){var r=this;return this.Hr[n]?Yu.resolve(this.Hr[n]):this.Zr(t,n).next(function(t){if(t){var e=t.keys();return r.Hr[n]=e}return null})},oh.prototype.eo=function(t,e){var r=this,i=e+1,n=IDBKeyRange.lowerBound([this.userId,i]),o=null;return ah(t).ei({index:gh.userMutationsIndex,range:n},function(t,e,n){e.userId===r.userId&&(Dr(e.batchId>=i),o=Da(r.serializer,e)),n.done()}).next(function(){return o})},oh.prototype.no=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return ah(t).ei({index:gh.userMutationsIndex,range:e,reverse:!0},function(t,e,n){r=e.batchId,n.done()}).next(function(){return r})},oh.prototype.so=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ah(t).Ws(gh.userMutationsIndex,n).next(function(t){return t.map(function(t){return Da(e.serializer,t)})})},oh.prototype.os=function(u,a){var h=this,t=mh.prefixForPath(this.userId,a.path),e=IDBKeyRange.lowerBound(t),c=[];return hh(u).ei({range:e},function(t,e,n){var r=t[0],i=t[1],o=t[2],s=da(i);if(r===h.userId&&a.path.isEqual(s))return ah(u).get(o).next(function(t){if(!t)throw Sr();Dr(t.userId===h.userId),c.push(Da(h.serializer,t))});n.done()}).next(function(){return c})},oh.prototype.ls=function(r,t){var a=this,h=new Li(Lr),i=[];return t.forEach(function(u){var t=mh.prefixForPath(a.userId,u.path),e=IDBKeyRange.lowerBound(t),n=hh(r).ei({range:e},function(t,e,n){var r=t[0],i=t[1],o=t[2],s=da(i);r===a.userId&&u.path.isEqual(s)?h=h.add(o):n.done()});i.push(n)}),Yu.Bn(i).next(function(){return a.io(r,h)})},oh.prototype.Es=function(t,e){var u=this,a=e.path,h=a.length+1,n=mh.prefixForPath(this.userId,a),r=IDBKeyRange.lowerBound(n),c=new Li(Lr);return hh(t).ei({range:r},function(t,e,n){var r=t[0],i=t[1],o=t[2],s=da(i);r===u.userId&&a.D(s)?s.length===h&&(c=c.add(o)):n.done()}).next(function(){return u.io(t,c)})},oh.prototype.io=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(ah(e).get(t).next(function(t){if(null===t)throw Sr();Dr(t.userId===n.userId),r.push(Da(n.serializer,t))}))}),Yu.Bn(i).next(function(){return r})},oh.prototype.ro=function(e,n){var r=this;return uh(e.Oi,this.userId,n).next(function(t){return e.Zn(function(){r.oo(n.batchId)}),Yu.forEach(t,function(t){return r.wi.Qr(e,t)})})},oh.prototype.oo=function(t){delete this.Hr[t]},oh.prototype.ho=function(n){var o=this;return this.Jr(n).next(function(t){if(!t)return Yu.resolve();var e=IDBKeyRange.lowerBound(mh.prefixForUser(o.userId)),i=[];return hh(n).ei({range:e},function(t,e,n){if(t[0]===o.userId){var r=da(t[1]);i.push(r)}else n.done()}).next(function(){Dr(0===i.length)})})},oh.prototype.Mi=function(t,e){return sh(t,this.userId,e)},oh.prototype.ao=function(t){var e=this;return ch(t).get(this.userId).next(function(t){return t||new vh(e.userId,-1,"")})},oh);function oh(t,e,n,r){this.userId=t,this.serializer=e,this.ss=n,this.wi=r,this.Hr={}}function sh(t,o,e){var n=mh.prefixForPath(o,e.path),s=n[1],r=IDBKeyRange.lowerBound(n),u=!1;return hh(t).ei({range:r,xi:!0},function(t,e,n){var r=t[0],i=t[1];t[2],r===o&&i===s&&(u=!0),n.done()}).next(function(){return u})}function uh(t,e,n){var r=t.store(gh.store),i=t.store(mh.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.ei({range:s},function(t,e,n){return u++,n.delete()});o.push(a.next(function(){Dr(1===u)}));for(var h=[],c=0,f=n.mutations;c<f.length;c++){var l=f[c],p=mh.key(e,l.key.path,n.batchId);o.push(i.delete(p)),h.push(l.key)}return Yu.Bn(o).next(function(){return h})}function ah(t){return Qa.js(t,gh.store)}function hh(t){return Qa.js(t,mh.store)}function ch(t){return Qa.js(t,vh.store)}var fh=10,lh=(yh.prototype.createOrUpgrade=function(n,r,t,e){var i=this;Dr(t<e&&0<=t&&e<=fh);var o,s=new Mh(r);t<1&&1<=e&&(n.createObjectStore(dh.store),(o=n).createObjectStore(vh.store,{keyPath:vh.keyPath}),o.createObjectStore(gh.store,{keyPath:gh.keyPath,autoIncrement:!0}).createIndex(gh.userMutationsIndex,gh.userMutationsKeyPath,{unique:!0}),o.createObjectStore(mh.store),Sh(n),n.createObjectStore(Eh.store));var u,a=Yu.resolve();return t<3&&3<=e&&(0!==t&&((u=n).deleteObjectStore(Nh.store),u.deleteObjectStore(Th.store),u.deleteObjectStore(Ah.store),Sh(n)),a=a.next(function(){return t=s.store(Ah.store),e=new Ah(0,0,Qr.min().A(),0),t.put(Ah.key,e);var t,e})),t<4&&4<=e&&(0!==t&&(a=a.next(function(){return r=n,(i=s).store(gh.store).Ws().next(function(t){r.deleteObjectStore(gh.store),r.createObjectStore(gh.store,{keyPath:gh.keyPath,autoIncrement:!0}).createIndex(gh.userMutationsIndex,gh.userMutationsKeyPath,{unique:!0});var e=i.store(gh.store),n=t.map(function(t){return e.put(t)});return Yu.Bn(n)});var r,i})),a=a.next(function(){n.createObjectStore(Dh.store,{keyPath:Dh.keyPath})})),t<5&&5<=e&&(a=a.next(function(){return i.removeAcknowledgedMutations(s)})),t<6&&6<=e&&(a=a.next(function(){return n.createObjectStore(_h.store),i.addDocumentGlobal(s)})),t<7&&7<=e&&(a=a.next(function(){return i.ensureSequenceNumbers(s)})),t<8&&8<=e&&(a=a.next(function(){return i.createCollectionParentIndex(n,s)})),t<9&&9<=e&&(a=a.next(function(){var t,e;(e=n).objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges"),(t=r.objectStore(Eh.store)).createIndex(Eh.readTimeIndex,Eh.readTimeIndexPath,{unique:!1}),t.createIndex(Eh.collectionReadTimeIndex,Eh.collectionReadTimeIndexPath,{unique:!1})})),t<10&&10<=e&&(a=a.next(function(){return i.rewriteCanonicalIds(s)})),a},yh.prototype.addDocumentGlobal=function(e){var n=0;return e.store(Eh.store).ei(function(t,e){n+=ja(e)}).next(function(){var t=new _h(n);return e.store(_h.store).put(_h.key,t)})},yh.prototype.removeAcknowledgedMutations=function(r){var i=this,t=r.store(vh.store),e=r.store(gh.store);return t.Ws().next(function(t){return Yu.forEach(t,function(n){var t=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return e.Ws(gh.userMutationsIndex,t).next(function(t){return Yu.forEach(t,function(t){Dr(t.userId===n.userId);var e=Da(i.serializer,t);return uh(r,n.userId,e).next(function(){})})})})})},yh.prototype.ensureSequenceNumbers=function(t){var s=t.store(Nh.store),e=t.store(Eh.store);return t.store(Ah.store).get(Ah.key).next(function(i){var o=[];return e.ei(function(t,e){var n=new $r(t),r=[0,fa(n)];o.push(s.get(r).next(function(t){return t?Yu.resolve():(e=n,s.put(new Nh(0,fa(e),i.highestListenSequenceNumber)));var e}))}).next(function(){return Yu.Bn(o)})})},yh.prototype.createCollectionParentIndex=function(t,e){function i(t){if(o.add(t)){var e=t.S(),n=t.p();return r.put({collectionId:e,parent:fa(n)})}}t.createObjectStore(xh.store,{keyPath:xh.keyPath});var r=e.store(xh.store),o=new va;return e.store(Eh.store).ei({xi:!0},function(t,e){var n=new $r(t);return i(n.p())}).next(function(){return e.store(mh.store).ei({xi:!0},function(t,e){t[0];var n=t[1],r=(t[2],da(n));return i(r.p())})})},yh.prototype.rewriteCanonicalIds=function(t){var i=this,o=t.store(Th.store);return o.ei(function(t,e){var n=Pa(e),r=Ra(i.serializer,n);return o.put(r)})},yh),ph=function(t,e){this.seconds=t,this.nanoseconds=e},dh=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};function yh(t){this.serializer=t}dh.store="owner",dh.key="owner";var vh=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};vh.store="mutationQueues",vh.keyPath="userId";var gh=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};gh.store="mutations",gh.keyPath="batchId",gh.userMutationsIndex="userMutationsIndex",gh.userMutationsKeyPath=["userId","batchId"];var mh=(wh.prefixForUser=function(t){return[t]},wh.prefixForPath=function(t,e){return[t,fa(e)]},wh.key=function(t,e,n){return[t,fa(e),n]},wh);function wh(){}mh.store="documentMutations",mh.PLACEHOLDER=new mh;var bh=function(t,e){this.path=t,this.readTime=e},Ih=function(t,e){this.path=t,this.version=e},Eh=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Eh.store="remoteDocuments",Eh.readTimeIndex="readTimeIndex",Eh.readTimeIndexPath="readTime",Eh.collectionReadTimeIndex="collectionReadTimeIndex",Eh.collectionReadTimeIndexPath=["parentPath","readTime"];var _h=function(t){this.byteSize=t};_h.store="remoteDocumentGlobal",_h.key="remoteDocumentGlobalKey";var Th=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Th.store="targets",Th.keyPath="targetId",Th.queryTargetsIndexName="queryTargetsIndex",Th.queryTargetsKeyPath=["canonicalId","targetId"];var Nh=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Nh.store="targetDocuments",Nh.keyPath=["targetId","path"],Nh.documentTargetsIndex="documentTargetsIndex",Nh.documentTargetsKeyPath=["path","targetId"];var Ah=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ah.key="targetGlobalKey",Ah.store="targetGlobal";var xh=function(t,e){this.collectionId=t,this.parent=e};function Sh(t){t.createObjectStore(Nh.store,{keyPath:Nh.keyPath}).createIndex(Nh.documentTargetsIndex,Nh.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Th.store,{keyPath:Th.keyPath}).createIndex(Th.queryTargetsIndexName,Th.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ah.store)}xh.store="collectionParents",xh.keyPath=["collectionId","parent"];var Dh=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Dh.store="clientMetadata",Dh.keyPath="clientId";var Ph,Rh=d(d(d([vh.store,gh.store,mh.store,Eh.store,Th.store,dh.store,Ah.store,Nh.store],[Dh.store]),[_h.store]),[xh.store]),Oh=(Uh.tr=function(o,t,s){return Nr("SimpleDb","Opening database:",o),new Yu(function(n,r){var i=indexedDB.open(o,t);i.onsuccess=function(t){var e=t.target.result;n(new Uh(e))},i.onblocked=function(){r(new Xr(Yr.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var e=t.target.error;"VersionError"===e.name?r(new Xr(Yr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(e)},i.onupgradeneeded=function(t){Nr("SimpleDb",'Database "'+o+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;s.createOrUpgrade(e,i.transaction,t.oldVersion,fh).next(function(){Nr("SimpleDb","Database upgrade to version "+fh+" complete")})}}).On()},Uh.delete=function(t){return Nr("SimpleDb","Removing database:",t),Gh(window.indexedDB.deleteDatabase(t)).On()},Uh.Hi=function(){if("undefined"==typeof indexedDB)return!1;if(Uh.co())return!0;var t=g(),e=Uh.uo(t),n=0<e&&e<10,r=Uh.lo(t),i=0<r&&r<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||n||i)},Uh.co=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t._o)},Uh.js=function(t,e){return t.store(e)},Uh.uo=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},Uh.lo=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},Uh.prototype.ur=function(e){this.db.onversionchange=function(t){return e(t)}},Uh.prototype.runTransaction=function(r,h,c){return y(this,void 0,void 0,function(){var s,u,e,a,n;return v(this,function(t){switch(t.label){case 0:s="readonly"===r,u=0,e=function(){var e,n,r,i,o;return v(this,function(t){switch(t.label){case 0:++u,e=Mh.open(a.db,s?"readonly":"readwrite",h),t.label=1;case 1:return t.trys.push([1,3,,4]),n=c(e).catch(function(t){return e.abort(t),Yu.reject(t)}).On(),r={},n.catch(function(){}),[4,e.fo];case 2:return[2,(r.value=(t.sent(),n),r)];case 3:return i=t.sent(),o="FirebaseError"!==i.name&&u<3,Nr("SimpleDb","Transaction failed with error: %s. Retrying: %s.",i.message,o),o?[3,4]:[2,{value:Promise.reject(i)}];case 4:return[2]}})},a=this,t.label=1;case 1:return[5,e()];case 2:if("object"==typeof(n=t.sent()))return[2,n.value];t.label=3;case 3:return[3,1];case 4:return[2]}})})},Uh.prototype.close=function(){this.db.close()},Uh),kh=(Object.defineProperty(Vh.prototype,"$n",{get:function(){return this.wo},enumerable:!1,configurable:!0}),Object.defineProperty(Vh.prototype,"Eo",{get:function(){return this.To},enumerable:!1,configurable:!0}),Object.defineProperty(Vh.prototype,"cursor",{set:function(t){this.do=t},enumerable:!1,configurable:!0}),Vh.prototype.done=function(){this.wo=!0},Vh.prototype.ni=function(t){this.To=t},Vh.prototype.delete=function(){return Gh(this.do.delete())},Vh),Lh=(n(Ch,Ph=Xr),Ch);function Ch(t){var e=this;return(e=Ph.call(this,Yr.UNAVAILABLE,"IndexedDB transaction failed: "+t)||this).name="IndexedDbTransactionError",e}function Vh(t){this.do=t,this.wo=!1,this.To=null}function Uh(t){this.db=t,12.2===Uh.uo(g())&&Ar("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function jh(t){return"IndexedDbTransactionError"===t.name}var Mh=(Bh.open=function(t,e,n){return new Bh(t.transaction(n,e))},Object.defineProperty(Bh.prototype,"fo",{get:function(){return this.Io.promise},enumerable:!1,configurable:!0}),Bh.prototype.abort=function(t){t&&this.Io.reject(t),this.aborted||(Nr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},Bh.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Fh(e)},Bh),Fh=(qh.prototype.put=function(t,e){return Gh(void 0!==e?(Nr("SimpleDb","PUT",this.store.name,t,e),this.store.put(e,t)):(Nr("SimpleDb","PUT",this.store.name,"<auto-key>",t),this.store.put(t)))},qh.prototype.add=function(t){return Nr("SimpleDb","ADD",this.store.name,t,t),Gh(this.store.add(t))},qh.prototype.get=function(e){var n=this;return Gh(this.store.get(e)).next(function(t){return void 0===t&&(t=null),Nr("SimpleDb","GET",n.store.name,e,t),t})},qh.prototype.delete=function(t){return Nr("SimpleDb","DELETE",this.store.name,t),Gh(this.store.delete(t))},qh.prototype.count=function(){return Nr("SimpleDb","COUNT",this.store.name),Gh(this.store.count())},qh.prototype.Ws=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.mo(n,function(t,e){r.push(e)}).next(function(){return r})},qh.prototype.Ao=function(t,e){Nr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.xi=!1;var r=this.cursor(n);return this.mo(r,function(t,e,n){return n.delete()})},qh.prototype.ei=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.mo(r,e)},qh.prototype.jr=function(i){var t=this.cursor({});return new Yu(function(n,r){t.onerror=function(t){var e=Hh(t.target.error);r(e)},t.onsuccess=function(t){var e=t.target.result;e?i(e.primaryKey,e.value).next(function(t){t?e.continue():n()}):n()}})},qh.prototype.mo=function(t,s){var u=[];return new Yu(function(o,e){t.onerror=function(t){e(t.target.error)},t.onsuccess=function(t){var e=t.target.result;if(e){var n=new kh(e),r=s(e.primaryKey,e.value,n);if(r instanceof Yu){var i=r.catch(function(t){return n.done(),Yu.reject(t)});u.push(i)}n.$n?o():null===n.Eo?e.continue():e.continue(n.Eo)}else o()}}).next(function(){return Yu.Bn(u)})},qh.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},qh.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.xi?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},qh);function qh(t){this.store=t}function Bh(t){var n=this;this.transaction=t,this.aborted=!1,this.Io=new aa,this.transaction.oncomplete=function(){n.Io.resolve()},this.transaction.onabort=function(){t.error?n.Io.reject(new Lh(t.error)):n.Io.resolve()},this.transaction.onerror=function(t){var e=Hh(t.target.error);n.Io.reject(new Lh(e))}}function Gh(t){return new Yu(function(n,r){t.onsuccess=function(t){var e=t.target.result;n(e)},t.onerror=function(t){var e=Hh(t.target.error);r(e)}})}var zh=!1;function Hh(t){var e=Oh.uo(g());if(12.2<=e&&e<13){var n="An internal error was encountered in the Indexed Database server";if(0<=t.message.indexOf(n)){var r=new Xr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return zh||(zh=!0,setTimeout(function(){throw r},0)),r}}return t}function Wh(){return"undefined"!=typeof window?window:null}var Yh=(Qh.po=function(t,e,n,r,i){var o=new Qh(t,e,Date.now()+n,r,i);return o.start(n),o},Qh.prototype.start=function(t){var e=this;this.bo=setTimeout(function(){return e.vo()},t)},Qh.prototype.Bs=function(){return this.vo()},Qh.prototype.cancel=function(t){null!==this.bo&&(this.clearTimeout(),this.yo.reject(new Xr(Yr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},Qh.prototype.vo=function(){var e=this;this.Ro.lr(function(){return null!==e.bo?(e.clearTimeout(),e.op().then(function(t){return e.yo.resolve(t)})):Promise.resolve()})},Qh.prototype.clearTimeout=function(){null!==this.bo&&(this.Vo(this),clearTimeout(this.bo),this.bo=null)},Qh),Xh=(Object.defineProperty(Kh.prototype,"Oo",{get:function(){return this.Co},enumerable:!1,configurable:!0}),Kh.prototype.lr=function(t){this.enqueue(t)},Kh.prototype.Lo=function(t){this.Bo(),this.qo(t)},Kh.prototype.Uo=function(t){return this.Bo(),this.qo(t)},Kh.prototype.Qo=function(n){return y(this,void 0,void 0,function(){var e;return v(this,function(t){switch(t.label){case 0:return this.Bo(),this.Co?[3,2]:(this.Co=!0,(e=Wh())&&e.removeEventListener("visibilitychange",this.Mo),[4,this.Uo(n)]);case 1:t.sent(),t.label=2;case 2:return[2]}})})},Kh.prototype.enqueue=function(t){return this.Bo(),this.Co?new Promise(function(t){}):this.qo(t)},Kh.prototype.dr=function(t){var e=this;this.Do.push(t),this.lr(function(){return e.Wo()})},Kh.prototype.Wo=function(){return y(this,void 0,void 0,function(){var e,n=this;return v(this,function(t){switch(t.label){case 0:if(0===this.Do.length)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.Do[0]()];case 2:return t.sent(),this.Do.shift(),this.xo.reset(),[3,4];case 3:if(!jh(e=t.sent()))throw e;return Nr("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:0<this.Do.length&&this.xo.xs(function(){return n.Wo()}),t.label=5;case 5:return[2]}})})},Kh.prototype.qo=function(t){var r=this,e=this.So.then(function(){return r.$o=!0,t().catch(function(t){throw r.No=t,r.$o=!1,Ar("INTERNAL UNHANDLED ERROR: ",(n=(e=t).message||"",e.stack&&(n=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),n)),t;var e,n}).then(function(t){return r.$o=!1,t})});return this.So=e},Kh.prototype.Os=function(t,e,n){var r=this;this.Bo(),-1<this.ko.indexOf(t)&&(e=0);var i=Yh.po(this,t,e,n,function(t){return r.jo(t)});return this.Fo.push(i),i},Kh.prototype.Bo=function(){this.No&&Sr()},Kh.prototype.Ko=function(){},Kh.prototype.Go=function(){return y(this,void 0,void 0,function(){var e;return v(this,function(t){switch(t.label){case 0:return[4,e=this.So];case 1:t.sent(),t.label=2;case 2:if(e!==this.So)return[3,0];t.label=3;case 3:return[2]}})})},Kh.prototype.zo=function(t){for(var e=0,n=this.Fo;e<n.length;e++)if(n[e].vs===t)return!0;return!1},Kh.prototype.Ho=function(r){var i=this;return this.Go().then(function(){i.Fo.sort(function(t,e){return t.Po-e.Po});for(var t=0,e=i.Fo;t<e.length;t++){var n=e[t];if(n.Bs(),"all"!==r&&n.vs===r)break}return i.Go()})},Kh.prototype.Yo=function(t){this.ko.push(t)},Kh.prototype.jo=function(t){var e=this.Fo.indexOf(t);this.Fo.splice(e,1)},Kh);function Kh(){var t=this;this.So=Promise.resolve(),this.Do=[],this.Co=!1,this.Fo=[],this.No=null,this.$o=!1,this.ko=[],this.xo=new ha(this,"async_queue_retry"),this.Mo=function(){return t.xo.Ls()};var e=Wh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Mo)}function Qh(t,e,n,r,i){this.Ro=t,this.vs=e,this.Po=n,this.op=r,this.Vo=i,this.yo=new aa,this.then=this.yo.promise.then.bind(this.yo.promise),this.yo.promise.catch(function(t){})}function Jh(t,e){if(Ar("AsyncQueue",e+": "+t),jh(t))return new Xr(Yr.UNAVAILABLE,e+": "+t);throw t}function $h(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Lr(n,i);return 0===s?Lr(r,o):s}var Zh=(rc.prototype.Zo=function(){return++this.Xo},rc.prototype.th=function(t){var e=[t,this.Zo()];if(this.buffer.size<this.Jo)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();$h(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(rc.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),rc),tc={eh:!1,nh:0,sh:0,ih:0},ec=(nc.ah=function(t){return new nc(t,nc.uh,nc.lh)},nc);function nc(t,e,n){this.rh=t,this.oh=e,this.hh=n}function rc(t){this.Jo=t,this.buffer=new Li($h),this.Xo=0}ec._h=-1,ec.fh=1048576,ec.dh=41943040,ec.uh=10,ec.lh=1e3,ec.wh=new ec(ec.dh,ec.uh,ec.lh),ec.Th=new ec(ec._h,0,0);var ic=(hc.prototype.start=function(t){this.Or.params.rh!==ec._h&&this.mh(t)},hc.prototype.stop=function(){this.Ih&&(this.Ih.cancel(),this.Ih=null)},Object.defineProperty(hc.prototype,"hr",{get:function(){return null!==this.Ih},enumerable:!1,configurable:!0}),hc.prototype.mh=function(n){var t=this,e=this.Eh?3e5:6e4;Nr("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.Ih=this.Ro.Os("lru_garbage_collection",e,function(){return y(t,void 0,void 0,function(){var e;return v(this,function(t){switch(t.label){case 0:this.Ih=null,this.Eh=!0,t.label=1;case 1:return t.trys.push([1,3,,7]),[4,n.Ah(this.Or)];case 2:return t.sent(),[3,7];case 3:return jh(e=t.sent())?(Nr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,pc(e)];case 5:t.sent(),t.label=6;case 6:return[3,7];case 7:return[4,this.mh(n)];case 8:return t.sent(),[2]}})})})},hc),oc=(ac.prototype.Ph=function(t,e){return this.Rh.Lr(t).next(function(t){return Math.floor(e/100*t)})},ac.prototype.Vh=function(t,e){var n=this;if(0===e)return Yu.resolve(Zu.ps);var r=new Zh(e);return this.Rh.pe(t,function(t){return r.th(t.sequenceNumber)}).next(function(){return n.Rh.qr(t,function(t){return r.th(t)})}).next(function(){return r.maxValue})},ac.prototype.vi=function(t,e,n){return this.Rh.vi(t,e,n)},ac.prototype.Kr=function(t,e){return this.Rh.Kr(t,e)},ac.prototype.gh=function(e,n){var r=this;return this.params.rh===ec._h?(Nr("LruGarbageCollector","Garbage collection skipped; disabled"),Yu.resolve(tc)):this.zr(e).next(function(t){return t<r.params.rh?(Nr("LruGarbageCollector","Garbage collection skipped; Cache size "+t+" is lower than threshold "+r.params.rh),tc):r.yh(e,n)})},ac.prototype.zr=function(t){return this.Rh.zr(t)},ac.prototype.yh=function(e,n){var r,i,o,s,u,a,h,c=this,f=Date.now();return this.Ph(e,this.params.oh).next(function(t){return i=t>c.params.hh?(Nr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.hh+" from "+t),c.params.hh):t,s=Date.now(),c.Vh(e,i)}).next(function(t){return r=t,u=Date.now(),c.vi(e,r,n)}).next(function(t){return o=t,a=Date.now(),c.Kr(e,r)}).next(function(t){return h=Date.now(),Tr()<=p.DEBUG&&Nr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-f)+"ms\n\tDetermined least recently used "+i+" in "+(u-s)+"ms\n\tRemoved "+o+" targets in "+(a-u)+"ms\n\tRemoved "+t+" documents in "+(h-a)+"ms\nTotal Duration: "+(h-f)+"ms"),Yu.resolve({eh:!0,nh:i,sh:o,ih:t})})},ac),sc=(uc.prototype.start=function(){return Promise.resolve()},uc.prototype.Nh=function(i){return y(this,void 0,void 0,function(){var e,m,n,r=this;return v(this,function(t){switch(t.label){case 0:return e=this.ns,m=this.Ch,[4,this.persistence.runTransaction("Handle user change","readonly",function(v){var g;return r.ns.so(v).next(function(t){return g=t,e=r.persistence.Cr(i),m=new Ju(r.Dh,e,r.persistence.kr()),e.so(v)}).next(function(t){for(var e=[],n=[],r=Hi(),i=0,o=g;i<o.length;i++){var s=o[i];e.push(s.batchId);for(var u=0,a=s.mutations;u<a.length;u++){var h=a[u];r=r.add(h.key)}}for(var c=0,f=t;c<f.length;c++){var l=f[c];n.push(l.batchId);for(var p=0,d=l.mutations;p<d.length;p++){var y=d[p];r=r.add(y.key)}}return m.us(v,r).next(function(t){return{$h:t,kh:e,xh:n}})})})];case 1:return n=t.sent(),[2,(this.ns=e,this.Ch=m,this.ph.Fh(this.Ch),n)]}})})},uc.prototype.Mh=function(h){var c,f=this,l=Kr.now(),t=h.reduce(function(t,e){return t.add(e.key)},Hi());return this.persistence.runTransaction("Locally write mutations","readwrite",function(a){return f.Ch.us(a,t).next(function(t){c=t;for(var e=[],n=0,r=h;n<r.length;n++){var i=r[n],o=(u=i,s=c.get(i.key),u instanceof Gs?function(t){for(var e=null,n=0,r=u.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof au?t.field(i.field):void 0,s=ss(i.transform,o||null);null!=s&&(e=null==e?(new $s).set(i.field,s):e.set(i.field,s))}return e?e.ze():null}(s):null);null!=o&&e.push(new js(i.key,o,ru(o.proto.mapValue),xs.exists(!0)))}var u,s;return f.ns.Xr(a,l,e,h)})}).then(function(t){var e=t.Sn(c);return{batchId:t.batchId,Un:e}})},uc.prototype.Oh=function(r){var i=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var e=r.batch.keys(),n=i.Dh.oi({ai:!0});return i.Lh(t,r,n).next(function(){return n.apply(t)}).next(function(){return i.ns.ho(t)}).next(function(){return i.Ch.us(t,e)})})},uc.prototype.Bh=function(t){var r=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var n;return r.ns.Zr(e,t).next(function(t){return Dr(null!==t),n=t.keys(),r.ns.ro(e,t)}).next(function(){return r.ns.ho(e)}).next(function(){return r.Ch.us(e,n)})})},uc.prototype.no=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.ns.no(t)})},uc.prototype.mi=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Xi.mi(t)})},uc.prototype.qh=function(a){var h=this,c=a.X,f=this.bh;return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var i=h.Dh.oi({ai:!0});f=h.bh;var s=[];a.Qt.forEach(function(t,e){var n=f.get(e);if(n){s.push(h.Xi.Ni(o,t.Xt,e).next(function(){return h.Xi.Ci(o,t.Yt,e)}));var r=t.resumeToken;if(0<r.H()){var i=n.tt(r,c).Z(o.Li);f=f.nt(e,i),uc.Uh(n,i,t)&&s.push(h.Xi.yi(o,i))}}});var u=Mi(),n=Hi();if(a.jt.forEach(function(t,e){n=n.add(t)}),s.push(i.getEntries(o,n).next(function(r){a.jt.forEach(function(t,e){var n=r.get(t);e instanceof hu&&e.version.isEqual(Qr.min())?(i.Gn(t,c),u=u.nt(t,e)):null==n||0<e.version.o(n.version)||0===e.version.o(n.version)&&n.hasPendingWrites?(i.jn(e,c),u=u.nt(t,e)):Nr("LocalStore","Ignoring outdated watch update for ",t,". Current version:",n.version," Watch version:",e.version),a.Kt.has(t)&&s.push(h.persistence.wi.Gr(o,t))})})),!c.isEqual(Qr.min())){var t=h.Xi.mi(o).next(function(t){return h.Xi.Ri(o,o.Li,c)});s.push(t)}return Yu.Bn(s).next(function(){return i.apply(o)}).next(function(){return h.Ch.cs(o,u)})}).then(function(t){return h.bh=f,t})},uc.Uh=function(t,e,n){return Dr(0<e.resumeToken.H()),0===t.resumeToken.H()||e.X.m()-t.X.m()>=this.Qh||0<n.Yt.size+n.Jt.size+n.Xt.size},uc.prototype.Wh=function(c){return y(this,void 0,void 0,function(){var e,n,r,i,o,s,u,a,h=this;return v(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return Yu.forEach(c,function(e){return Yu.forEach(e.ms,function(t){return h.persistence.wi.Fi(n,e.targetId,t)}).next(function(){return Yu.forEach(e.As,function(t){return h.persistence.wi.$i(n,e.targetId,t)})})})})];case 1:return t.sent(),[3,3];case 2:if(!jh(e=t.sent()))throw e;return Nr("LocalStore","Failed to update sequence numbers: "+e),[3,3];case 3:for(n=0,r=c;n<r.length;n++)i=r[n],o=i.targetId,i.fromCache||(s=this.bh.get(o),u=s.X,a=s.et(u),this.bh=this.bh.nt(o,a));return[2]}})})},uc.prototype.jh=function(e){var n=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.ns.eo(t,e)})},uc.prototype.Kh=function(e){var n=this;return this.persistence.runTransaction("read document","readonly",function(t){return n.Ch.rs(t,e)})},uc.prototype.Gh=function(r){var i=this;return this.persistence.runTransaction("Allocate target","readwrite",function(e){var n;return i.Xi.Di(e,r).next(function(t){return t?(n=t,Yu.resolve(n)):i.Xi.Ti(e).next(function(t){return n=new _i(r,t,0,e.Li),i.Xi.Pi(e,n).next(function(){return n})})})}).then(function(t){var e=i.bh.get(t.targetId);return(null===e||0<t.X.o(e.X))&&(i.bh=i.bh.nt(t.targetId,t),i.vh.set(r,t.targetId)),t})},uc.prototype.Di=function(t,e){var n=this.vh.get(e);return void 0!==n?Yu.resolve(this.bh.get(n)):this.Xi.Di(t,e)},uc.prototype.zh=function(t,e){var n=this,r=this.bh.get(t),i=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release target",i,function(t){return e?Yu.resolve():n.persistence.wi.removeTarget(t,r)}).then(function(){n.bh=n.bh.remove(t),n.vh.delete(r.target)})},uc.prototype.Hh=function(t,n){var r=this,i=Qr.min(),o=Hi();return this.persistence.runTransaction("Execute query","readonly",function(e){return r.Di(e,t.We()).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Xi.ki(e,t.targetId).next(function(t){o=t})}).next(function(){return r.ph._s(e,t,n?i:Qr.min(),n?o:Hi())}).next(function(t){return{documents:t,Yh:o}})})},uc.prototype.Lh=function(t,i,o){var e=this,s=i.batch,n=s.keys(),u=Yu.resolve();return n.forEach(function(r){u=u.next(function(){return o.zn(t,r)}).next(function(t){var e=t,n=i.Cn.get(r);Dr(null!==n),(!e||e.version.o(n)<0)&&(e=s.pn(r,e,i))&&o.jn(e,i.Dn)})}),u.next(function(){return e.ns.ro(t,s)})},uc.prototype.Ah=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(t){return e.gh(t,n.bh)})},uc);function uc(t,e,n){this.persistence=t,this.ph=e,this.bh=new xi(Lr),this.vh=new Wr(function(t){return yi(t)},vi),this.Sh=Qr.min(),this.ns=t.Cr(n),this.Dh=t.$r(),this.Xi=t.Nr(),this.Ch=new Ju(this.Dh,this.ns,this.persistence.kr()),this.ph.Fh(this.Ch)}function ac(t,e){this.Rh=t,this.params=e}function hc(t,e){this.Or=t,this.Ro=e,this.Eh=!1,this.Ih=null}sc.Qh=3e8;var cc,fc=(n(lc,cc=sc),lc.prototype.start=function(){return this.Jh()},lc.prototype.Xh=function(t){var n=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return n.ns.to(e,t).next(function(t){return t?n.Ch.us(e,t):Yu.resolve(null)})})},lc.prototype.Zh=function(t){this.ns.oo(t)},lc.prototype.cr=function(t){this.persistence.cr(t)},lc.prototype.Dr=function(){return this.persistence.Dr()},lc.prototype.ta=function(e){var n=this,t=this.bh.get(e);return t?Promise.resolve(t.target):this.persistence.runTransaction("Get target data","readonly",function(t){return n.Xi.Me(t,e).next(function(t){return t?t.target:null})})},lc.prototype.si=function(){var r=this;return this.persistence.runTransaction("Get new document changes","readonly",function(t){return r.Dh.si(t,r.Sh)}).then(function(t){var e=t.ii,n=t.readTime;return r.Sh=n,e})},lc.prototype.Jh=function(){return y(this,void 0,void 0,function(){var e,n=this;return v(this,function(t){switch(t.label){case 0:return[4,(e=this).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return n.Dh.ri(t)})];case 1:return e.Sh=t.sent(),[2]}})})},lc);function lc(t,e,n){var r=this;return(r=cc.call(this,t,e,n)||this).persistence=t,r.ns=t.Cr(n),r.Dh=t.$r(),r.Xi=t.Nr(),r}function pc(e){return y(this,void 0,void 0,function(){return v(this,function(t){if(e.code!==Yr.FAILED_PRECONDITION||e.message!==Ku)throw e;return Nr("LocalStore","Unexpectedly lost primary lease"),[2]})})}var dc=(gc.prototype._=function(){return this.ea._()},gc.prototype.Fi=function(t,e){var n=new yc(t,e);this.ea=this.ea.add(n),this.sa=this.sa.add(n)},gc.prototype.ra=function(t,e){var n=this;t.forEach(function(t){return n.Fi(t,e)})},gc.prototype.$i=function(t,e){this.oa(new yc(t,e))},gc.prototype.ha=function(t,e){var n=this;t.forEach(function(t){return n.$i(t,e)})},gc.prototype.aa=function(t){var e=this,n=new ei(new $r([])),r=new yc(n,t),i=new yc(n,t+1),o=[];return this.sa.vt([r,i],function(t){e.oa(t),o.push(t.key)}),o},gc.prototype.ua=function(){var e=this;this.ea.forEach(function(t){return e.oa(t)})},gc.prototype.oa=function(t){this.ea=this.ea.delete(t),this.sa=this.sa.delete(t)},gc.prototype.ca=function(t){var e=new ei(new $r([])),n=new yc(e,t),r=new yc(e,t+1),i=Hi();return this.sa.vt([n,r],function(t){i=i.add(t.key)}),i},gc.prototype.Mi=function(t){var e=new yc(t,0),n=this.ea.Dt(e);return null!==n&&t.isEqual(n.key)},gc),yc=(vc.na=function(t,e){return ei.P(t.key,e.key)||Lr(t.la,e.la)},vc.ia=function(t,e){return Lr(t.la,e.la)||ei.P(t.key,e.key)},vc);function vc(t,e){this.key=t,this.la=e}function gc(){this.ea=new Li(yc.na),this.sa=new Li(yc.ia)}function mc(t,e){if(0!==e.length)throw new Xr(Yr.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Vc(e.length,"argument")+".")}function wc(t,e,n){if(e.length!==n)throw new Xr(Yr.INVALID_ARGUMENT,"Function "+t+"() requires "+Vc(n,"argument")+", but was called with "+Vc(e.length,"argument")+".")}function bc(t,e,n){if(e.length<n)throw new Xr(Yr.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Vc(n,"argument")+", but was called with "+Vc(e.length,"argument")+".")}function Ic(t,e,n,r){if(e.length<n||e.length>r)throw new Xr(Yr.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+Vc(e.length,"argument")+".")}function Ec(t,e,n,r){Sc(t,e,Cc(n)+" argument",r)}function _c(t,e,n,r){void 0!==r&&Ec(t,e,n,r)}function Tc(t,e,n,r){Sc(t,e,n+" option",r)}function Nc(t,e,n,r){void 0!==r&&Tc(t,e,n,r)}function Ac(t,e,n,r,a){void 0!==r&&function(t,e,n){for(var r=[],i=0,o=a;i<o.length;i++){var s=o[i];if(s===n)return;r.push(Pc(s))}var u=Pc(n);throw new Xr(Yr.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+e+'". Acceptable values: '+r.join(", "))}(t,n,r)}function xc(t,e,n,r){if(!e.some(function(t){return t===r}))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid value "+Pc(r)+" provided to function "+t+"() for its "+Cc(n)+" argument. Acceptable values: "+e.join(", "));return r}function Sc(t,e,n,r){if(!("object"===e?Dc(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=Pc(r);throw new Xr(Yr.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function Dc(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Pc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"!=typeof e)return"function"==typeof e?"a function":Sr();if(e instanceof Array)return"an array";var t=function(){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&1<t.length)return t[1]}return null}();return t?"a custom "+t+" object":"an object"}function Rc(t,e,n){if(void 0===n)throw new Xr(Yr.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Cc(e)+" argument, but it was undefined.")}function Oc(n,t,r){qr(t,function(t,e){if(r.indexOf(t)<0)throw new Xr(Yr.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+n+"(). Available options: "+r.join(", "))})}function kc(t,e,n,r){var i=Pc(r);return new Xr(Yr.INVALID_ARGUMENT,"Function "+t+"() requires its "+Cc(n)+" argument to be a "+e+", but it was: "+i)}function Lc(t,e,n){if(n<=0)throw new Xr(Yr.INVALID_ARGUMENT,"Function "+t+"() requires its "+Cc(e)+" argument to be a positive number, but it was: "+n+".")}function Cc(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Vc(t,e){return t+" "+e+(1===t?"":"s")}function Uc(){if("undefined"==typeof Uint8Array)throw new Xr(Yr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function jc(){if("undefined"==typeof atob)throw new Xr(Yr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Mc,Fc,qc=(Kc.fromBase64String=function(t){wc("Blob.fromBase64String",arguments,1),Ec("Blob.fromBase64String","string",1,t),jc();try{return new Kc(mi.fromBase64String(t))}catch(t){throw new Xr(Yr.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},Kc.fromUint8Array=function(t){if(wc("Blob.fromUint8Array",arguments,1),Uc(),!(t instanceof Uint8Array))throw kc("Blob.fromUint8Array","Uint8Array",1,t);return new Kc(mi.fromUint8Array(t))},Kc.prototype.toBase64=function(){return wc("Blob.toBase64",arguments,0),jc(),this._a.toBase64()},Kc.prototype.toUint8Array=function(){return wc("Blob.toUint8Array",arguments,0),Uc(),this._a.toUint8Array()},Kc.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},Kc.prototype.isEqual=function(t){return this._a.isEqual(t._a)},Kc),Bc=function(t){!function(){if(!(t instanceof Array)||t.length<1)throw new Xr(Yr.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least 1 element.")}();for(var e=0;e<t.length;++e)if(Ec("FieldPath","string",e,t[e]),0===t[e].length)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.fa=new ti(t)},Gc=(n(Xc,Fc=Bc),Xc.documentId=function(){return new Xc(ti.L().N())},Xc.prototype.isEqual=function(t){if(!(t instanceof Xc))throw kc("isEqual","FieldPath",1,t);return this.fa.isEqual(t.fa)},Xc),zc=new RegExp("[~\\*/\\[\\]]"),Hc=function(){this.da=this},Wc=(n(Yc,Mc=Hc),Yc.prototype.Ta=function(t){if(2!==t.Ea)throw 1===t.Ea?t.Ia(this.wa+"() can only appear at the top level of your update data"):t.Ia(this.wa+"() cannot be used with set() unless you pass {merge:true}");return t.Le.push(t.path),null},Yc.prototype.isEqual=function(t){return t instanceof Yc},Yc);function Yc(t){var e=this;return(e=Mc.call(this)||this).wa=t,e}function Xc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Fc.call(this,t)||this}function Kc(t){jc(),this._a=t}function Qc(t,e,n){return new Af({Ea:3,ma:e.settings.ma,methodName:t.wa,Aa:n},e.s,e.serializer,e.ignoreUndefinedProperties)}var Jc,$c,Zc,tf,ef,nf,rf=(n(gf,nf=Hc),gf.prototype.Ta=function(t){return new Ts(t.path,new hs)},gf.prototype.isEqual=function(t){return t instanceof gf},gf),of=(n(vf,ef=Hc),vf.prototype.Ta=function(t){var e=Qc(this,t,!0),n=this.Ra.map(function(t){return Lf(t,e)}),r=new cs(n);return new Ts(t.path,r)},vf.prototype.isEqual=function(t){return this===t},vf),sf=(n(yf,tf=Hc),yf.prototype.Ta=function(t){var e=Qc(this,t,!0),n=this.Ra.map(function(t){return Lf(t,e)}),r=new ys(n);return new Ts(t.path,r)},yf.prototype.isEqual=function(t){return this===t},yf),uf=(n(df,Zc=Hc),df.prototype.Ta=function(t){var e=new ws(t.serializer,Uo(t.serializer,this.Pa));return new Ts(t.path,e)},df.prototype.isEqual=function(t){return this===t},df),af=(n(pf,$c=Hc),pf.delete=function(){return mc("FieldValue.delete",arguments),new hf(new Wc("FieldValue.delete"))},pf.serverTimestamp=function(){return mc("FieldValue.serverTimestamp",arguments),new hf(new rf("FieldValue.serverTimestamp"))},pf.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return bc("FieldValue.arrayUnion",arguments,1),new hf(new of("FieldValue.arrayUnion",t))},pf.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return bc("FieldValue.arrayRemove",arguments,1),new hf(new sf("FieldValue.arrayRemove",t))},pf.increment=function(t){return Ec("FieldValue.increment","number",1,t),wc("FieldValue.increment",arguments,1),new hf(new uf("FieldValue.increment",t))},pf),hf=(n(lf,Jc=af),lf.prototype.Ta=function(t){return this.da.Ta(t)},lf.prototype.isEqual=function(t){return t instanceof lf&&this.da.isEqual(t.da)},lf),cf=(Object.defineProperty(ff.prototype,"latitude",{get:function(){return this.Va},enumerable:!1,configurable:!0}),Object.defineProperty(ff.prototype,"longitude",{get:function(){return this.ga},enumerable:!1,configurable:!0}),ff.prototype.isEqual=function(t){return this.Va===t.Va&&this.ga===t.ga},ff.prototype.T=function(t){return Lr(this.Va,t.Va)||Lr(this.ga,t.ga)},ff);function ff(t,e){if(wc("GeoPoint",arguments,2),Ec("GeoPoint","number",1,t),Ec("GeoPoint","number",2,e),!isFinite(t)||t<-90||90<t)throw new Xr(Yr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new Xr(Yr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.Va=t,this.ga=e}function lf(t){var e=this;return(e=Jc.call(this)||this).da=t,e.wa=t.wa,e}function pf(){return $c.call(this)||this}function df(t,e){var n=this;return(n=Zc.call(this)||this).wa=t,n.Pa=e,n}function yf(t,e){var n=this;return(n=tf.call(this)||this).wa=t,n.Ra=e,n}function vf(t,e){var n=this;return(n=ef.call(this)||this).wa=t,n.Ra=e,n}function gf(t){var e=this;return(e=nf.call(this)||this).wa=t,e}function mf(t){return new Lo(t,!0)}var wf=/^__.*__$/,bf=function(t,e,n){this.ya=t,this.pa=e,this.ba=n},If=(Tf.prototype.va=function(t,e){var n=[];return null!==this.Le?n.push(new js(t,this.data,this.Le,e)):n.push(new Us(t,this.data,e)),0<this.fieldTransforms.length&&n.push(new Gs(t,this.fieldTransforms)),n},Tf),Ef=(_f.prototype.va=function(t,e){var n=[new js(t,this.data,this.Le,e)];return 0<this.fieldTransforms.length&&n.push(new Gs(t,this.fieldTransforms)),n},_f);function _f(t,e,n){this.data=t,this.Le=e,this.fieldTransforms=n}function Tf(t,e,n){this.data=t,this.Le=e,this.fieldTransforms=n}function Nf(t){switch(t){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw Sr()}}var Af=(Object.defineProperty(Df.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(Df.prototype,"Ea",{get:function(){return this.settings.Ea},enumerable:!1,configurable:!0}),Df.prototype.Da=function(t){return new Df(Object.assign(Object.assign({},this.settings),t),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Le)},Df.prototype.Ca=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Da({path:n,Aa:!1});return r.Fa(t),r},Df.prototype.Na=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Da({path:n,Aa:!1});return r.Sa(),r},Df.prototype.$a=function(t){return this.Da({path:void 0,Aa:!0})},Df.prototype.Ia=function(t){return Ff(t,this.settings.methodName,this.settings.ka||!1,this.path,this.settings.ma)},Df.prototype.contains=function(e){return void 0!==this.Le.find(function(t){return e.D(t)})||void 0!==this.fieldTransforms.find(function(t){return e.D(t.field)})},Df.prototype.Sa=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fa(this.path.get(t))},Df.prototype.Fa=function(t){if(0===t.length)throw this.Ia("Document fields must not be empty");if(Nf(this.Ea)&&wf.test(t))throw this.Ia('Document fields cannot begin and end with "__"')},Df),xf=(Sf.prototype.xa=function(t,e,n,r){return void 0===r&&(r=!1),new Af({Ea:t,methodName:e,ma:n,path:ti.k(),Aa:!1,ka:r},this.s,this.serializer,this.ignoreUndefinedProperties)},Sf);function Sf(t,e,n){this.s=t,this.ignoreUndefinedProperties=e,this.serializer=n||mf(t)}function Df(t,e,n,r,i,o){this.settings=t,this.s=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.Le=o||[]}function Pf(t,e,n,r,i,o){void 0===o&&(o={});var s=t.xa(o.merge||o.mergeFields?2:0,e,n,i);Uf("Data must be an object, but it was:",s,r);var u,a,h=Cf(r,s);if(o.merge)u=new _s(s.Le),a=s.fieldTransforms;else if(o.mergeFields){for(var c=[],f=0,l=o.mergeFields;f<l.length;f++){var p=l[f],d=void 0;if(p instanceof Bc)d=p.fa;else{if("string"!=typeof p)throw Sr();d=Mf(e,p,n)}if(!s.contains(d))throw new Xr(Yr.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");qf(c,d)||c.push(d)}u=new _s(c),a=s.fieldTransforms.filter(function(t){return u.Ke(t.field)})}else u=null,a=s.fieldTransforms;return new If(new Js(h),u,a)}function Rf(t,o,s,e){var u=t.xa(1,o,s);Uf("Data must be an object, but it was:",u,e);var a=[],h=new $s;qr(e,function(t,e){var n=Mf(o,t,s),r=u.Na(n);if(e instanceof Hc&&e.da instanceof Wc)a.push(n);else{var i=Lf(e,r);null!=i&&(a.push(n),h.set(n,i))}});var n=new _s(a);return new Ef(h.ze(),n,u.fieldTransforms)}function Of(t,e,n,r,i,o){var s=t.xa(1,e,n),u=[jf(e,r,n)],a=[i];if(o.length%2!=0)throw new Xr(Yr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<o.length;h+=2)u.push(jf(e,o[h])),a.push(o[h+1]);for(var c=[],f=new $s,l=u.length-1;0<=l;--l)if(!qf(c,u[l])){var p=u[l],d=a[l],y=s.Na(p);if(d instanceof Hc&&d.da instanceof Wc)c.push(p);else{var v=Lf(d,y);null!=v&&(c.push(p),f.set(p,v))}}var g=new _s(c);return new Ef(f.ze(),g,s.fieldTransforms)}function kf(t,e,n,r){return void 0===r&&(r=!1),Lf(n,t.xa(r?4:3,e))}function Lf(s,t){if(Vf(s))return Uf("Unsupported field value:",t,s),Cf(s,t);if(s instanceof Hc)return function(t,e){if(!Nf(e.Ea))throw e.Ia(t.wa+"() can only be used with update() and set()");if(!e.path)throw e.Ia(t.wa+"() is not currently supported inside arrays");var n=t.Ta(e);n&&e.fieldTransforms.push(n)}(s,t),null;if(t.path&&t.Le.push(t.path),s instanceof Array){if(t.settings.Aa&&4!==t.Ea)throw t.Ia("Nested arrays are not supported");return function(t){for(var e=[],n=0,r=0,i=s;r<i.length;r++){var o=Lf(i[r],t.$a(n));null==o&&(o={nullValue:"NULL_VALUE"}),e.push(o),n++}return{arrayValue:{values:e}}}(t)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Uo(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Kr.fromDate(t);return{timestampValue:jo(e.serializer,n)}}if(t instanceof Kr){var r=new Kr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:jo(e.serializer,r)}}if(t instanceof cf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qc)return{bytesValue:Mo(e.serializer,t)};if(t instanceof bf){var i=e.s,o=t.ya;if(!o.isEqual(i))throw e.Ia("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:qo(t.ya||e.s,t.pa.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.Ia("Unsupported field value: "+Pc(t))}(s,t)}function Cf(t,r){var i={};return Br(t)?r.path&&0<r.path.length&&r.Le.push(r.path):qr(t,function(t,e){var n=Lf(e,r.Ca(t));null!=n&&(i[t]=n)}),{mapValue:{fields:i}}}function Vf(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Kr||t instanceof cf||t instanceof qc||t instanceof bf||t instanceof Hc)}function Uf(t,e,n){if(!Vf(n)||!Dc(n)){var r=Pc(n);throw"an object"===r?e.Ia(t+" a custom object"):e.Ia(t+" "+r)}}function jf(t,e,n){if(e instanceof Bc)return e.fa;if("string"==typeof e)return Mf(t,e);throw Ff("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function Mf(t,e,n){try{return function(e){if(0<=e.search(zc))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Gc.bind.apply(Gc,d([void 0],e.split("."))))}catch(t){throw new Xr(Yr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).fa}catch(e){throw Ff(e instanceof Error?e.message:e.toString(),t,!1,void 0,n)}}function Ff(t,e,n,r,i){var o=r&&!r._(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new Xr(Yr.INVALID_ARGUMENT,(u+=". ")+t+a)}function qf(t,e){return t.some(function(t){return t.isEqual(e)})}var Bf=(Gf.prototype.Yr=function(){return null!=this.uid},Gf.prototype.Ma=function(){return this.Yr()?"uid:"+this.uid:"anonymous-user"},Gf.prototype.isEqual=function(t){return t.uid===this.uid},Gf);function Gf(t){this.uid=t}Bf.UNAUTHENTICATED=new Bf(null),Bf.Oa=new Bf("google-credentials-uid"),Bf.La=new Bf("first-party-uid");function zf(t,e){this.user=e,this.type="OAuth",this.Ba={},this.Ba.Authorization="Bearer "+t}var Hf,Wf,Yf,Xf=(yl.prototype.getToken=function(){return Promise.resolve(null)},yl.prototype.Ua=function(){},yl.prototype.Qa=function(t){(this.qa=t)(Bf.UNAUTHENTICATED)},yl.prototype.Wa=function(){this.qa=null},yl),Kf=(dl.prototype.getToken=function(){var e=this,n=this.Ga,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(function(t){return e.Ga!==n?(Nr("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):t?(Dr("string"==typeof t.accessToken),new zf(t.accessToken,e.currentUser)):null}):Promise.resolve(null)},dl.prototype.Ua=function(){this.forceRefresh=!0},dl.prototype.Qa=function(t){this.qa=t,this.Ka&&t(this.currentUser)},dl.prototype.Wa=function(){this.auth&&this.auth.removeAuthTokenListener(this.ja),this.ja=null,this.qa=null},dl.prototype.za=function(){var t=this.auth&&this.auth.getUid();return Dr(null===t||"string"==typeof t),new Bf(t)},dl),Qf=(Object.defineProperty(pl.prototype,"Ba",{get:function(){var t={"X-Goog-AuthUser":this.Ya},e=this.Ha.auth.Ja([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),pl),Jf=(ll.prototype.getToken=function(){return Promise.resolve(new Qf(this.Ha,this.Ya))},ll.prototype.Qa=function(t){t(Bf.La)},ll.prototype.Wa=function(){},ll.prototype.Ua=function(){},ll),$f=(fl.prototype.su=function(){return 1===this.state||2===this.state||4===this.state},fl.prototype.iu=function(){return 2===this.state},fl.prototype.start=function(){3!==this.state?this.auth():this.ru()},fl.prototype.stop=function(){return y(this,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return this.su()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},fl.prototype.ou=function(){this.state=0,this.xo.reset()},fl.prototype.hu=function(){var t=this;this.iu()&&null===this.nu&&(this.nu=this.bs.Os(this.Xa,6e4,function(){return t.au()}))},fl.prototype.uu=function(t){this.cu(),this.stream.send(t)},fl.prototype.au=function(){return y(this,void 0,void 0,function(){return v(this,function(t){return this.iu()?[2,this.close(0)]:[2]})})},fl.prototype.cu=function(){this.nu&&(this.nu.cancel(),this.nu=null)},fl.prototype.close=function(e,n){return y(this,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return this.cu(),this.xo.cancel(),this.eu++,3!==e?this.xo.reset():n&&n.code===Yr.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.xo.ks()):n&&n.code===Yr.UNAUTHENTICATED&&this.tu.Ua(),null!==this.stream&&(this.lu(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener._u(n)];case 1:return t.sent(),[2]}})})},fl.prototype.lu=function(){},fl.prototype.auth=function(){var n=this;this.state=1;var t=this.fu(this.eu),e=this.eu;this.tu.getToken().then(function(t){n.eu===e&&n.du(t)},function(e){t(function(){var t=new Xr(Yr.UNKNOWN,"Fetching auth token failed: "+e.message);return n.wu(t)})})},fl.prototype.du=function(t){var e=this,n=this.fu(this.eu);this.stream=this.Tu(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream._u(function(t){n(function(){return e.wu(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},fl.prototype.ru=function(){var t=this;this.state=4,this.xo.xs(function(){return y(t,void 0,void 0,function(){return v(this,function(t){return this.state=0,this.start(),[2]})})})},fl.prototype.wu=function(t){return Nr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},fl.prototype.fu=function(e){var n=this;return function(t){n.bs.lr(function(){return n.eu===e?t():(Nr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},fl),Zf=(n(cl,Yf=$f),cl.prototype.Tu=function(t){return this.Za.Iu("Listen",t)},cl.prototype.onMessage=function(t){this.xo.reset();var e=function(t,e){var n,r,i,o,s,u;if("targetChange"in e){e.targetChange;var a="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:Sr(),h=e.targetChange.targetIds||[],c=(o=t,s=e.targetChange.resumeToken,o.Oe?(Dr(void 0===s||"string"==typeof s),mi.fromBase64String(s||"")):(Dr(void 0===s||s instanceof Uint8Array),mi.fromUint8Array(s||new Uint8Array))),f=e.targetChange.cause,l=f&&(i=void 0===(r=f).code?Yr.UNKNOWN:Ai(r.code),new Xr(i,r.message||""));n=new Qi(a,h,c,l||null)}else if("documentChange"in e){e.documentChange;var p=e.documentChange;p.document,p.document.name,p.document.updateTime;var d=zo(t,p.document.name),y=Fo(p.document.updateTime),v=new Js({mapValue:{fields:p.document.fields}}),g=new au(d,y,v,{}),m=p.targetIds||[],w=p.removedTargetIds||[];n=new Xi(m,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;var b=e.documentDelete;b.document;var I=zo(t,b.document),E=b.readTime?Fo(b.readTime):Qr.min(),_=new hu(I,E),T=b.removedTargetIds||[];n=new Xi([],T,_.key,_)}else if("documentRemove"in e){e.documentRemove;var N=e.documentRemove;N.document;var A=zo(t,N.document),x=N.removedTargetIds||[];n=new Xi([],x,A,null)}else{if(!("filter"in e))return Sr();e.filter;var S=e.filter;S.targetId;var D=S.count||0,P=new bi(D),R=S.targetId;n=new Ki(R,P)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Qr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length||!e.readTime?Qr.min():Fo(e.readTime)}(t);return this.listener.mu(e,n)},cl.prototype.Au=function(t){var e,n,r,i,o={};o.database=Yo(this.serializer),o.addTarget=(e=this.serializer,i=(n=t).target,(r=gi(i)?{documents:$o(e,i)}:{query:Zo(e,i)}).targetId=n.targetId,0<n.resumeToken.H()&&(r.resumeToken=Mo(e,n.resumeToken)),r);var s,u,a=(this.serializer,s=t,null==(u=function(){switch(s.J){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Sr()}}())?null:{"goog-listen-tags":u});a&&(o.labels=a),this.uu(o)},cl.prototype.Ru=function(t){var e={};e.database=Yo(this.serializer),e.removeTarget=t,this.uu(e)},cl),tl=(n(hl,Wf=$f),Object.defineProperty(hl.prototype,"Vu",{get:function(){return this.Pu},enumerable:!1,configurable:!0}),hl.prototype.start=function(){this.Pu=!1,this.lastStreamToken=void 0,Wf.prototype.start.call(this)},hl.prototype.lu=function(){this.Pu&&this.gu([])},hl.prototype.Tu=function(t){return this.Za.Iu("Write",t)},hl.prototype.onMessage=function(t){if(Dr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Pu){this.xo.reset();var e=(r=t.writeResults,i=t.commitTime,r&&0<r.length?(Dr(void 0!==i),r.map(function(t){return function(t,e){var n=t.updateTime?Fo(t.updateTime):Fo(e);n.isEqual(Qr.min())&&(n=Fo(e));var r=null;return t.transformResults&&0<t.transformResults.length&&(r=t.transformResults),new As(n,r)}(t,i)})):[]),n=Fo(t.commitTime);return this.listener.yu(n,e)}var r,i;return Dr(!t.writeResults||0===t.writeResults.length),this.Pu=!0,this.listener.pu()},hl.prototype.bu=function(){var t={};t.database=Yo(this.serializer),this.uu(t)},hl.prototype.gu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Qo(e.serializer,t)})};this.uu(n)},hl),el=(n(al,Hf=function(){this.je=void 0}),al.prototype.Su=function(){if(this.vu)throw new Xr(Yr.FAILED_PRECONDITION,"The client has already been terminated.")},al.prototype.Du=function(e,n){var r=this;return this.Su(),this.credentials.getToken().then(function(t){return r.Za.Du(e,n,t)}).catch(function(t){throw t.code===Yr.UNAUTHENTICATED&&r.credentials.Ua(),t})},al.prototype.Cu=function(e,n){var r=this;return this.Su(),this.credentials.getToken().then(function(t){return r.Za.Cu(e,n,t)}).catch(function(t){throw t.code===Yr.UNAUTHENTICATED&&r.credentials.Ua(),t})},al),nl=(ul.prototype.Mu=function(r){return y(this,void 0,void 0,function(){var e,n=this;return v(this,function(t){switch(t.label){case 0:if(this.Ou(),0<this.mutations.length)throw new Xr(Yr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,u){return y(this,void 0,void 0,function(){var i,e,n,o,r;return v(this,function(t){switch(t.label){case 0:return i=Pr(s),e={database:Yo(i.serializer),documents:u.map(function(t){return Go(i.serializer,t)})},[4,i.Cu("BatchGetDocuments",e)];case 1:return n=t.sent(),o=new Map,n.forEach(function(t){var e,n,r=(e=i.serializer,"found"in(n=t)?function(t,e){Dr(!!e.found),e.found.name,e.found.updateTime;var n=zo(t,e.found.name),r=Fo(e.found.updateTime),i=new Js({mapValue:{fields:e.found.fields}});return new au(n,r,i,{})}(e,n):"missing"in n?function(t,e){Dr(!!e.missing),Dr(!!e.readTime);var n=zo(t,e.missing),r=Fo(e.readTime);return new hu(n,r)}(e,n):Sr());o.set(r.key.toString(),r)}),r=[],[2,(u.forEach(function(t){var e=o.get(t.toString());Dr(!!e),r.push(e)}),r)]}})})}(this.Fu,r)];case 1:return[2,((e=t.sent()).forEach(function(t){t instanceof hu||t instanceof au?n.Lu(t):Sr()}),e)]}})})},ul.prototype.set=function(t,e){this.write(e.va(t,this.Ue(t))),this.xu.add(t)},ul.prototype.update=function(t,e){try{this.write(e.va(t,this.Bu(t)))}catch(t){this.ku=t}this.xu.add(t)},ul.prototype.delete=function(t){this.write([new Ks(t,this.Ue(t))]),this.xu.add(t)},ul.prototype.commit=function(){return y(this,void 0,void 0,function(){var e,r=this;return v(this,function(t){switch(t.label){case 0:if(this.Ou(),this.ku)throw this.ku;return e=this.Nu,this.mutations.forEach(function(t){e.delete(t.key.toString())}),e.forEach(function(t,e){var n=new ei($r.$(e));r.mutations.push(new Qs(n,r.Ue(n)))}),[4,function(r,i){return y(this,void 0,void 0,function(){var e,n;return v(this,function(t){switch(t.label){case 0:return e=Pr(r),n={database:Yo(e.serializer),writes:i.map(function(t){return Qo(e.serializer,t)})},[4,e.Du("Commit",n)];case 1:return t.sent(),[2]}})})}(this.Fu,this.mutations)];case 1:return t.sent(),this.$u=!0,[2]}})})},ul.prototype.Lu=function(t){var e;if(t instanceof au)e=t.version;else{if(!(t instanceof hu))throw Sr();e=Qr.min()}var n=this.Nu.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Xr(Yr.ABORTED,"Document version changed between two reads.")}else this.Nu.set(t.key.toString(),e)},ul.prototype.Ue=function(t){var e=this.Nu.get(t.toString());return!this.xu.has(t)&&e?xs.updateTime(e):xs.Qe()},ul.prototype.Bu=function(t){var e=this.Nu.get(t.toString());if(this.xu.has(t)||!e)return xs.exists(!0);if(e.isEqual(Qr.min()))throw new Xr(Yr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xs.updateTime(e)},ul.prototype.write=function(t){this.Ou(),this.mutations=this.mutations.concat(t)},ul.prototype.Ou=function(){},ul),rl=(sl.prototype.ju=function(){var t=this;0===this.Uu&&(this.Ku("Unknown"),this.Qu=this.Ro.Os("online_state_timeout",1e4,function(){return t.Qu=null,t.Gu("Backend didn't respond within 10 seconds."),t.Ku("Offline"),Promise.resolve()}))},sl.prototype.zu=function(t){"Online"===this.state?this.Ku("Unknown"):(this.Uu++,1<=this.Uu&&(this.Hu(),this.Gu("Connection failed 1 times. Most recent error: "+t.toString()),this.Ku("Offline")))},sl.prototype.set=function(t){this.Hu(),this.Uu=0,"Online"===t&&(this.Wu=!1),this.Ku(t)},sl.prototype.Ku=function(t){t!==this.state&&(this.state=t,this.qu(t))},sl.prototype.Gu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Wu?(Ar(e),this.Wu=!1):Nr("OnlineStateTracker",e)},sl.prototype.Hu=function(){null!==this.Qu&&(this.Qu.cancel(),this.Qu=null)},sl),il=(ol.prototype.start=function(){return this.enableNetwork()},ol.prototype.enableNetwork=function(){return this.tc.delete(0),this.dc()},ol.prototype.dc=function(){return y(this,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return this.sc()?(this.wc()?this.Tc():this.rc.set("Unknown"),[4,this.Ec()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},ol.prototype.disableNetwork=function(){return y(this,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return this.tc.add(0),[4,this.Ic()];case 1:return t.sent(),this.rc.set("Offline"),[2]}})})},ol.prototype.Ic=function(){return y(this,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return[4,this.cc.stop()];case 1:return t.sent(),[4,this.oc.stop()];case 2:return t.sent(),0<this.Ju.length&&(Nr("RemoteStore","Stopping write stream with "+this.Ju.length+" pending writes"),this.Ju=[]),this.mc(),[2]}})})},ol.prototype.yr=function(){return y(this,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return Nr("RemoteStore","RemoteStore shutting down."),this.tc.add(5),[4,this.Ic()];case 1:return t.sent(),this.ec.yr(),this.rc.set("Unknown"),[2]}})})},ol.prototype.listen=function(t){this.Xu.has(t.targetId)||(this.Xu.set(t.targetId,t),this.wc()?this.Tc():this.oc.iu()&&this.Ac(t))},ol.prototype.Rc=function(t){this.Xu.delete(t),this.oc.iu()&&this.Pc(t),0===this.Xu.size&&(this.oc.iu()?this.oc.hu():this.sc()&&this.rc.set("Unknown"))},ol.prototype.Me=function(t){return this.Xu.get(t)||null},ol.prototype.xe=function(t){return this.Vc.xe(t)},ol.prototype.Ac=function(t){this.Zu.de(t.targetId),this.oc.Au(t)},ol.prototype.Pc=function(t){this.Zu.de(t),this.oc.Ru(t)},ol.prototype.Tc=function(){this.Zu=new ro(this),this.oc.start(),this.rc.ju()},ol.prototype.wc=function(){return this.sc()&&!this.oc.su()&&0<this.Xu.size},ol.prototype.sc=function(){return 0===this.tc.size},ol.prototype.mc=function(){this.Zu=null},ol.prototype.hc=function(){return y(this,void 0,void 0,function(){var n=this;return v(this,function(t){return this.Xu.forEach(function(t,e){n.Ac(t)}),[2]})})},ol.prototype.ac=function(e){return y(this,void 0,void 0,function(){return v(this,function(t){return this.mc(),this.wc()?(this.rc.zu(e),this.Tc()):this.rc.set("Unknown"),[2]})})},ol.prototype.uc=function(i,o){return y(this,void 0,void 0,function(){var e,n,r;return v(this,function(t){switch(t.label){case 0:if(this.rc.set("Online"),!(i instanceof Qi&&2===i.state&&i.cause))return[3,6];t.label=1;case 1:return t.trys.push([1,3,,5]),[4,this.gc(i)];case 2:return t.sent(),[3,5];case 3:return e=t.sent(),Nr("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),e),[4,this.yc(e)];case 4:return t.sent(),[3,5];case 5:return[3,13];case 6:if(i instanceof Xi?this.Zu.Pe(i):i instanceof Ki?this.Zu.De(i):this.Zu.ye(i),o.isEqual(Qr.min()))return[3,13];t.label=7;case 7:return t.trys.push([7,11,,13]),[4,this.Yu.mi()];case 8:return n=t.sent(),0<=o.o(n)?[4,this.pc(o)]:[3,10];case 9:t.sent(),t.label=10;case 10:return[3,13];case 11:return Nr("RemoteStore","Failed to raise snapshot:",r=t.sent()),[4,this.yc(r)];case 12:return t.sent(),[3,13];case 13:return[2]}})})},ol.prototype.yc=function(n,r){return y(this,void 0,void 0,function(){var e=this;return v(this,function(t){switch(t.label){case 0:if(!jh(n))throw n;return this.tc.add(1),[4,this.Ic()];case 1:return t.sent(),this.rc.set("Offline"),r=r||function(){return e.Yu.mi()},this.Ro.dr(function(){return y(e,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return Nr("RemoteStore","Retrying IndexedDB access"),[4,r()];case 1:return t.sent(),this.tc.delete(1),[4,this.dc()];case 2:return t.sent(),[2]}})})}),[2]}})})},ol.prototype.bc=function(e){var n=this;return e().catch(function(t){return n.yc(t,e)})},ol.prototype.pc=function(r){var i=this,t=this.Zu.Ne(r);return t.Qt.forEach(function(t,e){if(0<t.resumeToken.H()){var n=i.Xu.get(e);n&&i.Xu.set(e,n.tt(t.resumeToken,r))}}),t.Wt.forEach(function(t){var e=i.Xu.get(t);if(e){i.Xu.set(t,e.tt(mi.Y,e.X)),i.Pc(t);var n=new _i(e.target,t,1,e.sequenceNumber);i.Ac(n)}}),this.Vc.qh(t)},ol.prototype.gc=function(o){return y(this,void 0,void 0,function(){var e,n,r,i;return v(this,function(t){switch(t.label){case 0:e=o.cause,n=0,r=o.targetIds,t.label=1;case 1:return n<r.length?(i=r[n],this.Xu.has(i)?[4,this.Vc.vc(i,e)]:[3,3]):[3,5];case 2:t.sent(),this.Xu.delete(i),this.Zu.removeTarget(i),t.label=3;case 3:t.label=4;case 4:return n++,[3,1];case 5:return[2]}})})},ol.prototype.Ec=function(){return y(this,void 0,void 0,function(){var e,n,r;return v(this,function(t){switch(t.label){case 0:e=0<this.Ju.length?this.Ju[this.Ju.length-1].batchId:-1,t.label=1;case 1:if(!this.Sc())return[3,7];t.label=2;case 2:return t.trys.push([2,4,,6]),[4,this.Yu.jh(e)];case 3:return null===(n=t.sent())?(0===this.Ju.length&&this.cc.hu(),[3,7]):(e=n.batchId,this.Dc(n),[3,6]);case 4:return r=t.sent(),[4,this.yc(r)];case 5:return t.sent(),[3,6];case 6:return[3,1];case 7:return this.Cc()&&this.Fc(),[2]}})})},ol.prototype.Sc=function(){return this.sc()&&this.Ju.length<10},ol.prototype.Nc=function(){return this.Ju.length},ol.prototype.Dc=function(t){this.Ju.push(t),this.cc.iu()&&this.cc.Vu&&this.cc.gu(t.mutations)},ol.prototype.Cc=function(){return this.sc()&&!this.cc.su()&&0<this.Ju.length},ol.prototype.Fc=function(){this.cc.start()},ol.prototype.lc=function(){return y(this,void 0,void 0,function(){return v(this,function(t){return this.cc.bu(),[2]})})},ol.prototype.fc=function(){return y(this,void 0,void 0,function(){var e,n,r;return v(this,function(t){for(e=0,n=this.Ju;e<n.length;e++)r=n[e],this.cc.gu(r.mutations);return[2]})})},ol.prototype.yu=function(i,o){return y(this,void 0,void 0,function(){var e,n,r=this;return v(this,function(t){switch(t.label){case 0:return e=this.Ju.shift(),n=Wu.from(e,i,o),[4,this.bc(function(){return r.Vc.$c(n)})];case 1:return t.sent(),[4,this.Ec()];case 2:return t.sent(),[2]}})})},ol.prototype._c=function(e){return y(this,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return e&&this.cc.Vu?[4,this.kc(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.Cc()&&this.Fc(),[2]}})})},ol.prototype.kc=function(i){return y(this,void 0,void 0,function(){var e,n,r=this;return v(this,function(t){switch(t.label){case 0:return Ni(n=i.code)&&n!==Yr.ABORTED?(e=this.Ju.shift(),this.cc.ou(),[4,this.bc(function(){return r.Vc.xc(e.batchId,i)})]):[3,3];case 1:return t.sent(),[4,this.Ec()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},ol.prototype.Mc=function(){return new nl(this.Fu)},ol.prototype.ic=function(){return y(this,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return this.tc.add(4),[4,this.Ic()];case 1:return t.sent(),this.rc.set("Unknown"),this.tc.delete(4),[4,this.dc()];case 2:return t.sent(),[2]}})})},ol.prototype.Oc=function(e){return y(this,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return this.Ro.Ko(),Nr("RemoteStore","RemoteStore received new credentials"),this.tc.add(3),[4,this.Ic()];case 1:return t.sent(),this.rc.set("Unknown"),[4,this.Vc.Oc(e)];case 2:return t.sent(),this.tc.delete(3),[4,this.dc()];case 3:return t.sent(),[2]}})})},ol.prototype.Lc=function(e){return y(this,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return e?(this.tc.delete(2),[4,this.dc()]):[3,2];case 1:return t.sent(),[3,5];case 2:return e?[3,4]:(this.tc.add(2),[4,this.Ic()]);case 3:t.sent(),this.rc.set("Unknown"),t.label=4;case 4:t.label=5;case 5:return[2]}})})},ol);function ol(t,e,n,r,i){var o,s,u,a,h,c,f,l,p=this;this.Yu=t,this.Fu=e,this.Ro=n,this.Ju=[],this.Xu=new Map,this.Zu=null,this.tc=new Set,this.ec=i,this.ec.nc(function(t){n.lr(function(){return y(p,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return this.sc()?(Nr("RemoteStore","Restarting streams for network reachability change."),[4,this.ic()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.rc=new rl(n,r),this.oc=(h=this.Fu,c=n,f={Eu:this.hc.bind(this),_u:this.ac.bind(this),mu:this.uc.bind(this)},l=Pr(h),new Zf(c,l.Za,l.credentials,l.serializer,f)),this.cc=(o=this.Fu,s=n,u={Eu:this.lc.bind(this),_u:this._c.bind(this),pu:this.fc.bind(this),yu:this.yu.bind(this)},a=Pr(o),new tl(s,a.Za,a.credentials,a.serializer,u))}function sl(t,e){this.Ro=t,this.qu=e,this.state="Unknown",this.Uu=0,this.Qu=null,this.Wu=!0}function ul(t){this.Fu=t,this.Nu=new Map,this.mutations=[],this.$u=!1,this.ku=null,this.xu=new Set}function al(t,e,n){var r=this;return(r=Hf.call(this)||this).Za=t,r.credentials=e,r.serializer=n,r.vu=!1,r}function hl(t,e,n,r,i){var o=this;return(o=Wf.call(this,t,"write_stream_connection_backoff","write_stream_idle",e,n,i)||this).serializer=r,o.Pu=!1,o}function cl(t,e,n,r,i){var o=this;return(o=Yf.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",e,n,i)||this).serializer=r,o}function fl(t,e,n,r,i,o){this.bs=t,this.Xa=n,this.Za=r,this.tu=i,this.listener=o,this.state=0,this.eu=0,this.nu=null,this.stream=null,this.xo=new ha(t,e)}function ll(t,e){this.Ha=t,this.Ya=e}function pl(t,e){this.Ha=t,this.Ya=e,this.type="FirstParty",this.user=Bf.La}function dl(t){var e=this;this.ja=null,this.currentUser=Bf.UNAUTHENTICATED,this.Ka=!1,this.Ga=0,this.qa=null,this.forceRefresh=!1,this.ja=function(){e.Ga++,e.currentUser=e.za(),e.Ka=!0,e.qa&&e.qa(e.currentUser)},this.Ga=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.ja):(this.ja(null),t.get().then(function(t){e.auth=t,e.ja&&e.auth.addAuthTokenListener(e.ja)},function(){}))}function yl(){this.qa=null}function vl(t,e){return"firestore_clients_"+t+"_"+e}function gl(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Yr()&&(r+="_"+e.uid),r}function ml(t,e){return"firestore_targets_"+t+"_"+e}function wl(t){this.key=t}function bl(t){this.key=t}function Il(t,e,n){this.query=t,this.targetId=e,this.view=n}function El(t){this.key=t,this.t_=!1}function _l(){this.O_=void 0,this.listeners=[]}var Tl,Nl,Al=(rp.Bc=function(t,e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Xr(r.error.code,r.error.message)),i?new rp(t,e,r.state,o):(Ar("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+n),null)},rp.prototype.qc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},rp),xl=(np.Bc=function(t,e){var n=JSON.parse(e),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),i=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new Xr(n.error.code,n.error.message)),r?new np(t,n.state,i):(Ar("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},np.prototype.qc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},np),Sl=(ep.Bc=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Yi(),o=0;r&&o<n.activeTargetIds.length;++o)r=li(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new ep(t,i):(Ar("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},ep),Dl=(tp.Bc=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new tp(e.clientId,e.onlineState):(Ar("SharedClientState","Failed to parse online state: "+t),null)},tp),Pl=(Zl.prototype.Uc=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},Zl.prototype.Qc=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},Zl.prototype.qc=function(){var t={activeTargetIds:this.activeTargetIds.F(),updateTimeMs:Date.now()};return JSON.stringify(t)},Zl),Rl=($l.Hi=function(t){return!(!t||!t.localStorage)},$l.prototype.start=function(){return y(this,void 0,void 0,function(){var e,n,r,i,o,s,u,a,h,c,f,l=this;return v(this,function(t){switch(t.label){case 0:return[4,this.Vc.Dr()];case 1:for(e=t.sent(),n=0,r=e;n<r.length;n++)(i=r[n])!==this.Wc&&(o=this.getItem(vl(this.persistenceKey,i)))&&(s=Sl.Bc(i,o))&&(this.Gc=this.Gc.nt(s.clientId,s));for(this.el(),(u=this.storage.getItem(this.tl))&&(a=this.nl(u))&&this.sl(a),h=0,c=this.zc;h<c.length;h++)f=c[h],this.Kc(f);return this.zc=[],this.window.addEventListener("unload",function(){return l.yr()}),this.hr=!0,[2]}})})},$l.prototype.ys=function(t){this.setItem(this.Yc,JSON.stringify(t))},$l.prototype.il=function(){return this.rl(this.Gc)},$l.prototype.ol=function(n){var r=!1;return this.Gc.forEach(function(t,e){e.activeTargetIds.has(n)&&(r=!0)}),r},$l.prototype.hl=function(t){this.al(t,"pending")},$l.prototype.ul=function(t,e,n){this.al(t,e,n),this.cl(t)},$l.prototype.ll=function(t){var e="not-current";if(this.ol(t)){var n=this.storage.getItem(ml(this.persistenceKey,t));if(n){var r=xl.Bc(t,n);r&&(e=r.state)}}return this._l.Uc(t),this.el(),e},$l.prototype.fl=function(t){this._l.Qc(t),this.el()},$l.prototype.dl=function(t){return this._l.activeTargetIds.has(t)},$l.prototype.wl=function(t){this.removeItem(ml(this.persistenceKey,t))},$l.prototype.Tl=function(t,e,n){this.El(t,e,n)},$l.prototype.Nh=function(t,e,n){var r=this;e.forEach(function(t){r.cl(t)}),this.currentUser=t,n.forEach(function(t){r.hl(t)})},$l.prototype.Il=function(t){this.ml(t)},$l.prototype.yr=function(){this.hr&&(this.window.removeEventListener("storage",this.jc),this.removeItem(this.Hc),this.hr=!1)},$l.prototype.getItem=function(t){var e=this.storage.getItem(t);return Nr("SharedClientState","READ",t,e),e},$l.prototype.setItem=function(t,e){Nr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},$l.prototype.removeItem=function(t){Nr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},$l.prototype.Kc=function(t){var e=this,u=t;if(u.storageArea===this.storage){if(Nr("SharedClientState","EVENT",u.key,u.newValue),u.key===this.Hc)return void Ar("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.bs.dr(function(){return y(e,void 0,void 0,function(){var e,n,r,i,o,s;return v(this,function(t){if(this.hr){if(null!==u.key)if(this.Jc.test(u.key)){if(null==u.newValue)return e=this.Al(u.key),[2,this.Rl(e,null)];if(n=this.Pl(u.key,u.newValue))return[2,this.Rl(n.clientId,n)]}else if(this.Xc.test(u.key)){if(null!==u.newValue&&(r=this.Vl(u.key,u.newValue)))return[2,this.gl(r)]}else if(this.Zc.test(u.key)){if(null!==u.newValue&&(i=this.yl(u.key,u.newValue)))return[2,this.pl(i)]}else if(u.key===this.tl){if(null!==u.newValue&&(o=this.nl(u.newValue)))return[2,this.sl(o)]}else u.key===this.Yc&&(s=function(t){var e=Zu.ps;if(null!=t)try{var n=JSON.parse(t);Dr("number"==typeof n),e=n}catch(t){Ar("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(u.newValue))!==Zu.ps&&this.Ps(s)}else this.zc.push(u);return[2]})})})}},Object.defineProperty($l.prototype,"_l",{get:function(){return this.Gc.get(this.Wc)},enumerable:!1,configurable:!0}),$l.prototype.el=function(){this.setItem(this.Hc,this._l.qc())},$l.prototype.al=function(t,e,n){var r=new Al(this.currentUser,t,e,n),i=gl(this.persistenceKey,this.currentUser,t);this.setItem(i,r.qc())},$l.prototype.cl=function(t){var e=gl(this.persistenceKey,this.currentUser,t);this.removeItem(e)},$l.prototype.ml=function(t){var e={clientId:this.Wc,onlineState:t};this.storage.setItem(this.tl,JSON.stringify(e))},$l.prototype.El=function(t,e,n){var r=ml(this.persistenceKey,t),i=new xl(t,e,n);this.setItem(r,i.qc())},$l.prototype.Al=function(t){var e=this.Jc.exec(t);return e?e[1]:null},$l.prototype.Pl=function(t,e){var n=this.Al(t);return Sl.Bc(n,e)},$l.prototype.Vl=function(t,e){var n=this.Xc.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Al.Bc(new Bf(i),r,e)},$l.prototype.yl=function(t,e){var n=this.Zc.exec(t),r=Number(n[1]);return xl.Bc(r,e)},$l.prototype.nl=function(t){return Dl.Bc(t)},$l.prototype.gl=function(e){return y(this,void 0,void 0,function(){return v(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.Vc.bl(e.batchId,e.state,e.error)]:(Nr("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},$l.prototype.pl=function(t){return this.Vc.vl(t.targetId,t.state,t.error)},$l.prototype.Rl=function(t,e){var n=this,r=e?this.Gc.nt(t,e):this.Gc.remove(t),i=this.rl(this.Gc),o=this.rl(r),s=[],u=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||u.push(t)}),this.Vc.Sl(s,u).then(function(){n.Gc=r})},$l.prototype.sl=function(t){this.Gc.get(t.clientId)&&this.qu(t.onlineState)},$l.prototype.rl=function(t){var n=Yi();return t.forEach(function(t,e){n=n.Ct(e.activeTargetIds)}),n},$l),Ol=(Jl.prototype.hl=function(t){},Jl.prototype.ul=function(t,e,n){},Jl.prototype.ll=function(t){return this.Dl.Uc(t),this.Cl[t]||"not-current"},Jl.prototype.Tl=function(t,e,n){this.Cl[t]=e},Jl.prototype.fl=function(t){this.Dl.Qc(t)},Jl.prototype.dl=function(t){return this.Dl.activeTargetIds.has(t)},Jl.prototype.wl=function(t){delete this.Cl[t]},Jl.prototype.il=function(){return this.Dl.activeTargetIds},Jl.prototype.ol=function(t){return this.Dl.activeTargetIds.has(t)},Jl.prototype.start=function(){return this.Dl=new Pl,Promise.resolve()},Jl.prototype.Nh=function(t,e,n){},Jl.prototype.Il=function(t){},Jl.prototype.yr=function(){},Jl.prototype.ys=function(t){},Jl),kl=(Object.defineProperty(Ql.prototype,"Ml",{get:function(){return this.Fl},enumerable:!1,configurable:!0}),Ql.prototype.Ol=function(t,e){var u=this,a=e?e.Ll:new $i,h=e?e.xl:this.xl,c=e?e.Lt:this.Lt,f=h,l=!1,p=this.query.In()&&h.size===this.query.limit?h.last():null,d=this.query.mn()&&h.size===this.query.limit?h.first():null;if(t.ot(function(t,e){var n=h.get(t),r=e instanceof au?e:null;r=r&&(wu(u.query,r)?r:null);var i=!!n&&u.Lt.has(n.key),o=!!r&&(r.Ge||u.Lt.has(r.key)&&r.hasCommittedMutations),s=!1;n&&r?n.data().isEqual(r.data())?i!==o&&(a.track({type:3,doc:r}),s=!0):u.Bl(n,r)||(a.track({type:2,doc:r}),s=!0,(p&&0<u.kl(r,p)||d&&u.kl(r,d)<0)&&(l=!0)):!n&&r?(a.track({type:0,doc:r}),s=!0):n&&!r&&(a.track({type:1,doc:n}),s=!0,(p||d)&&(l=!0)),s&&(c=r?(f=f.add(r),o?c.add(t):c.delete(t)):(f=f.delete(t),c.delete(t)))}),this.query.In()||this.query.mn())for(;f.size>this.query.limit;){var n=this.query.In()?f.last():f.first();f=f.delete(n.key),c=c.delete(n.key),a.track({type:1,doc:n})}return{xl:f,Ll:a,ql:l,Lt:c}},Ql.prototype.Bl=function(t,e){return t.Ge&&e.hasCommittedMutations&&!e.Ge},Ql.prototype.Jn=function(t,e,n){var o=this,r=this.xl;this.xl=t.xl,this.Lt=t.Lt;var i=t.Ll.Mt();i.sort(function(t,e){return r=t.type,i=e.type,n(r)-n(i)||o.kl(t.doc,e.doc);function n(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Sr()}}var r,i}),this.Ul(n);var s=e?this.Ql():[],u=0===this.$l.size&&this.Ht?1:0,a=u!==this.Nl;return this.Nl=u,0!==i.length||a?{snapshot:new Zi(this.query,t.xl,r,i,t.Lt,0==u,a,!1),Wl:s}:{Wl:s}},Ql.prototype.jl=function(t){return this.Ht&&"Offline"===t?(this.Ht=!1,this.Jn({xl:this.xl,Ll:new $i,Lt:this.Lt,ql:!1},!1)):{Wl:[]}},Ql.prototype.Kl=function(t){return!this.Fl.has(t)&&!!this.xl.has(t)&&!this.xl.get(t).Ge},Ql.prototype.Ul=function(t){var e=this;t&&(t.Yt.forEach(function(t){return e.Fl=e.Fl.add(t)}),t.Jt.forEach(function(t){}),t.Xt.forEach(function(t){return e.Fl=e.Fl.delete(t)}),this.Ht=t.Ht)},Ql.prototype.Ql=function(){var e=this;if(!this.Ht)return[];var n=this.$l;this.$l=Hi(),this.xl.forEach(function(t){e.Kl(t.key)&&(e.$l=e.$l.add(t.key))});var r=[];return n.forEach(function(t){e.$l.has(t)||r.push(new bl(t))}),this.$l.forEach(function(t){n.has(t)||r.push(new wl(t))}),r},Ql.prototype.Gl=function(t){this.Fl=t.Yh,this.$l=Hi();var e=this.Ol(t.documents);return this.Jn(e,!0)},Ql.prototype.zl=function(){return Zi.Ut(this.query,this.xl,this.Lt,0===this.Nl)},Ql),Ll=(Kl.prototype.run=function(){this.Yl()},Kl.prototype.Yl=function(){var t=this;this.xo.xs(function(){return y(t,void 0,void 0,function(){var e,n,r=this;return v(this,function(t){return e=new nl(this.Fu),(n=this.Jl(e))&&n.then(function(t){r.Ro.lr(function(){return e.commit().then(function(){r.yo.resolve(t)}).catch(function(t){r.Xl(t)})})}).catch(function(t){r.Xl(t)}),[2]})})})},Kl.prototype.Jl=function(t){try{var e=this.updateFunction(t);return!ci(e)&&e.catch&&e.then?e:(this.yo.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.yo.reject(t),null}},Kl.prototype.Xl=function(t){var e=this;0<this.Hl&&this.Zl(t)?(--this.Hl,this.Ro.lr(function(){return e.Yl(),Promise.resolve()})):this.yo.reject(t)},Kl.prototype.Zl=function(t){if("FirebaseError"!==t.name)return!1;var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ni(e)},Kl),Cl=(Object.defineProperty(Xl.prototype,"d_",{get:function(){return!0},enumerable:!1,configurable:!0}),Xl.prototype.subscribe=function(t){this.i_=t},Xl.prototype.listen=function(s){return y(this,void 0,void 0,function(){var e,n,r,i,o;return v(this,function(t){switch(t.label){case 0:return this.w_("listen()"),(r=this.r_.get(s))?(e=r.targetId,this.n_.ll(e),n=r.view.zl(),[3,4]):[3,1];case 1:return[4,this.Yu.Gh(s.We())];case 2:return i=t.sent(),o=this.n_.ll(i.targetId),e=i.targetId,[4,this.T_(s,e,"current"===o)];case 3:n=t.sent(),this.d_&&this.e_.listen(i),t.label=4;case 4:return[2,n]}})})},Xl.prototype.T_=function(u,a,h){return y(this,void 0,void 0,function(){var e,n,r,i,o,s;return v(this,function(t){switch(t.label){case 0:return[4,this.Yu.Hh(u,!0)];case 1:return e=t.sent(),n=new kl(u,e.Yh),r=n.Ol(e.documents),i=eo.zt(a,h&&"Offline"!==this.onlineState),o=n.Jn(r,this.d_,i),this.E_(a,o.Wl),s=new Il(u,a,n),[2,(this.r_.set(u,s),this.o_.has(a)?this.o_.get(a).push(u):this.o_.set(a,[u]),o.snapshot)]}})})},Xl.prototype.Rc=function(i){return y(this,void 0,void 0,function(){var e,n,r=this;return v(this,function(t){switch(t.label){case 0:return this.w_("unlisten()"),e=this.r_.get(i),1<(n=this.o_.get(e.targetId)).length?[2,(this.o_.set(e.targetId,n.filter(function(t){return!vu(t,i)})),void this.r_.delete(i))]:this.d_?(this.n_.fl(e.targetId),this.n_.ol(e.targetId)?[3,2]:[4,this.Yu.zh(e.targetId,!1).then(function(){r.n_.wl(e.targetId),r.e_.Rc(e.targetId),r.I_(e.targetId)}).catch(pc)]):[3,3];case 1:t.sent(),t.label=2;case 2:return[3,5];case 3:return this.I_(e.targetId),[4,this.Yu.zh(e.targetId,!0)];case 4:t.sent(),t.label=5;case 5:return[2]}})})},Xl.prototype.write=function(i,o){return y(this,void 0,void 0,function(){var e,n,r;return v(this,function(t){switch(t.label){case 0:this.w_("write()"),t.label=1;case 1:return t.trys.push([1,5,,6]),[4,this.Yu.Mh(i)];case 2:return e=t.sent(),this.n_.hl(e.batchId),this.m_(e.batchId,o),[4,this.A_(e.Un)];case 3:return t.sent(),[4,this.e_.Ec()];case 4:return t.sent(),[3,6];case 5:return n=t.sent(),r=Jh(n,"Failed to persist write"),o.reject(r),[3,6];case 6:return[2]}})})},Xl.prototype.runTransaction=function(t,e,n){new Ll(t,this.Fu,e,n).run()},Xl.prototype.qh=function(n){return y(this,void 0,void 0,function(){var e,r=this;return v(this,function(t){switch(t.label){case 0:this.w_("applyRemoteEvent()"),t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.Yu.qh(n)];case 2:return e=t.sent(),n.Qt.forEach(function(t,e){var n=r.u_.get(e);n&&(Dr(t.Yt.size+t.Jt.size+t.Xt.size<=1),0<t.Yt.size?n.t_=!0:0<t.Jt.size?Dr(n.t_):0<t.Xt.size&&(Dr(n.t_),n.t_=!1))}),[4,this.A_(e,n)];case 3:return t.sent(),[3,6];case 4:return[4,pc(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}})})},Xl.prototype.jl=function(r,t){this.w_("applyOnlineStateChange()");var i=[];this.r_.forEach(function(t,e){var n=e.view.jl(r);n.snapshot&&i.push(n.snapshot)}),this.i_.R_(r),this.i_.mu(i),this.onlineState=r},Xl.prototype.vc=function(u,a){return y(this,void 0,void 0,function(){var e,n,r,i,o,s=this;return v(this,function(t){switch(t.label){case 0:return this.w_("rejectListens()"),this.n_.Tl(u,"rejected",a),e=this.u_.get(u),(n=e&&e.key)?(r=(r=new xi(ei.P)).nt(n,new hu(n,Qr.min())),i=Hi().add(n),o=new to(Qr.min(),new Map,new Li(Lr),r,i),[4,this.qh(o)]):[3,2];case 1:return t.sent(),this.a_=this.a_.remove(n),this.u_.delete(u),this.P_(),[3,4];case 2:return[4,this.Yu.zh(u,!1).then(function(){return s.I_(u,a)}).catch(pc)];case 3:t.sent(),t.label=4;case 4:return[2]}})})},Xl.prototype.$c=function(r){return y(this,void 0,void 0,function(){var e,n;return v(this,function(t){switch(t.label){case 0:this.w_("applySuccessfulWrite()"),e=r.batch.batchId,t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.Yu.Oh(r)];case 2:return n=t.sent(),this.V_(e,null),this.g_(e),this.n_.ul(e,"acknowledged"),[4,this.A_(n)];case 3:return t.sent(),[3,6];case 4:return[4,pc(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}})})},Xl.prototype.xc=function(n,r){return y(this,void 0,void 0,function(){var e;return v(this,function(t){switch(t.label){case 0:this.w_("rejectFailedWrite()"),t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.Yu.Bh(n)];case 2:return e=t.sent(),this.V_(n,r),this.g_(n),this.n_.ul(n,"rejected",r),[4,this.A_(e)];case 3:return t.sent(),[3,6];case 4:return[4,pc(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}})})},Xl.prototype.y_=function(o){return y(this,void 0,void 0,function(){var e,n,r,i;return v(this,function(t){switch(t.label){case 0:this.e_.sc()||Nr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.Yu.no()];case 2:return-1===(e=t.sent())?[2,void o.resolve()]:((n=this.__.get(e)||[]).push(o),this.__.set(e,n),[3,4]);case 3:return r=t.sent(),i=Jh(r,"Initialization of waitForPendingWrites() operation failed"),o.reject(i),[3,4];case 4:return[2]}})})},Xl.prototype.g_=function(t){(this.__.get(t)||[]).forEach(function(t){t.resolve()}),this.__.delete(t)},Xl.prototype.p_=function(e){this.__.forEach(function(t){t.forEach(function(t){t.reject(new Xr(Yr.CANCELLED,e))})}),this.__.clear()},Xl.prototype.m_=function(t,e){var n=this.l_[this.currentUser.Ma()];n=(n=n||new xi(Lr)).nt(t,e),this.l_[this.currentUser.Ma()]=n},Xl.prototype.V_=function(t,e){var n=this.l_[this.currentUser.Ma()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.l_[this.currentUser.Ma()]=n}},Xl.prototype.I_=function(t,e){var n=this;void 0===e&&(e=null),this.n_.fl(t);for(var r=0,i=this.o_.get(t);r<i.length;r++){var o=i[r];this.r_.delete(o),e&&this.i_.b_(o,e)}this.o_.delete(t),this.d_&&this.c_.aa(t).forEach(function(t){n.c_.Mi(t)||n.v_(t)})},Xl.prototype.v_=function(t){var e=this.a_.get(t);null!==e&&(this.e_.Rc(e),this.a_=this.a_.remove(t),this.u_.delete(e),this.P_())},Xl.prototype.E_=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof wl?(this.c_.Fi(i.key,t),this.S_(i)):i instanceof bl?(Nr("SyncEngine","Document no longer in limbo: "+i.key),this.c_.$i(i.key,t),this.c_.Mi(i.key)||this.v_(i.key)):Sr()}},Xl.prototype.S_=function(t){var e=t.key;this.a_.get(e)||(Nr("SyncEngine","New document in limbo: "+e),this.h_.push(e),this.P_())},Xl.prototype.P_=function(){for(;0<this.h_.length&&this.a_.size<this.s_;){var t=this.h_.shift(),e=this.f_.next();this.u_.set(e,new El(t)),this.a_=this.a_.nt(t,e),this.e_.listen(new _i(fu.hn(t.path).We(),e,2,Zu.ps))}},Xl.prototype.D_=function(){return this.a_},Xl.prototype.C_=function(){return this.h_},Xl.prototype.A_=function(r,a){return y(this,void 0,void 0,function(){var o,s,e,u=this;return v(this,function(t){switch(t.label){case 0:return o=[],s=[],e=[],this.r_.forEach(function(t,i){e.push(Promise.resolve().then(function(){var n=i.view.Ol(r);return n.ql?u.Yu.Hh(i.query,!1).then(function(t){var e=t.documents;return i.view.Ol(e,n)}):n}).then(function(t){var e=a&&a.Qt.get(i.targetId),n=i.view.Jn(t,u.d_,e);if(u.E_(i.targetId,n.Wl),n.snapshot){u.d_&&u.n_.Tl(i.targetId,n.snapshot.fromCache?"not-current":"current"),o.push(n.snapshot);var r=$u.Rs(i.targetId,n.snapshot);s.push(r)}}))}),[4,Promise.all(e)];case 1:return t.sent(),this.i_.mu(o),[4,this.Yu.Wh(s)];case 2:return t.sent(),[2]}})})},Xl.prototype.w_=function(t){},Xl.prototype.Oc=function(n){return y(this,void 0,void 0,function(){var e;return v(this,function(t){switch(t.label){case 0:return this.currentUser.isEqual(n)?[3,3]:(Nr("SyncEngine","User change. New user:",n.Ma()),[4,this.Yu.Nh(n)]);case 1:return e=t.sent(),this.currentUser=n,this.p_("'waitForPendingWrites' promise is rejected due to a user change."),this.n_.Nh(n,e.kh,e.xh),[4,this.A_(e.$h)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},Xl.prototype.enableNetwork=function(){return this.e_.enableNetwork()},Xl.prototype.disableNetwork=function(){return this.e_.disableNetwork()},Xl.prototype.xe=function(t){var e=this.u_.get(t);if(e&&e.t_)return Hi().add(e.key);var n=Hi(),r=this.o_.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=o[i],u=this.r_.get(s);n=n.Ct(u.view.Ml)}return n},Xl),Vl=(n(Yl,Tl=Cl),Object.defineProperty(Yl.prototype,"d_",{get:function(){return!0===this.F_},enumerable:!1,configurable:!0}),Yl.prototype.enableNetwork=function(){return this.Yu.cr(!0),Tl.prototype.enableNetwork.call(this)},Yl.prototype.disableNetwork=function(){return this.Yu.cr(!1),Tl.prototype.disableNetwork.call(this)},Yl.prototype.N_=function(r){return y(this,void 0,void 0,function(){var e,n;return v(this,function(t){switch(t.label){case 0:return[4,this.Yu.Hh(r.query,!0)];case 1:return e=t.sent(),n=r.view.Gl(e),[2,(this.F_&&this.E_(r.targetId,n.Wl),n)]}})})},Yl.prototype.jl=function(t,e){this.d_&&0===e&&(Tl.prototype.jl.call(this,t,e),this.n_.Il(t)),this.d_||1!==e||Tl.prototype.jl.call(this,t,e)},Yl.prototype.bl=function(n,r,i){return y(this,void 0,void 0,function(){var e;return v(this,function(t){switch(t.label){case 0:return this.w_("applyBatchState()"),[4,this.Yu.Xh(n)];case 1:return null===(e=t.sent())?[3,6]:"pending"!==r?[3,3]:[4,this.e_.Ec()];case 2:return t.sent(),[3,4];case 3:"acknowledged"===r||"rejected"===r?(this.V_(n,i||null),this.Yu.Zh(n)):Sr(),t.label=4;case 4:return[4,this.A_(e)];case 5:return t.sent(),[3,7];case 6:Nr("SyncEngine","Cannot apply mutation batch with id: "+n),t.label=7;case 7:return[2]}})})},Yl.prototype.Lc=function(h){return y(this,void 0,void 0,function(){var e,n,r,i,o,s,u,a=this;return v(this,function(t){switch(t.label){case 0:return!0!==h||!0===this.F_?[3,3]:(e=this.n_.il(),[4,this.k_(e.F(),!0)]);case 1:return n=t.sent(),this.F_=!0,[4,this.e_.Lc(!0)];case 2:for(t.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.e_.listen(o);return[3,7];case 3:return!1!==h||!1===this.F_?[3,7]:(s=[],u=Promise.resolve(),this.o_.forEach(function(t,e){a.n_.dl(e)?s.push(e):u=u.then(function(){return a.I_(e),a.Yu.zh(e,!0)}),a.e_.Rc(e)}),[4,u]);case 4:return t.sent(),[4,this.k_(s,!1)];case 5:return t.sent(),this.x_(),this.F_=!1,[4,this.e_.Lc(!1)];case 6:t.sent(),t.label=7;case 7:return[2]}})})},Yl.prototype.x_=function(){var n=this;this.u_.forEach(function(t,e){n.e_.Rc(e)}),this.c_.ua(),this.u_=new Map,this.a_=new xi(ei.P)},Yl.prototype.k_=function(d,t){return y(this,void 0,void 0,function(){var e,n,r,i,o,s,u,a,h,c,f,l,p;return v(this,function(t){switch(t.label){case 0:e=[],n=[],r=0,i=d,t.label=1;case 1:return r<i.length?(o=i[r],s=void 0,(u=this.o_.get(o))&&0!==u.length?[4,this.Yu.Gh(u[0].We())]:[3,7]):[3,13];case 2:s=t.sent(),a=0,h=u,t.label=3;case 3:return a<h.length?(c=h[a],f=this.r_.get(c),[4,this.N_(f)]):[3,6];case 4:(l=t.sent()).snapshot&&n.push(l.snapshot),t.label=5;case 5:return a++,[3,3];case 6:return[3,11];case 7:return[4,this.Yu.ta(o)];case 8:return p=t.sent(),[4,this.Yu.Gh(p)];case 9:return s=t.sent(),[4,this.T_(this.M_(p),o,!1)];case 10:t.sent(),t.label=11;case 11:e.push(s),t.label=12;case 12:return r++,[3,1];case 13:return[2,(this.i_.mu(n),e)]}})})},Yl.prototype.M_=function(t){return new fu(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},Yl.prototype.Dr=function(){return this.Yu.Dr()},Yl.prototype.vl=function(r,i,o){return y(this,void 0,void 0,function(){var e,n;return v(this,function(t){switch(t.label){case 0:return this.F_?(Nr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.o_.has(r))return[3,8];switch(i){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.Yu.si()];case 3:return e=t.sent(),n=to.Gt(r,"current"===i),[4,this.A_(e,n)];case 4:return t.sent(),[3,8];case 5:return[4,this.Yu.zh(r,!0)];case 6:return t.sent(),this.I_(r,o),[3,8];case 7:Sr(),t.label=8;case 8:return[2]}})})},Yl.prototype.Sl=function(l,p){return y(this,void 0,void 0,function(){var e,n,r,i,o,s,u,a,h,c,f=this;return v(this,function(t){switch(t.label){case 0:if(!this.F_)return[3,10];e=0,n=l,t.label=1;case 1:return e<n.length?(r=n[e],this.o_.has(r)?(Nr("SyncEngine","Adding an already active target "+r),[3,5]):[4,this.Yu.ta(r)]):[3,6];case 2:return i=t.sent(),[4,this.Yu.Gh(i)];case 3:return o=t.sent(),[4,this.T_(this.M_(i),o.targetId,!1)];case 4:t.sent(),this.e_.listen(o),t.label=5;case 5:return e++,[3,1];case 6:s=function(e){return v(this,function(t){switch(t.label){case 0:return u.o_.has(e)?[4,u.Yu.zh(e,!1).then(function(){f.e_.Rc(e),f.I_(e)}).catch(pc)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})},u=this,a=0,h=p,t.label=7;case 7:return a<h.length?(c=h[a],[5,s(c)]):[3,10];case 8:t.sent(),t.label=9;case 9:return a++,[3,7];case 10:return[2]}})})},Yl),Ul=(Wl.prototype.listen=function(u){return y(this,void 0,void 0,function(){var e,n,r,i,o,s;return v(this,function(t){switch(t.label){case 0:if(e=u.query,n=!1,(r=this.L_.get(e))||(n=!0,r=new _l),!n)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),i=r,[4,this.Vc.listen(e)];case 2:return i.O_=t.sent(),[3,4];case 3:return o=t.sent(),s=Jh(o,"Initialization of query '"+mu(u.query)+"' failed"),[2,void u.onError(s)];case 4:return this.L_.set(e,r),r.listeners.push(u),u.jl(this.onlineState),r.O_&&u.q_(r.O_)&&this.U_(),[2]}})})},Wl.prototype.Rc=function(o){return y(this,void 0,void 0,function(){var e,n,r,i;return v(this,function(t){return e=o.query,n=!1,(r=this.L_.get(e))&&0<=(i=r.listeners.indexOf(o))&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?[2,(this.L_.delete(e),this.Vc.Rc(e))]:[2]})})},Wl.prototype.mu=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,s=this.L_.get(o);if(s){for(var u=0,a=s.listeners;u<a.length;u++)a[u].q_(i)&&(e=!0);s.O_=i}}e&&this.U_()},Wl.prototype.b_=function(t,e){var n=this.L_.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.L_.delete(t)},Wl.prototype.R_=function(i){this.onlineState=i;var o=!1;this.L_.forEach(function(t,e){for(var n=0,r=e.listeners;n<r.length;n++)r[n].jl(i)&&(o=!0)}),o&&this.U_()},Wl.prototype.Q_=function(t){this.B_.add(t),t.next()},Wl.prototype.W_=function(t){this.B_.delete(t)},Wl.prototype.U_=function(){this.B_.forEach(function(t){t.next()})},Wl),jl=(Hl.prototype.q_=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Zi(t.query,t.docs,t.Ot,e,t.Lt,t.fromCache,t.Bt,!0)}var o=!1;return this.K_?this.z_(t)&&(this.j_.next(t),o=!0):this.H_(t,this.onlineState)&&(this.Y_(t),o=!0),this.G_=t,o},Hl.prototype.onError=function(t){this.j_.error(t)},Hl.prototype.jl=function(t){this.onlineState=t;var e=!1;return this.G_&&!this.K_&&this.H_(this.G_,t)&&(this.Y_(this.G_),e=!0),e},Hl.prototype.H_=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.J_&&n||t.docs._()&&"Offline"!==e)},Hl.prototype.z_=function(t){if(0<t.docChanges.length)return!0;var e=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.Bt&&!e)&&!0===this.options.includeMetadataChanges},Hl.prototype.Y_=function(t){t=Zi.Ut(t.query,t.docs,t.Lt,t.fromCache),this.K_=!0,this.j_.next(t)},Hl),Ml=(zl.prototype.Fh=function(t){this.X_=t},zl.prototype._s=function(e,r,i,o){var s=this;return r.En()||i.isEqual(Qr.min())?this.Z_(e,r):this.X_.us(e,o).next(function(t){var n=s.tf(r,t);return(r.In()||r.mn())&&s.ql(r.nn,n,o,i)?s.Z_(e,r):(Tr()<=p.DEBUG&&Nr("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mu(r)),s.X_._s(e,r,i).next(function(e){return n.forEach(function(t){e=e.nt(t.key,t)}),e}))})},zl.prototype.tf=function(n,t){var r=new Li(bu(n));return t.forEach(function(t,e){e instanceof au&&wu(n,e)&&(r=r.add(e))}),r},zl.prototype.ql=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||0<i.version.o(r))},zl.prototype.Z_=function(t,e){return Tr()<=p.DEBUG&&Nr("IndexFreeQueryEngine","Using full collection scan to execute query:",mu(e)),this.X_._s(t,e,Qr.min())},zl),Fl=(Gl.prototype.Jr=function(t){return Yu.resolve(0===this.ns.length)},Gl.prototype.Xr=function(t,e,n,r){var i=this.ef;this.ef++,0<this.ns.length&&this.ns[this.ns.length-1];var o=new Hu(i,e,n,r);this.ns.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.nf=this.nf.add(new yc(a.key,i)),this.ss.Us(t,a.key.path.p())}return Yu.resolve(o)},Gl.prototype.Zr=function(t,e){return Yu.resolve(this.sf(e))},Gl.prototype.eo=function(t,e){var n=e+1,r=this.if(n),i=r<0?0:r;return Yu.resolve(this.ns.length>i?this.ns[i]:null)},Gl.prototype.no=function(){return Yu.resolve(0===this.ns.length?-1:this.ef-1)},Gl.prototype.so=function(t){return Yu.resolve(this.ns.slice())},Gl.prototype.os=function(t,e){var n=this,r=new yc(e,0),i=new yc(e,Number.POSITIVE_INFINITY),o=[];return this.nf.vt([r,i],function(t){var e=n.sf(t.la);o.push(e)}),Yu.resolve(o)},Gl.prototype.ls=function(t,e){var r=this,i=new Li(Lr);return e.forEach(function(t){var e=new yc(t,0),n=new yc(t,Number.POSITIVE_INFINITY);r.nf.vt([e,n],function(t){i=i.add(t.la)})}),Yu.resolve(this.rf(i))},Gl.prototype.Es=function(t,e){var n=e.path,r=n.length+1,i=n;ei.W(i)||(i=i.child(""));var o=new yc(new ei(i),0),s=new Li(Lr);return this.nf.St(function(t){var e=t.key.path;return!!n.D(e)&&(e.length===r&&(s=s.add(t.la)),!0)},o),Yu.resolve(this.rf(s))},Gl.prototype.rf=function(t){var n=this,r=[];return t.forEach(function(t){var e=n.sf(t);null!==e&&r.push(e)}),r},Gl.prototype.ro=function(n,r){var i=this;Dr(0===this.hf(r.batchId,"removed")),this.ns.shift();var o=this.nf;return Yu.forEach(r.mutations,function(t){var e=new yc(t.key,r.batchId);return o=o.delete(e),i.wi.Qr(n,t.key)}).next(function(){i.nf=o})},Gl.prototype.oo=function(t){},Gl.prototype.Mi=function(t,e){var n=new yc(e,0),r=this.nf.Dt(n);return Yu.resolve(e.isEqual(r&&r.key))},Gl.prototype.ho=function(t){return this.ns.length,Yu.resolve()},Gl.prototype.hf=function(t,e){return this.if(t)},Gl.prototype.if=function(t){return 0===this.ns.length?0:t-this.ns[0].batchId},Gl.prototype.sf=function(t){var e=this.if(t);return e<0||e>=this.ns.length?null:this.ns[e]},Gl),ql=(Bl.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.af(e);return this.docs=this.docs.nt(r,{Ys:e,size:s,readTime:n}),this.size+=s-o,this.ss.Us(t,r.path.p())},Bl.prototype.Gn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},Bl.prototype.zn=function(t,e){var n=this.docs.get(e);return Yu.resolve(n?n.Ys:null)},Bl.prototype.getEntries=function(t,e){var n=this,r=Fi();return e.forEach(function(t){var e=n.docs.get(t);r=r.nt(t,e?e.Ys:null)}),Yu.resolve(r)},Bl.prototype._s=function(t,e,n){for(var r=Bi(),i=new ei(e.path.child("")),o=this.docs.ut(i);o.wt();){var s=o.dt(),u=s.key,a=s.value,h=a.Ys,c=a.readTime;if(!e.path.D(u.path))break;c.o(n)<=0||h instanceof au&&wu(e,h)&&(r=r.nt(h.key,h))}return Yu.resolve(r)},Bl.prototype.uf=function(t,e){return Yu.forEach(this.docs,function(t){return e(t)})},Bl.prototype.oi=function(t){return new Bl.hi(this)},Bl.prototype.ui=function(t){return Yu.resolve(this.size)},Bl);function Bl(t,e){this.ss=t,this.af=e,this.docs=new xi(ei.P),this.size=0}function Gl(t,e){this.ss=t,this.wi=e,this.ns=[],this.ef=1,this.nf=new Li(yc.na)}function zl(){}function Hl(t,e,n){this.query=t,this.j_=e,this.K_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}function Wl(t){this.Vc=t,this.L_=new Wr(function(t){return gu(t)},vu),this.onlineState="Unknown",this.B_=new Set,this.Vc.subscribe(this)}function Yl(t,e,n,r,i,o){var s=this;return(s=Tl.call(this,t,e,n,r,i,o)||this).Yu=t,s.F_=void 0,s}function Xl(t,e,n,r,i,o){this.Yu=t,this.e_=e,this.Fu=n,this.n_=r,this.currentUser=i,this.s_=o,this.i_=null,this.r_=new Wr(function(t){return gu(t)},vu),this.o_=new Map,this.h_=[],this.a_=new xi(ei.P),this.u_=new Map,this.c_=new dc,this.l_={},this.__=new Map,this.f_=Fa.di(),this.onlineState="Unknown"}function Kl(t,e,n,r){this.Ro=t,this.Fu=e,this.updateFunction=n,this.yo=r,this.Hl=5,this.xo=new ha(this.Ro,"transaction_retry")}function Ql(t,e){this.query=t,this.Fl=e,this.Nl=null,this.Ht=!1,this.$l=Hi(),this.Lt=Hi(),this.kl=bu(t),this.xl=new Ji(this.kl)}function Jl(){this.Dl=new Pl,this.Cl={},this.Vc=null,this.qu=null,this.Ps=null}function $l(t,e,n,r,i){this.window=t,this.bs=e,this.persistenceKey=n,this.Wc=r,this.Vc=null,this.qu=null,this.Ps=null,this.jc=this.Kc.bind(this),this.Gc=new xi(Lr),this.hr=!1,this.zc=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Hc=vl(this.persistenceKey,this.Wc),this.Yc="firestore_sequence_number_"+this.persistenceKey,this.Gc=this.Gc.nt(this.Wc,new Pl),this.Jc=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Xc=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Zc=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.tl="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.jc)}function Zl(){this.activeTargetIds=Yi()}function tp(t,e){this.clientId=t,this.onlineState=e}function ep(t,e){this.clientId=t,this.activeTargetIds=e}function np(t,e,n){this.targetId=t,this.state=e,this.error=n}function rp(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}function ip(t){var e=this;return(e=Nl.call(this)||this).ci=t,e}ql.hi=(n(ip,Nl=Xu),ip.prototype.Jn=function(n){var r=this,i=[];return this.Un.forEach(function(t,e){e?i.push(r.ci.jn(n,e,r.readTime)):r.ci.Gn(t)}),Yu.Bn(i)},ip.prototype.Hn=function(t,e){return this.ci.zn(t,e)},ip.prototype.Yn=function(t,e){return this.ci.getEntries(t,e)},ip);var op,sp,up=(kp.prototype.pe=function(t,n){return this.cf.forEach(function(t,e){return n(e)}),Yu.resolve()},kp.prototype.mi=function(t){return Yu.resolve(this.lastRemoteSnapshotVersion)},kp.prototype.Ai=function(t){return Yu.resolve(this.lf)},kp.prototype.Ti=function(t){return this.highestTargetId=this.ff.next(),Yu.resolve(this.highestTargetId)},kp.prototype.Ri=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.lf&&(this.lf=e),Yu.resolve()},kp.prototype.Vi=function(t){this.cf.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ff=new Fa(e),this.highestTargetId=e),t.sequenceNumber>this.lf&&(this.lf=t.sequenceNumber)},kp.prototype.Pi=function(t,e){return this.Vi(e),this.targetCount+=1,Yu.resolve()},kp.prototype.yi=function(t,e){return this.Vi(e),Yu.resolve()},kp.prototype.pi=function(t,e){return this.cf.delete(e.target),this._f.aa(e.targetId),--this.targetCount,Yu.resolve()},kp.prototype.vi=function(n,r,i){var o=this,s=0,u=[];return this.cf.forEach(function(t,e){e.sequenceNumber<=r&&null===i.get(e.targetId)&&(o.cf.delete(t),u.push(o.bi(n,e.targetId)),s++)}),Yu.Bn(u).next(function(){return s})},kp.prototype.Si=function(t){return Yu.resolve(this.targetCount)},kp.prototype.Di=function(t,e){var n=this.cf.get(e)||null;return Yu.resolve(n)},kp.prototype.Ci=function(t,e,n){return this._f.ra(e,n),Yu.resolve()},kp.prototype.Ni=function(e,t,n){this._f.ha(t,n);var r=this.persistence.wi,i=[];return r&&t.forEach(function(t){i.push(r.Qr(e,t))}),Yu.Bn(i)},kp.prototype.bi=function(t,e){return this._f.aa(e),Yu.resolve()},kp.prototype.ki=function(t,e){var n=this._f.ca(e);return Yu.resolve(n)},kp.prototype.Mi=function(t,e){return Yu.resolve(this._f.Mi(e))},kp),ap=(Op.prototype.start=function(){return Promise.resolve()},Op.prototype.yr=function(){return this.Qi=!1,Promise.resolve()},Object.defineProperty(Op.prototype,"hr",{get:function(){return this.Qi},enumerable:!1,configurable:!0}),Op.prototype.ar=function(){},Op.prototype.kr=function(){return this.ss},Op.prototype.Cr=function(t){var e=this.df[t.Ma()];return e||(e=new Fl(this.ss,this.wi),this.df[t.Ma()]=e),e},Op.prototype.Nr=function(){return this.Xi},Op.prototype.$r=function(){return this.es},Op.prototype.runTransaction=function(t,e,n){var r=this;Nr("MemoryPersistence","Starting transaction:",t);var i=new hp(this.Ui.next());return this.wi.Tf(),n(i).next(function(t){return r.wi.Ef(i).next(function(){return t})}).On().then(function(t){return i.ts(),t})},Op.prototype.If=function(e,n){return Yu.qn(Object.values(this.df).map(function(t){return function(){return t.Mi(e,n)}}))},Op),hp=(n(Rp,sp=Qu),Rp),cp=(Pp.Rf=function(t){return new Pp(t)},Object.defineProperty(Pp.prototype,"Pf",{get:function(){if(this.Af)return this.Af;throw Sr()},enumerable:!1,configurable:!0}),Pp.prototype.Fi=function(t,e,n){return this.mf.Fi(n,e),this.Pf.delete(n),Yu.resolve()},Pp.prototype.$i=function(t,e,n){return this.mf.$i(n,e),this.Pf.add(n),Yu.resolve()},Pp.prototype.Qr=function(t,e){return this.Pf.add(e),Yu.resolve()},Pp.prototype.removeTarget=function(t,e){var n=this;this.mf.aa(e.targetId).forEach(function(t){return n.Pf.add(t)});var r=this.persistence.Nr();return r.ki(t,e.targetId).next(function(t){t.forEach(function(t){return n.Pf.add(t)})}).next(function(){return r.pi(t,e)})},Pp.prototype.Tf=function(){this.Af=new Set},Pp.prototype.Ef=function(t){var n=this,r=this.persistence.$r().oi();return Yu.forEach(this.Pf,function(e){return n.Vf(t,e).next(function(t){t||r.Gn(e)})}).next(function(){return n.Af=null,r.apply(t)})},Pp.prototype.Gr=function(t,e){var n=this;return this.Vf(t,e).next(function(t){t?n.Pf.delete(e):n.Pf.add(e)})},Pp.prototype.wf=function(t){return 0},Pp.prototype.Vf=function(t,e){var n=this;return Yu.qn([function(){return Yu.resolve(n.mf.Mi(e))},function(){return n.persistence.Nr().Mi(t,e)},function(){return n.persistence.If(t,e)}])},Pp),fp=(Dp.prototype.Eu=function(t){this.pf=t},Dp.prototype._u=function(t){this.bf=t},Dp.prototype.onMessage=function(t){this.vf=t},Dp.prototype.close=function(){this.yf()},Dp.prototype.send=function(t){this.gf(t)},Dp.prototype.Sf=function(){this.pf()},Dp.prototype.Df=function(t){this.bf(t)},Dp.prototype.Cf=function(t){this.vf(t)},Dp),lp={BatchGetDocuments:"batchGet",Commit:"commit"},pp="gl-js/ fire/"+Er,dp=(Sp.prototype.Nf=function(t,e){if(e)for(var n in e.Ba)e.Ba.hasOwnProperty(n)&&(t[n]=e.Ba[n]);t["X-Goog-Api-Client"]=pp},Sp.prototype.Du=function(a,r,i){var h=this,c=this.$f(a);return new Promise(function(o,s){var u=new wr;u.listenOnce(gr.COMPLETE,function(){try{switch(u.getLastErrorCode()){case vr.NO_ERROR:var t=u.getResponseJson();Nr("Connection","XHR received:",JSON.stringify(t)),o(t);break;case vr.TIMEOUT:Nr("Connection",'RPC "'+a+'" timed out'),s(new Xr(Yr.DEADLINE_EXCEEDED,"Request time out"));break;case vr.HTTP_ERROR:var e=u.getStatus();if(Nr("Connection",'RPC "'+a+'" failed with status:',e,"response text:",u.getResponseText()),0<e){var n=u.getResponseJson().error;if(n&&n.status&&n.message){var r=(i=n.status.toLowerCase().replace("_","-"),0<=Object.values(Yr).indexOf(i)?i:Yr.UNKNOWN);s(new Xr(r,n.message))}else s(new Xr(Yr.UNKNOWN,"Server responded with status "+u.getStatus()))}else Nr("Connection",'RPC "'+a+'" failed'),s(new Xr(Yr.UNAVAILABLE,"Connection failed."));break;default:Sr()}}finally{Nr("Connection",'RPC "'+a+'" completed.')}var i});var t=Object.assign({},r);delete t.database;var e=JSON.stringify(t);Nr("Connection","XHR sending: ",c+" "+e);var n={"Content-Type":"text/plain"};h.Nf(n,i),u.send(c,"POST",e,n,15)})},Sp.prototype.Cu=function(t,e,n){return this.Du(t,e,n)},Sp.prototype.Iu=function(t,e){var n,r,i=[this.Ff,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=yr(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.Nf(s.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())||"object"==typeof navigator&&"ReactNative"===navigator.product||0<=g().indexOf("Electron/")||0<=(r=g()).indexOf("MSIE ")||0<=r.indexOf("Trident/")||0<=g().indexOf("MSAppHost/")||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(s.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");function a(t,e){h.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})}Nr("Connection","Creating WebChannel: "+u+" "+s);var h=o.createWebChannel(u,s),c=!1,f=!1,l=new fp({gf:function(t){f?Nr("Connection","Not sending because WebChannel is closed:",t):(c||(Nr("Connection","Opening WebChannel transport."),h.open(),c=!0),Nr("Connection","WebChannel sending:",t),h.send(t))},yf:function(){return h.close()}});return a(mr.EventType.OPEN,function(){f||Nr("Connection","WebChannel transport opened.")}),a(mr.EventType.CLOSE,function(){f||(f=!0,Nr("Connection","WebChannel transport closed"),l.Df())}),a(mr.EventType.ERROR,function(t){f||(f=!0,function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(_r.logLevel<=p.WARN){var r=e.map(xr);_r.warn.apply(_r,d(["Firestore ("+Er+"): Connection"],r))}}("Connection","WebChannel transport errored:",t),l.Df(new Xr(Yr.UNAVAILABLE,"The operation could not be completed")))}),a(mr.EventType.MESSAGE,function(t){var e;if(!f){var n=t.data[0];Dr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Nr("Connection","WebChannel received error:",r);var i=r.status,o=function(){var t=Ii[i];if(void 0!==t)return Ai(t)}(),s=r.message;void 0===o&&(o=Yr.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),f=!0,l.Df(new Xr(o,s)),h.close()}else Nr("Connection","WebChannel received:",n),l.Cf(n)}}),setTimeout(function(){l.Sf()},0),l},Sp.prototype.$f=function(t){var e=lp[t];return this.Ff+"/v1/projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents:"+e},Sp),yp=(xp.prototype.nc=function(t){this.Lf.push(t)},xp.prototype.yr=function(){window.removeEventListener("online",this.kf),window.removeEventListener("offline",this.Mf)},xp.prototype.Bf=function(){window.addEventListener("online",this.kf),window.addEventListener("offline",this.Mf)},xp.prototype.xf=function(){Nr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Lf;t<e.length;t++)(0,e[t])(0)},xp.prototype.Of=function(){Nr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Lf;t<e.length;t++)(0,e[t])(1)},xp.Hi=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},xp),vp=(Ap.prototype.nc=function(t){},Ap.prototype.yr=function(){},Ap),gp="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",mp=(Np.prototype.initialize=function(n){return y(this,void 0,void 0,function(){var e=this;return v(this,function(t){switch(t.label){case 0:return this.n_=this.qf(n),this.persistence=this.Uf(n),[4,this.persistence.start()];case 1:return t.sent(),this.Qf=this.Wf(n),this.Yu=this.jf(n),this.e_=this.Kf(n),this.Vc=this.Gf(n),this.zf=this.Hf(n),this.n_.qu=function(t){return e.Vc.jl(t,1)},this.e_.Vc=this.Vc,[4,this.Yu.start()];case 2:return t.sent(),[4,this.n_.start()];case 3:return t.sent(),[4,this.e_.start()];case 4:return t.sent(),[4,this.e_.Lc(this.Vc.d_)];case 5:return t.sent(),[2]}})})},Np.prototype.Hf=function(t){return new Ul(this.Vc)},Np.prototype.Wf=function(t){return null},Np.prototype.jf=function(t){return e=this.persistence,n=new Ml,r=t.Yf,new sc(e,n,r);var e,n,r},Np.prototype.Uf=function(t){if(t.Xf.Jf)throw new Xr(Yr.FAILED_PRECONDITION,gp);return new ap(cp.Rf)},Np.prototype.Kf=function(t){var e=this;return new il(this.Yu,t.Fu,t.Ro,function(t){return e.Vc.jl(t,0)},new(yp.Hi()?yp:vp))},Np.prototype.qf=function(t){return new Ol},Np.prototype.Gf=function(t){return e=this.Yu,n=this.e_,r=t.Fu,i=this.n_,o=t.Yf,s=t.s_,new Cl(e,n,r,i,o,s);var e,n,r,i,o,s},Np.prototype.clearPersistence=function(t){throw new Xr(Yr.FAILED_PRECONDITION,gp)},Np),wp=(n(Tp,op=mp),Tp.prototype.initialize=function(e){return y(this,void 0,void 0,function(){var n=this;return v(this,function(t){switch(t.label){case 0:return[4,op.prototype.initialize.call(this,e)];case 1:return t.sent(),[4,this.persistence.or(function(e){return y(n,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return[4,this.Vc.Lc(e)];case 1:return t.sent(),this.Qf&&(e&&!this.Qf.hr?this.Qf.start(this.Yu):e||this.Qf.stop()),[2]}})})})];case 2:return t.sent(),[2]}})})},Tp.prototype.jf=function(t){return e=this.persistence,n=new Ml,r=t.Yf,new fc(e,n,r);var e,n,r},Tp.prototype.Gf=function(t){var e,n,r,i,o,s,u=(e=this.Yu,n=this.e_,r=t.Fu,i=this.n_,o=t.Yf,s=t.s_,new Vl(e,n,r,i,o,s));return this.n_ instanceof Rl&&(this.n_.Vc=u),u},Tp.prototype.Wf=function(t){var e=this.persistence.wi.Or;return new ic(e,t.Ro)},Tp.prototype.Uf=function(t){var e=Qa.Mr(t.Zf),n=mf(t.Zf.s);return new Qa(t.Xf.synchronizeTabs,e,t.clientId,ec.ah(t.Xf.cacheSizeBytes),t.Ro,Wh(),"undefined"!=typeof document?document:null,n,this.n_,t.Xf.qi)},Tp.prototype.qf=function(t){if(t.Xf.Jf&&t.Xf.synchronizeTabs){var e=Wh();if(!Rl.Hi(e))throw new Xr(Yr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Qa.Mr(t.Zf);return new Rl(e,t.Ro,n,t.clientId,t.Yf)}return new Ol},Tp.prototype.clearPersistence=function(t){var e=Qa.Mr(t);return Qa.clearPersistence(e)},Tp),bp=(_p.prototype.start=function(t,e,n){var r=this;this.Su(),this.Zf=t;var i=new aa,o=new aa,s=!1;return this.credentials.Qa(function(t){if(!s)return s=!0,Nr("FirestoreClient","Initializing. user=",t.uid),r.td(e,n,t,o).then(i.resolve,i.reject);r.Ro.dr(function(){return r.e_.Oc(t)})}),this.Ro.lr(function(){return i.promise}),o.promise},_p.prototype.enableNetwork=function(){var t=this;return this.Su(),this.Ro.enqueue(function(){return t.Vc.enableNetwork()})},_p.prototype.td=function(h,c,f,l){return y(this,void 0,void 0,function(){var r,i,o,s,u,a=this;return v(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,(u=this.Zf,Promise.resolve(new dp(u)))];case 1:return r=t.sent(),i=mf(this.Zf.s),e=r,n=this.credentials,o=new el(e,n,i),[4,h.initialize({Ro:this.Ro,Zf:this.Zf,Fu:o,clientId:this.clientId,Yf:f,s_:100,Xf:c})];case 2:return t.sent(),this.persistence=h.persistence,this.n_=h.n_,this.Yu=h.Yu,this.e_=h.e_,this.Vc=h.Vc,this.Qf=h.Qf,this.ed=h.zf,this.persistence.ar(function(){return y(a,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}})})}),l.resolve(),[3,4];case 3:if(s=t.sent(),l.reject(s),!this.nd(s))throw s;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),this.td(new mp,{Jf:!1},f,l))];case 4:return[2]}var e,n})})},_p.prototype.nd=function(t){return"FirebaseError"===t.name?t.code===Yr.FAILED_PRECONDITION||t.code===Yr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},_p.prototype.Su=function(){if(this.Ro.Oo)throw new Xr(Yr.FAILED_PRECONDITION,"The client has already been terminated.")},_p.prototype.disableNetwork=function(){var t=this;return this.Su(),this.Ro.enqueue(function(){return t.Vc.disableNetwork()})},_p.prototype.terminate=function(){var t=this;return this.Ro.Qo(function(){return y(t,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return this.Qf&&this.Qf.stop(),[4,this.e_.yr()];case 1:return t.sent(),[4,this.n_.yr()];case 2:return t.sent(),[4,this.persistence.yr()];case 3:return t.sent(),this.credentials.Wa(),[2]}})})})},_p.prototype.waitForPendingWrites=function(){var t=this;this.Su();var e=new aa;return this.Ro.lr(function(){return t.Vc.y_(e)}),e.promise},_p.prototype.listen=function(t,e,n){var r=this;this.Su();var i=new jl(t,e,n);return this.Ro.lr(function(){return r.ed.listen(i)}),i},_p.prototype.Rc=function(t){var e=this;this.sd||this.Ro.lr(function(){return e.ed.Rc(t)})},_p.prototype.rd=function(o){return y(this,void 0,void 0,function(){var i,e=this;return v(this,function(t){switch(t.label){case 0:return this.Su(),i=new aa,[4,this.Ro.enqueue(function(){return y(e,void 0,void 0,function(){var e,n,r;return v(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.Yu.Kh(o)];case 1:return(e=t.sent())instanceof au?i.resolve(e):e instanceof hu?i.resolve(null):i.reject(new Xr(Yr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return n=t.sent(),r=Jh(n,"Failed to get document '"+o+" from cache"),i.reject(r),[3,3];case 3:return[2]}})})})];case 1:return[2,(t.sent(),i.promise)]}})})},_p.prototype.od=function(a){return y(this,void 0,void 0,function(){var u,e=this;return v(this,function(t){switch(t.label){case 0:return this.Su(),u=new aa,[4,this.Ro.enqueue(function(){return y(e,void 0,void 0,function(){var e,n,r,i,o,s;return v(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.Yu.Hh(a,!0)];case 1:return e=t.sent(),n=new kl(a,e.Yh),r=n.Ol(e.documents),i=n.Jn(r,!1),u.resolve(i.snapshot),[3,3];case 2:return o=t.sent(),s=Jh(o,"Failed to execute query '"+a+" against cache"),u.reject(s),[3,3];case 3:return[2]}})})})];case 1:return[2,(t.sent(),u.promise)]}})})},_p.prototype.write=function(t){var e=this;this.Su();var n=new aa;return this.Ro.lr(function(){return e.Vc.write(t,n)}),n.promise},_p.prototype.s=function(){return this.Zf.s},_p.prototype.Q_=function(t){var e=this;this.Su(),this.Ro.lr(function(){return e.ed.Q_(t),Promise.resolve()})},_p.prototype.W_=function(t){var e=this;this.sd||this.Ro.lr(function(){return e.ed.W_(t),Promise.resolve()})},Object.defineProperty(_p.prototype,"sd",{get:function(){return this.Ro.Oo},enumerable:!1,configurable:!0}),_p.prototype.transaction=function(t){var e=this;this.Su();var n=new aa;return this.Ro.lr(function(){return e.Vc.runTransaction(e.Ro,t,n),Promise.resolve()}),n.promise},_p),Ip=(Ep.prototype.next=function(t){this.hd(this.observer.next,t)},Ep.prototype.error=function(t){this.hd(this.observer.error,t)},Ep.prototype.ad=function(){this.muted=!0},Ep.prototype.hd=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},Ep);function Ep(t){this.observer=t,this.muted=!1}function _p(t,e){this.credentials=t,this.Ro=e,this.clientId=Or.t()}function Tp(){return null!==op&&op.apply(this,arguments)||this}function Np(){}function Ap(){}function xp(){var t=this;this.kf=function(){return t.xf()},this.Mf=function(){return t.Of()},this.Lf=[],this.Bf()}function Sp(t){this.s=t.s;var e=t.ssl?"https":"http";this.Ff=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}function Dp(t){this.gf=t.gf,this.yf=t.yf}function Pp(t){this.persistence=t,this.mf=new dc,this.Af=null}function Rp(t){var e=this;return(e=sp.call(this)||this).Li=t,e}function Op(t){var e=this;this.df={},this.Ui=new Zu(0),this.Qi=!1,this.Qi=!0,this.wi=t(this),this.Xi=new up(this),this.ss=new ya,this.es=new ql(this.ss,function(t){return e.wi.wf(t)})}function kp(t){this.persistence=t,this.cf=new Wr(function(t){return yi(t)},vi),this.lastRemoteSnapshotVersion=Qr.min(),this.highestTargetId=0,this.lf=0,this._f=new dc,this.targetCount=0,this.ff=Fa.fi()}function Lp(i){return function(){if("object"==typeof i&&null!==i)for(var t=i,e=0,n=["next","error","complete"];e<n.length;e++){var r=n[e];if(r in t&&"function"==typeof t[r])return 1}}()}var Cp=(qp.prototype._d=function(t){switch(go(t)){case 0:return null;case 1:return t.booleanValue;case 2:return To(t.integerValue||t.doubleValue);case 3:return this.fd(t.timestampValue);case 4:return this.dd(t);case 5:return t.stringValue;case 6:return new qc(No(t.bytesValue));case 7:return this.wd(t.referenceValue);case 8:return this.Td(t.geoPointValue);case 9:return this.Ed(t.arrayValue);case 10:return this.Id(t.mapValue);default:throw Sr()}},qp.prototype.Id=function(t){var n=this,r={};return qr(t.fields||{},function(t,e){r[t]=n._d(e)}),r},qp.prototype.Td=function(t){return new cf(To(t.latitude),To(t.longitude))},qp.prototype.Ed=function(t){var e=this;return(t.values||[]).map(function(t){return e._d(t)})},qp.prototype.dd=function(t){switch(this.ud){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return po(n)?t(n):n}(t);return null==e?null:this._d(e);case"estimate":return this.fd(yo(t));default:return null}},qp.prototype.fd=function(t){var e=_o(t),n=new Kr(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},qp.prototype.wd=function(t){var e=$r.$(t);Dr(is(e));var n=new jr(e.get(1),e.get(3)),r=new ei(e.g(5));return n.isEqual(this.s)||Ar("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.ld(r)},qp),Vp=ec._h,Up=(Fp.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},Fp),jp=(Object.defineProperty(Mp.prototype,"vd",{get:function(){return this.Sd||(this.Sd=new xf(this.ya,this.bd.ignoreUndefinedProperties)),this.Sd},enumerable:!1,configurable:!0}),Mp.prototype.settings=function(t){wc("Firestore.settings",arguments,1),Ec("Firestore.settings","object",1,t);var e=new Up(t);if(this.Pd&&!this.bd.isEqual(e))throw new Xr(Yr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");void 0!==(this.bd=e).credentials&&(this.yd=function(t){if(!t)return new Xf;switch(t.type){case"gapi":var e=t.Dd;return Dr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Jf(e,t.Ya||"0");case"provider":return t.Dd;default:throw new Xr(Yr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},Mp.prototype.enableNetwork=function(){return this.Rd(),this.Pd.enableNetwork()},Mp.prototype.disableNetwork=function(){return this.Rd(),this.Pd.disableNetwork()},Mp.prototype.enablePersistence=function(t){var e,n;if(this.Pd)throw new Xr(Yr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&Ar("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new Xr(Yr.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Cd(this.pd,{Jf:!0,cacheSizeBytes:this.bd.cacheSizeBytes,synchronizeTabs:r,qi:i})},Mp.prototype.clearPersistence=function(){return y(this,void 0,void 0,function(){var r,e=this;return v(this,function(t){if(void 0!==this.Pd&&!this.Pd.sd)throw new Xr(Yr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return r=new aa,[2,(this.Ad.Lo(function(){return y(e,void 0,void 0,function(){var e,n;return v(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),e=this.Fd(),[4,this.pd.clearPersistence(e)];case 1:return t.sent(),r.resolve(),[3,3];case 2:return n=t.sent(),r.reject(n),[3,3];case 3:return[2]}})})}),r.promise)]})})},Mp.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(Mp.prototype,"Nd",{get:function(){return this.Rd(),this.Pd.sd},enumerable:!1,configurable:!0}),Mp.prototype.waitForPendingWrites=function(){return this.Rd(),this.Pd.waitForPendingWrites()},Mp.prototype.onSnapshotsInSync=function(t){if(this.Rd(),Lp(t))return Bp(this.Pd,t);Ec("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return Bp(this.Pd,e)},Mp.prototype.Rd=function(){return this.Pd||this.Cd(new mp,{Jf:!1}),this.Pd},Mp.prototype.Fd=function(){return new Ur(this.ya,this.gd,this.bd.host,this.bd.ssl,this.bd.forceLongPolling)},Mp.prototype.Cd=function(t,e){var n=this.Fd();return this.Pd=new bp(this.yd,this.Ad),this.Pd.start(n,t,e)},Mp.Vd=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new Xr(Yr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;if(!n||"string"!=typeof n)throw new Xr(Yr.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new jr(n)},Object.defineProperty(Mp.prototype,"app",{get:function(){if(!this.md)throw new Xr(Yr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),Mp.prototype.collection=function(t){return wc("Firestore.collection",arguments,1),Ec("Firestore.collection","non-empty string",1,t),this.Rd(),new ld($r.$(t),this,null)},Mp.prototype.doc=function(t){return wc("Firestore.doc",arguments,1),Ec("Firestore.doc","non-empty string",1,t),this.Rd(),Wp.$d($r.$(t),this,null)},Mp.prototype.collectionGroup=function(t){if(wc("Firestore.collectionGroup",arguments,1),Ec("Firestore.collectionGroup","non-empty string",1,t),0<=t.indexOf("/"))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.Rd(),new sd(new fu($r.k(),t),this,null)},Mp.prototype.runTransaction=function(e){var n=this;return wc("Firestore.runTransaction",arguments,1),Ec("Firestore.runTransaction","function",1,e),this.Rd().transaction(function(t){return e(new zp(n,t))})},Mp.prototype.batch=function(){return this.Rd(),new Hp(this)},Object.defineProperty(Mp,"logLevel",{get:function(){switch(Tr()){case p.DEBUG:return"debug";case p.ERROR:return"error";case p.SILENT:return"silent";case p.WARN:return"warn";case p.INFO:return"info";case p.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),Mp.setLogLevel=function(t){wc("Firestore.setLogLevel",arguments,1),xc("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),_r.setLogLevel(t)},Mp.prototype.kd=function(){return this.bd.timestampsInSnapshots},Mp);function Mp(t,e,n){var r=this;if(void 0===n&&(n=new mp),this.md=null,this.Ad=new Xh,this.INTERNAL={delete:function(){return y(r,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return this.Rd(),[4,this.Pd.terminate()];case 1:return t.sent(),[2]}})})}},"object"==typeof t.options){var i=t;this.md=i,this.ya=Mp.Vd(i),this.gd=i.name,this.yd=new Kf(e)}else{var o=t;if(!o.projectId)throw new Xr(Yr.INVALID_ARGUMENT,"Must provide projectId");this.ya=new jr(o.projectId,o.database),this.gd="[DEFAULT]",this.yd=new Xf}this.pd=n,this.bd=new Up({})}function Fp(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Xr(Yr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Tc("settings","non-empty string","host",t.host),this.host=t.host,Nc("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(Oc("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),Nc("settings","object","credentials",t.credentials),this.credentials=t.credentials,Nc("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),Nc("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?Ar("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&Ar("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,Nc("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=ec.dh;else{if(t.cacheSizeBytes!==Vp&&t.cacheSizeBytes<ec.fh)throw new Xr(Yr.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+ec.fh);this.cacheSizeBytes=t.cacheSizeBytes}Nc("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}function qp(t,e,n,r){this.s=t,this.timestampsInSnapshots=e,this.ud=n,this.ld=r}function Bp(t,e){var n=new Ip({next:function(){e.next&&e.next()},error:function(t){throw Sr()}});return t.Q_(n),function(){n.ad(),t.W_(n)}}var Gp,zp=(Kp.prototype.get=function(t){var n=this;wc("Transaction.get",arguments,1);var r=md("Transaction.get",t,this.xd);return this.Md.Mu([r.pa]).then(function(t){if(!t||1!==t.length)return Sr();var e=t[0];if(e instanceof hu)return new Zp(n.xd,r.pa,null,!1,!1,r.ba);if(e instanceof au)return new Zp(n.xd,r.pa,e,!1,!1,r.ba);throw Sr()})},Kp.prototype.set=function(t,e,n){Ic("Transaction.set",arguments,2,3);var r=md("Transaction.set",t,this.xd);n=yd("Transaction.set",n);var i=wd(r.ba,e,n),o=Pf(this.xd.vd,"Transaction.set",r.pa,i,null!==r.ba,n);return this.Md.set(r.pa,o),this},Kp.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return i="string"==typeof e||e instanceof Gc?(bc("Transaction.update",arguments,3),r=md("Transaction.update",t,this.xd),Of(this.xd.vd,"Transaction.update",r.pa,e,n,o)):(wc("Transaction.update",arguments,2),r=md("Transaction.update",t,this.xd),Rf(this.xd.vd,"Transaction.update",r.pa,e)),this.Md.update(r.pa,i),this},Kp.prototype.delete=function(t){wc("Transaction.delete",arguments,1);var e=md("Transaction.delete",t,this.xd);return this.Md.delete(e.pa),this},Kp),Hp=(Xp.prototype.set=function(t,e,n){Ic("WriteBatch.set",arguments,2,3),this.Bd();var r=md("WriteBatch.set",t,this.xd);n=yd("WriteBatch.set",n);var i=wd(r.ba,e,n),o=Pf(this.xd.vd,"WriteBatch.set",r.pa,i,null!==r.ba,n);return this.Od=this.Od.concat(o.va(r.pa,xs.Qe())),this},Xp.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.Bd(),i="string"==typeof e||e instanceof Gc?(bc("WriteBatch.update",arguments,3),r=md("WriteBatch.update",t,this.xd),Of(this.xd.vd,"WriteBatch.update",r.pa,e,n,o)):(wc("WriteBatch.update",arguments,2),r=md("WriteBatch.update",t,this.xd),Rf(this.xd.vd,"WriteBatch.update",r.pa,e)),this.Od=this.Od.concat(i.va(r.pa,xs.exists(!0))),this},Xp.prototype.delete=function(t){wc("WriteBatch.delete",arguments,1),this.Bd();var e=md("WriteBatch.delete",t,this.xd);return this.Od=this.Od.concat(new Ks(e.pa,xs.Qe())),this},Xp.prototype.commit=function(){return this.Bd(),this.Ld=!0,0<this.Od.length?this.xd.Rd().write(this.Od):Promise.resolve()},Xp.prototype.Bd=function(){if(this.Ld)throw new Xr(Yr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},Xp),Wp=(n(Yp,Gp=bf),Yp.$d=function(t,e,n){if(t.length%2!=0)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.N()+" has "+t.length);return new Yp(new ei(t),e,n)},Object.defineProperty(Yp.prototype,"id",{get:function(){return this.pa.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(Yp.prototype,"parent",{get:function(){return new ld(this.pa.path.p(),this.firestore,this.ba)},enumerable:!1,configurable:!0}),Object.defineProperty(Yp.prototype,"path",{get:function(){return this.pa.path.N()},enumerable:!1,configurable:!0}),Yp.prototype.collection=function(t){if(wc("DocumentReference.collection",arguments,1),Ec("DocumentReference.collection","non-empty string",1,t),!t)throw new Xr(Yr.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=$r.$(t);return new ld(this.pa.path.child(e),this.firestore,null)},Yp.prototype.isEqual=function(t){if(!(t instanceof Yp))throw kc("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.pa.isEqual(t.pa)&&this.ba===t.ba},Yp.prototype.set=function(t,e){Ic("DocumentReference.set",arguments,1,2),e=yd("DocumentReference.set",e);var n=wd(this.ba,t,e),r=Pf(this.firestore.vd,"DocumentReference.set",this.pa,n,null!==this.ba,e);return this.Pd.write(r.va(this.pa,xs.Qe()))},Yp.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof t||t instanceof Gc?(bc("DocumentReference.update",arguments,2),Of(this.firestore.vd,"DocumentReference.update",this.pa,t,e,r)):(wc("DocumentReference.update",arguments,1),Rf(this.firestore.vd,"DocumentReference.update",this.pa,t)),this.Pd.write(n.va(this.pa,xs.exists(!0)))},Yp.prototype.delete=function(){return wc("DocumentReference.delete",arguments,0),this.Pd.write([new Ks(this.pa,xs.Qe())])},Yp.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Ic("DocumentReference.onSnapshot",arguments,1,4);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||Lp(i[u])||(Oc("DocumentReference.onSnapshot",s=i[u],["includeMetadataChanges"]),Nc("DocumentReference.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),u++);var a={includeMetadataChanges:s.includeMetadataChanges};if(Lp(i[u])){var h=i[u];i[u]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[u+1]=null===(e=h.error)||void 0===e?void 0:e.bind(h),i[u+2]=null===(n=h.complete)||void 0===n?void 0:n.bind(h)}else Ec("DocumentReference.onSnapshot","function",u,i[u]),_c("DocumentReference.onSnapshot","function",u+1,i[u+1]),_c("DocumentReference.onSnapshot","function",u+2,i[u+2]);var c={next:function(t){i[u]&&i[u](r.qd(t))},error:i[u+1],complete:i[u+2]};return Qp(this.Pd,this.pa,a,c)},Yp.prototype.get=function(t){var e,n,r,i,o,s=this;return Ic("DocumentReference.get",arguments,0,1),gd("DocumentReference.get",t),t&&"cache"===t.source?this.firestore.Rd().rd(this.pa).then(function(t){return new Zp(s.firestore,s.pa,t,!0,t instanceof au&&t.Ge,s.ba)}):(e=this.Pd,n=this.pa,r=t,i=new aa,o=Qp(e,n,{includeMetadataChanges:!0,J_:!0},{next:function(t){o();var e=t.docs.has(n);!e&&t.fromCache?i.reject(new Xr(Yr.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&r&&"server"===r.source?i.reject(new Xr(Yr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(t)},error:function(t){return i.reject(t)}}),i.promise.then(function(t){return s.qd(t)}))},Yp.prototype.withConverter=function(t){return new Yp(this.pa,this.firestore,t)},Yp.prototype.qd=function(t){var e=t.docs.get(this.pa);return new Zp(this.firestore,this.pa,e,t.fromCache,t.hasPendingWrites,this.ba)},Yp);function Yp(t,e,n){var r=this;return(r=Gp.call(this,e.ya,t,n)||this).pa=t,r.firestore=e,r.ba=n,r.Pd=r.firestore.Rd(),r}function Xp(t){this.xd=t,this.Od=[],this.Ld=!1}function Kp(t,e){this.xd=t,this.Md=e}function Qp(t,e,n,r){var i=function(t){console.error("Uncaught Error in onSnapshot:",t)};r.error&&(i=r.error.bind(r));var o=new Ip({next:function(t){r.next&&r.next(t)},error:i}),s=t.listen(fu.hn(e.path),o,n);return function(){o.ad(),t.Rc(s)}}var Jp,$p=(rd.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},rd),Zp=(nd.prototype.data=function(t){var e=this;if(Ic("DocumentSnapshot.data",arguments,0,1),t=vd("DocumentSnapshot.data",t),this.Ud){if(this.ba){var n=new td(this.xd,this.pa,this.Ud,this.Qd,this.Wd,null);return this.ba.fromFirestore(n,t)}return new Cp(this.xd.ya,this.xd.kd(),t.serverTimestamps||"none",function(t){return new Wp(t,e.xd,null)})._d(this.Ud.tn())}},nd.prototype.get=function(t,e){var n=this;if(Ic("DocumentSnapshot.get",arguments,1,2),e=vd("DocumentSnapshot.get",e),this.Ud){var r=this.Ud.data().field(jf("DocumentSnapshot.get",t,this.pa));if(null!==r)return new Cp(this.xd.ya,this.xd.kd(),e.serverTimestamps||"none",function(t){return new Wp(t,n.xd,n.ba)})._d(r)}},Object.defineProperty(nd.prototype,"id",{get:function(){return this.pa.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(nd.prototype,"ref",{get:function(){return new Wp(this.pa,this.xd,this.ba)},enumerable:!1,configurable:!0}),Object.defineProperty(nd.prototype,"exists",{get:function(){return null!==this.Ud},enumerable:!1,configurable:!0}),Object.defineProperty(nd.prototype,"metadata",{get:function(){return new $p(this.Wd,this.Qd)},enumerable:!1,configurable:!0}),nd.prototype.isEqual=function(t){if(!(t instanceof nd))throw kc("isEqual","DocumentSnapshot",1,t);return this.xd===t.xd&&this.Qd===t.Qd&&this.pa.isEqual(t.pa)&&(null===this.Ud?null===t.Ud:this.Ud.isEqual(t.Ud))&&this.ba===t.ba},nd),td=(n(ed,Jp=Zp),ed.prototype.data=function(t){return Jp.prototype.data.call(this,t)},ed);function ed(){return null!==Jp&&Jp.apply(this,arguments)||this}function nd(t,e,n,r,i,o){this.xd=t,this.pa=e,this.Ud=n,this.Qd=r,this.Wd=i,this.ba=o}function rd(t,e){this.hasPendingWrites=t,this.fromCache=e}function id(t){if(t.mn()&&0===t.en.length)throw new Xr(Yr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var od,sd=(ad.prototype.Kd=function(t,e,n){var r;if(t.O()){if("array-contains"===e||"array-contains-any"===e)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+e+"' queries on FieldPath.documentId().");if("in"===e){this.Gd(n,e);for(var i=[],o=0,s=n;o<s.length;o++){var u=s[o];i.push(this.zd(u))}r={arrayValue:{values:i}}}else r=this.zd(n)}else"in"!==e&&"array-contains-any"!==e||this.Gd(n,e),r=kf(this.vd,"Query.where",n,"in"===e);var a=Eu.create(t,e,r);return this.Hd(a),a},ad.prototype.Yd=function(t,e){if(null!==this.jd.startAt)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.jd.endAt)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var n=new Gu(t,e);return this.Jd(n),n},ad.prototype.Xd=function(t,e,n){if(!e)throw new Xr(Yr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var r=[],i=0,o=this.jd.orderBy;i<o.length;i++){var s=o[i];if(s.field.O())r.push(Ao(this.ya,e.key));else{var u=e.field(s.field);if(po(u))throw new Xr(Yr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var a=s.field.N();throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+a+"' (used as the orderBy) does not exist.")}r.push(u)}}return new Lu(r,n)},ad.prototype.Zd=function(t,e,n){var r=this.jd.en;if(e.length>r.length)throw new Xr(Yr.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.O()){if("string"!=typeof s)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.jd.Vn()&&-1!==s.indexOf("/"))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var u=this.jd.path.child($r.$(s));if(!ei.W(u))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+u+"' is not because it contains an odd number of segments.");var a=new ei(u);i.push(Ao(this.ya,a))}else{var h=kf(this.vd,t,s);i.push(h)}}return new Lu(i,n)},ad.prototype.zd=function(t){if("string"==typeof t){if(""===t)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.jd.Vn()&&-1!==t.indexOf("/"))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.jd.path.child($r.$(t));if(!ei.W(e))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return Ao(this.ya,new ei(e))}if(t instanceof bf)return Ao(this.ya,t.pa);throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Pc(t)+".")},ad.prototype.Gd=function(t,e){if(!Array.isArray(t)||0===t.length)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(0<=t.indexOf(null))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(0<t.filter(function(t){return Number.isNaN(t)}).length)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},ad.prototype.Hd=function(t){if(t instanceof Eu){var e=["array-contains","array-contains-any"],n=["in","array-contains-any"],r=0<=e.indexOf(t.op),i=0<=n.indexOf(t.op);if(t.An()){var o=this.jd.an();if(null!==o&&!o.isEqual(t.field))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this.jd.un();null!==s&&this.tw(t.field,s)}else if(i||r){var u=null;if(i&&(u=this.jd.Rn(n)),null===u&&r&&(u=this.jd.Rn(e)),null!==u)throw u===t.op?new Xr(Yr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Xr(Yr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+u.toString()+"' filters.")}}},ad.prototype.Jd=function(t){if(null===this.jd.un()){var e=this.jd.an();null!==e&&this.tw(e,t.field)}},ad.prototype.tw=function(t,e){if(!e.isEqual(t))throw new Xr(Yr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},n(ud,od=ad),ud.prototype.where=function(t,e,n){wc("Query.where",arguments,3),Rc("Query.where",3,n);var r=xc("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,e),i=jf("Query.where",t),o=this.Kd(i,r,n);return new ud(this.jd.cn(o),this.firestore,this.ba)},ud.prototype.orderBy=function(t,e){var n;if(Ic("Query.orderBy",arguments,1,2),_c("Query.orderBy","non-empty string",2,e),void 0===e||"asc"===e)n="asc";else{if("desc"!==e)throw new Xr(Yr.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+e+"', expected 'asc' or 'desc'.");n="desc"}var r=jf("Query.orderBy",t),i=this.Yd(r,n);return new ud(this.jd.ln(i),this.firestore,this.ba)},ud.prototype.limit=function(t){return wc("Query.limit",arguments,1),Ec("Query.limit","number",1,t),Lc("Query.limit",1,t),new ud(this.jd._n(t),this.firestore,this.ba)},ud.prototype.limitToLast=function(t){return wc("Query.limitToLast",arguments,1),Ec("Query.limitToLast","number",1,t),Lc("Query.limitToLast",1,t),new ud(this.jd.fn(t),this.firestore,this.ba)},ud.prototype.startAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];bc("Query.startAt",arguments,1);var r=this.ew("Query.startAt",t,e,!0);return new ud(this.jd.dn(r),this.firestore,this.ba)},ud.prototype.startAfter=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];bc("Query.startAfter",arguments,1);var r=this.ew("Query.startAfter",t,e,!1);return new ud(this.jd.dn(r),this.firestore,this.ba)},ud.prototype.endBefore=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];bc("Query.endBefore",arguments,1);var r=this.ew("Query.endBefore",t,e,!0);return new ud(this.jd.wn(r),this.firestore,this.ba)},ud.prototype.endAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];bc("Query.endAt",arguments,1);var r=this.ew("Query.endAt",t,e,!1);return new ud(this.jd.wn(r),this.firestore,this.ba)},ud.prototype.isEqual=function(t){if(!(t instanceof ud))throw kc("isEqual","Query",1,t);return this.firestore===t.firestore&&vu(this.jd,t.jd)&&this.ba===t.ba},ud.prototype.withConverter=function(t){return new ud(this.jd,this.firestore,t)},ud.prototype.ew=function(t,e,n,r){if(Rc(t,1,e),e instanceof Zp)return wc(t,d([e],n),1),this.Xd(t,e.Ud,r);var i=[e].concat(n);return this.Zd(t,i,r)},ud.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Ic("Query.onSnapshot",arguments,1,4);var s={},u=0;if("object"!=typeof i[u]||Lp(i[u])||(Oc("Query.onSnapshot",s=i[u],["includeMetadataChanges"]),Nc("Query.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),u++),Lp(i[u])){var a=i[u];i[u]=null===(t=a.next)||void 0===t?void 0:t.bind(a),i[u+1]=null===(e=a.error)||void 0===e?void 0:e.bind(a),i[u+2]=null===(n=a.complete)||void 0===n?void 0:n.bind(a)}else Ec("Query.onSnapshot","function",u,i[u]),_c("Query.onSnapshot","function",u+1,i[u+1]),_c("Query.onSnapshot","function",u+2,i[u+2]);var h={next:function(t){i[u]&&i[u](new fd(r.firestore,r.jd,t,r.ba))},error:i[u+1],complete:i[u+2]};return id(this.jd),hd(this.firestore.Rd(),this.jd,s,h)},ud.prototype.get=function(t){var e=this;Ic("Query.get",arguments,0,1),gd("Query.get",t),id(this.jd);var n,r,i,o,s,u=this.firestore.Rd();return(t&&"cache"===t.source?u.od(this.jd):(n=u,r=this.jd,i=t,o=new aa,s=hd(n,r,{includeMetadataChanges:!0,J_:!0},{next:function(t){s(),t.fromCache&&i&&"server"===i.source?o.reject(new Xr(Yr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(t)},error:function(t){return o.reject(t)}}),o.promise)).then(function(t){return new fd(e.firestore,e.jd,t,e.ba)})},ud);function ud(t,e,n){var r=this;return(r=od.call(this,e.ya,e.vd,t)||this).jd=t,r.firestore=e,r.ba=n,r}function ad(t,e,n){this.ya=t,this.vd=e,this.jd=n}function hd(t,e,n,r){var i=function(t){console.error("Uncaught Error in onSnapshot:",t)};r.error&&(i=r.error.bind(r));var o=new Ip({next:function(t){r.next&&r.next(t)},error:i}),s=t.listen(e,o,n);return function(){o.ad(),t.Rc(s)}}var cd,fd=(Object.defineProperty(dd.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(dd.prototype,"empty",{get:function(){return this.sw.docs._()},enumerable:!1,configurable:!0}),Object.defineProperty(dd.prototype,"size",{get:function(){return this.sw.docs.size},enumerable:!1,configurable:!0}),dd.prototype.forEach=function(e,n){var r=this;Ic("QuerySnapshot.forEach",arguments,1,2),Ec("QuerySnapshot.forEach","function",1,e),this.sw.docs.forEach(function(t){e.call(n,r.ow(t,r.metadata.fromCache,r.sw.Lt.has(t.key)))})},Object.defineProperty(dd.prototype,"query",{get:function(){return new sd(this.nw,this.xd,this.ba)},enumerable:!1,configurable:!0}),dd.prototype.docChanges=function(t){t&&(Oc("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),Nc("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.sw.qt)throw new Xr(Yr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.iw&&this.rw===e||(this.iw=function(i,e,o){if(i.Ot._()){var n=0;return i.docChanges.map(function(t){var e=o(t.doc,i.fromCache,i.Lt.has(t.doc.key));return t.doc,{type:"added",doc:e,oldIndex:-1,newIndex:n++}})}var s=i.Ot;return i.docChanges.filter(function(t){return e||3!==t.type}).map(function(t){var e=o(t.doc,i.fromCache,i.Lt.has(t.doc.key)),n=-1,r=-1;return 0!==t.type&&(n=s.indexOf(t.doc.key),s=s.delete(t.doc.key)),1!==t.type&&(r=(s=s.add(t.doc)).indexOf(t.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Sr()}}(t.type),doc:e,oldIndex:n,newIndex:r}})}(this.sw,e,this.ow.bind(this)),this.rw=e),this.iw},dd.prototype.isEqual=function(t){if(!(t instanceof dd))throw kc("isEqual","QuerySnapshot",1,t);return this.xd===t.xd&&vu(this.nw,t.nw)&&this.sw.isEqual(t.sw)&&this.ba===t.ba},dd.prototype.ow=function(t,e,n){return new td(this.xd,t.key,t,e,n,this.ba)},dd),ld=(n(pd,cd=sd),Object.defineProperty(pd.prototype,"id",{get:function(){return this.jd.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(pd.prototype,"parent",{get:function(){var t=this.jd.path.p();return t._()?null:new Wp(new ei(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(pd.prototype,"path",{get:function(){return this.jd.path.N()},enumerable:!1,configurable:!0}),pd.prototype.doc=function(t){Ic("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Or.t()),Ec("CollectionReference.doc","non-empty string",1,t);var e=$r.$(t);return Wp.$d(this.jd.path.child(e),this.firestore,this.ba)},pd.prototype.add=function(t){wc("CollectionReference.add",arguments,1),Ec("CollectionReference.add","object",1,this.ba?this.ba.toFirestore(t):t);var e=this.doc();return e.set(t).then(function(){return e})},pd.prototype.withConverter=function(t){return new pd(this.hw,this.firestore,t)},pd);function pd(t,e,n){var r=this;if(((r=cd.call(this,fu.hn(t),e,n)||this).hw=t).length%2!=1)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.N()+" has "+t.length);return r}function dd(t,e,n,r){this.xd=t,this.nw=e,this.sw=n,this.ba=r,this.iw=null,this.rw=null,this.metadata=new $p(n.hasPendingWrites,n.fromCache)}function yd(t,e){if(void 0===e)return{merge:!1};if(Oc(t,e,["merge","mergeFields"]),Nc(t,"boolean","merge",e.merge),n=t,void 0!==(r=e.mergeFields)&&function(t,e,n,r){if(!(n instanceof Array))throw new Xr(Yr.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Pc(n));for(var i=0;i<n.length;++i)if(!r(n[i]))throw new Xr(Yr.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+i+" was: "+Pc(n[i]))}(n,"mergeFields",r,function(t){return"string"==typeof t||t instanceof Gc}),void 0!==e.mergeFields&&void 0!==e.merge)throw new Xr(Yr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n,r;return e}function vd(t,e){return void 0===e?{}:(Oc(t,e,["serverTimestamps"]),Ac(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function gd(t,e){_c(t,"object",1,e),e&&(Oc(t,e,["source"]),Ac(t,0,"source",e.source,["default","server","cache"]))}function md(t,e,n){if(e instanceof bf){if(e.firestore!==n)throw new Xr(Yr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw kc(t,"DocumentReference",1,e)}function wd(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var bd,Id={Firestore:jp,GeoPoint:cf,Timestamp:Kr,Blob:qc,Transaction:zp,WriteBatch:Hp,DocumentReference:Wp,DocumentSnapshot:Zp,Query:sd,QueryDocumentSnapshot:td,QuerySnapshot:fd,CollectionReference:ld,FieldPath:Gc,FieldValue:af,setLogLevel:jp.setLogLevel,CACHE_SIZE_UNLIMITED:Vp};(bd=Ed).INTERNAL.registerComponent(new br("firestore",function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),new jp(e,n,new wp);var e,n},"PUBLIC").setServiceProps(Object.assign({},Id))),bd.registerVersion("@firebase/firestore","1.16.0")}).apply(this,arguments)}catch(t){throw console.error(t),new Error("Cannot instantiate firebase-firestore.js - be sure to load firebase-app.js first.")}});